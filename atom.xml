<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>youmingsama</title>
  
  
  <link href="https://blog.youmingsama.cn/atom.xml" rel="self"/>
  
  <link href="https://blog.youmingsama.cn/"/>
  <updated>2022-11-08T00:00:00.000Z</updated>
  <id>https://blog.youmingsama.cn/</id>
  
  <author>
    <name>youmingsama</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>rustå­¦ä¹ èµ„æºä¸è¿›é˜¶èµ„æ–™</title>
    <link href="https://blog.youmingsama.cn/posts/e0da0190/"/>
    <id>https://blog.youmingsama.cn/posts/e0da0190/</id>
    <published>2022-11-08T00:00:00.000Z</published>
    <updated>2022-11-08T00:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="rustå­¦ä¹ èµ„æºä¸è¿›é˜¶èµ„æ–™"><a class="markdownIt-Anchor" href="#rustå­¦ä¹ èµ„æºä¸è¿›é˜¶èµ„æ–™"></a> rustå­¦ä¹ èµ„æºä¸è¿›é˜¶èµ„æ–™</h2><ul><li>2022/10/17 æ–°å¢ <a href="https://github.com/smallnest/concurrency-programming-via-rust">smallnest/concurrency-programming-via-rust ã€ŠRust å¹¶å‘ç¼–ç¨‹å®æˆ˜è¯¾ã€‹</a><br />2022/09/26 æ–°å¢ <a href="https://jinleili.github.io/learn-wgpu-zh/">Learn wgpu ä¸­æ–‡ç‰ˆ</a> , <a href="https://kylemayes.github.io/vulkanalia/introduction.html">Vulkan Tutorial(Rust)</a><br />2022/08/24 æ–°å¢ <a href="https://github.com/awesome-kusion/rust-code-book">Rust æºç å‰–æ ä¸­æ–‡ç‰ˆ</a><br />2022/08/24 æ–°å¢ <a href="https://github.com/Boshen/javascript-parser-in-rust">Boshen/javascript-parser-in-rust</a> <a href="https://litchipi.github.io/series/container_in_rust">Writing a container in Rust</a><br />2022/07/05 æ–°å¢ <a href="https://www.youtube.com/watch?v=rDoqT-a6UFg">Visualizing memory layout of Rustâ€™s data types</a> <a href="https://learningos.github.io/rust-based-os-comp2022/">2022 å¹´å¼€æºæ“ä½œç³»ç»Ÿè®­ç»ƒè¥</a><br />2022/07/02 æ–°å¢ <a href="https://www.youtube.com/watch?v=rHRBJKWbbw0">Building a Pixel Editor in Rust &amp; WebAssembly (and Javascript)</a> <a href="https://bugzmanov.github.io/nes_ebook/chapter_1.html">Writing NES Emulator in Rust</a><br />2022/05/07 æ–°å¢ <a href="https://vishpat.github.io/lisp-rs/">Lisp interpreter in Rust</a><br />2022/05/07 æ–°å¢ <a href="https://blog.fudenglong.site/Programming-Rust/">ã€ŠProgramming Rust, 2nd Editionã€‹ç®€å•çš„ç¿»è¯‘</a> å’Œ <a href="https://github.com/rustlang-cn/Rustt">rustlang-cn/Rustt</a><br />2022/04/25 æ–°å¢ä¸€ä¸ªé“¾æ¥ <a href="https://apollolabsblog.hashnode.dev/35-rust-learning-resources-every-beginner-should-know-in-2022">35 Rust Learning Resources Every Beginner Should Know in 2022</a><br />2022/04/19 æ–°å¢ä¸€ä¸ªè¿›é˜¶é“¾æ¥ <a href="https://github.com/Warrenren/inside-rust-std-library">Warrenren/inside-rust-std-library</a><br />2022/03/27 æ–°å¢ä¸€ä¸ªè¿›é˜¶é“¾æ¥<br />2022/03/15 æ–°å¢ä¸€ä¸ªåŸºç¡€é“¾æ¥<br />2022/03/13 æ–°å¢ä¸€ä¸ªè¿›é˜¶é“¾æ¥<br />2022/03/11 æ–°å¢ä¸¤ä¸ªæ¸¸æˆå¼€å‘ç›¸å…³çš„é“¾æ¥</li></ul><h2 id="åŸºç¡€"><a class="markdownIt-Anchor" href="#åŸºç¡€"></a> åŸºç¡€</h2><ul><li>The Rust Programming Language<ul><li>å ªç§° Rust çš„ â€œThe Bookâ€ï¼Œæ˜¯ç›®å‰æœ€æƒå¨çš„ Rust ç³»ç»Ÿæ•™ç¨‹ï¼Œå…¥é—¨å¿…è¯»ï¼Œæœ€è¿‘ä¹Ÿæ›´æ–°åˆ°äº† 2021 ç‰ˆæœ¬ã€‚</li><li><a href="https://kaisery.github.io/trpl-zh-cn/title-page.html">ä¸­æ–‡ç‰ˆ (ç»å¸¸æ›´æ–°)</a> <a href="https://rustwiki.org/zh-CN/book/">rustwiki ä¸­æ–‡ç‰ˆ</a></li></ul></li><li>Rust by Example<ul><li>å®ä¾‹åŒ–çš„è®²è§£æ–¹æ³•ï¼Œé€šè¿‡ä¸€ä¸ªä¸ªå¯å®é™…è¿è¡Œçš„ä¾‹å­å»ä»‹ç» Rust çš„ç‰¹æ€§å’Œç”¨æ³•ï¼Œæœ‰çš„æ—¶å€™ï¼Œä»£ç æ˜¯æœ€å¥½çš„è€å¸ˆã€‚</li><li><a href="https://rustwiki.org/zh-CN/rust-by-example/">ä¸­æ–‡ç‰ˆ</a></li></ul></li><li>The Rust primer for beginners<ul><li>ç»™åˆå­¦è€…çš„ Rust ä¸­æ–‡æ•™ç¨‹ã€‚</li></ul></li><li>Rust å…¥é—¨ç§˜ç±<ul><li>è¿™æ˜¯ä¸€æœ¬ Rust çš„å…¥é—¨ä¹¦ç±ï¼Œç›¸æ¯”å®˜æ–¹ä¹¦ç±ã€ŠThe Rust Programming Languageã€‹ï¼Œæœ¬ä¹¦è¦æ›´è¯¦ç»†ã€æ›´å…·ç³»ç»Ÿæ€§ï¼Œæœ¬ä¹¦ä¹Ÿå°½é‡è¿½æ±‚å‡†ç¡®æ€§ã€‚</li></ul></li><li>Rust First Steps<ul><li>å¾®è½¯çš„ Rust æ•™ç¨‹ï¼Œç®€çŸ­ç²¾ç‚¼ï¼Œé€‚åˆåˆå­¦è€…ã€‚</li><li><a href="https://docs.microsoft.com/zh-cn/learn/paths/rust-first-steps/">å®˜æ–¹ä¸­æ–‡</a></li></ul></li><li>Rust Cookbook<ul><li>Rust ç¨‹åºè®¾è®¡è¯­è¨€ï¼ˆ<a href="https://rustwiki.org/zh-CN/book">Rust å®˜æ–¹æ•™ç¨‹ç®€ä½“ä¸­æ–‡ç‰ˆ</a>ï¼‰çš„ç®€è¦å®ä¾‹ç¤ºä¾‹é›†åˆï¼šå±•ç¤ºäº†åœ¨ Rust ç”Ÿæ€ç³»ç»Ÿä¸­ï¼Œä½¿ç”¨å„ç±» crate æ¥å®Œæˆå¸¸è§ç¼–ç¨‹ä»»åŠ¡çš„è‰¯å¥½å®è·µã€‚</li><li><a href="https://rustwiki.org/zh-CN/rust-cookbook/">ä¸­æ–‡ç‰ˆ</a></li></ul></li><li>Rustlings<ul><li>å®˜æ–¹å‡ºå“ï¼Œæ¶µç›–å¤§é‡å°ç»ƒä¹ ï¼Œæ‰“æ€ªé€šå…³å­¦ä¹  Rustã€‚</li><li>Jetbrains IDE å¯ä»¥ç›´æ¥<a href="https://plugins.jetbrains.com/plugin/16631-rustlings">ä¸‹è½½è¯¾ç¨‹</a>ï¼Œç¼–è¾‘å™¨å†…å†™ä»£ç åšç»ƒä¹ ã€‚</li></ul></li><li>Learning Rust With Entirely Too Many Linked Lists<ul><li>é€šè¿‡å†™åŒé“¾è¡¨æ¥å­¦ä¹  Rust</li></ul></li><li>Read Rust - Getting Started<ul><li><a href="https://readrust.net/">Read Rust</a> æ˜¯ä¸€ä¸ªé›†åˆäº†æœ‰ä»·å€¼çš„ Rust æ–‡ç«  / åšå®¢çš„ç½‘ç«™ï¼Œå…¶ä¸­ <a href="https://readrust.net/getting-started">Getting Started</a> éƒ¨åˆ†æœ‰å„ç§ Rust çŸ¥è¯†ç‚¹ç›¸å…³çš„ååˆ†ä¼˜ç§€çš„æ–‡ç« ã€‚</li></ul></li><li>Stanford CS 110Lï¼šSafety in Systems Programming<ul><li>This class is focused on safety and robustness in systems programming. We will use the Rust programming language as a vehicle to teach mental models and paradigms that have been shown to be helpful in preventing errors, and we will look at how these features have made their way back into C++.</li><li><a href="https://www.bilibili.com/video/BV1Ra411A7kN">2020 å¹´è¯¾ç¨‹çš„ B ç«™ä¸­æ–‡å­—å¹•ç‰ˆ</a></li><li><a href="https://reberhardt.com/cs110l/spring-2021/">2021 å¹´è¯¾ç¨‹ä¸»é¡µ</a>ã€<a href="https://web.stanford.edu/class/cs110l/">2022 å¹´è¯¾ç¨‹ä¸»é¡µ</a></li></ul></li><li>Rust è¯­è¨€åœ£ç» (Rust æ•™ç¨‹ Rust Course)<ul><li><a href="https://github.com/sunface/rust-course">rust-course</a> å›½äººå†™çš„ Rust æ•™ç¨‹ï¼Œå¯¹ Rust è¯­è¨€è¿›è¡Œå…¨é¢ä¸”æ·±å…¥çš„è®²è§£ï¼Œä¹¦ä¸­è¾…ä»¥ç”ŸåŠ¨çš„ç¤ºä¾‹å’Œä¹ é¢˜ã€‚</li></ul></li><li>Rust å®˜æ–¹æ–‡æ¡£ä¸­æ–‡æ•™ç¨‹<ul><li><a href="https://github.com/rust-lang-cn">rust-lang-cn ç»„ç»‡</a>ç¿»è¯‘çš„å®˜æ–¹æ–‡æ¡£ï¼Œå¦å¤–è¿™ä¸ªç»„ç»‡ä¹Ÿç¿»è¯‘äº†å¾ˆå¤š Rust ç›¸å…³çš„ä¹¦ç±ã€‚</li></ul></li><li>Visualizing memory layout of Rustâ€™s data types<ul><li>å¯è§†åŒ–äº† Rust çš„ç±»å‹åœ¨å†…å­˜ä¸­çš„å¸ƒå±€ï¼Œå…¥é—¨å¿…çœ‹ã€‚</li></ul></li><li>Rust å®è·µæŒ‡å—<ul><li><a href="https://github.com/zzy/rust-guide">zzy/rust-guide</a> ã€ŠRust å®è·µæŒ‡å—ã€‹ï¼Œèšç„¦é‡è¦çš„ä¸»é¢˜ï¼Œå±•ç¤ºå¯èƒ½çš„è§£å†³æ–¹æ¡ˆã€‚ä»¥å¼€å‘ä¸­çš„å®é™…é—®é¢˜ä¸ºå¯¼å‘ï¼Œä»¥ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆä¸ºç›®æ ‡ï¼Œä»¥å®Œæ•´çš„å®ä¾‹å®è·µè§£å†³æ–¹æ¡ˆã€‚</li></ul></li><li>Bilibiliï¼šè½¯ä»¶å·¥è‰ºå¸ˆ<ul><li>å¾®è½¯ MVPï¼Œåšäº†ä¸å°‘ C#ã€Goã€Rust çš„æ•™ç¨‹ï¼Œå…¶ä¸­ Rust ç›¸å…³çš„æœ‰ <a href="https://www.bilibili.com/video/BV1hp4y1k7SV">Rust ç¼–ç¨‹è¯­è¨€å…¥é—¨æ•™ç¨‹</a> å’Œ <a href="https://www.bilibili.com/video/BV1RP4y1G7KF">Rust Web å…¨æ ˆå¼€å‘æ•™ç¨‹</a></li></ul></li><li><a href="https://cheats.rs/">Rust Language Cheat Sheet</a></li><li><a href="http://quickref.me">quickref.me</a> Rust cheatsheet<ul><li><a href="http://quickref.me/">quickref.me</a> æ˜¯ä¸€ä¸ªæ±‡èšäº†å¤§éƒ¨åˆ†è¯­è¨€çš„è¯­æ³•ç´¢å¼•é¡µï¼Œå…¶ä¸­ä¹ŸåŒ…å«äº† Rust, å¯ä»¥å¸®åŠ©å¤§å®¶å¿«é€Ÿæ‰¾åˆ°æƒ³ç”¨çš„è¯­æ³•ã€‚</li></ul></li><li>rust-lang/api-guidelines<ul><li><a href="https://zjp-cn.github.io/api-guidelines/about.html">ä¸­æ–‡ç‰ˆï¼šRust API ç¼–å†™æŒ‡å—</a> è¿™æ˜¯ä¸€ç»„å…³äºå¦‚ä½•è®¾è®¡å’Œå‘ˆç° Rust APIs çš„å»ºè®®ã€‚ è¿™äº›å»ºè®®ä¸»è¦ç”± Rust library å›¢é˜Ÿç¼–å†™ï¼Œ æ€»ç»“äº† Rust ç”Ÿæ€ä¸‹æ„å»ºæ ‡å‡†åº“å’Œå…¶ä»– crates çš„ç»éªŒã€‚</li></ul></li><li>ã€ŠProgramming Rust, 2nd Editionã€‹ç®€å•çš„ç¿»è¯‘<ul><li>ç¬¬ä¸€ç‰ˆå›¾çµç¤¾åŒºæœ‰ç¿»è¯‘ï¼š<a href="https://www.ituring.com.cn/book/2101">Rust ç¨‹åºè®¾è®¡</a>ï¼Œç¬¬äºŒç‰ˆå¤šäº†ä¸¤ç« ï¼Œå¯ä»¥è€ƒè™‘ä¹°ç¬¬ä¸€ç‰ˆçš„ç”µå­ç‰ˆ pdfã€‚</li></ul></li><li>rustlang-cn/Rustt<ul><li>RustCn ç¿»è¯‘è®¡åˆ’ï¼Œç¿»è¯‘ä¸€äº› Rust çš„æŠ€æœ¯æ–‡ç« ã€‚</li></ul></li><li>suhanyujie/article-transfer-rs<ul><li>ä¸€äº› Rust/Go æ–‡ç« ç¿»è¯‘</li></ul></li></ul><h2 id="è¿›é˜¶"><a class="markdownIt-Anchor" href="#è¿›é˜¶"></a> è¿›é˜¶</h2><ul><li><p><a href="https://doc.rust-lang.org/std/index.html">Rust Standard Library Reference</a></p></li><li><p>The Rust Reference</p><ul><li>Rust è¯­è¨€çš„ reference manualï¼Œä½ åº”è¯¥æ”¶è—å¥½ï¼Œä»¥ä¾¿äºåœ¨å¯¹æŸä¸ªè¯­è¨€ç»†èŠ‚ä¸æ¸…æ¥šæ—¶åœ¨è¿™é‡Œè¿›è¡ŒæŸ¥é˜…ã€‚</li><li><a href="https://rustwiki.org/zh-CN/reference/">ä¸­æ–‡ç‰ˆ</a></li></ul></li><li><p><a href="https://doc.rust-lang.org/nightly/unstable-book/index.html">The unsafe Book</a></p></li><li><p>The Rustonomicon</p><ul><li>Rust æ­»çµä¹¦ä¸»è¦è®² Rust é«˜çº§ç‰¹æ€§ï¼Œå¦‚ä½•ä½¿ç”¨ unsafe Rustã€‚</li><li><a href="https://nomicon.purewhite.io/">ä¸­æ–‡ç‰ˆ</a></li></ul></li><li><p>The Little Book of Rust Macros</p><ul><li>å¯¹äº Rust å®æœ‰è¯¦ç»†çš„è®²è§£ï¼Œé‡Œé¢çš„æ³¨é‡Šå¾ˆå…¨é¢ã€‚</li><li><a href="https://zjp-cn.github.io/tlborm/">ä¸­æ–‡ç‰ˆ</a></li></ul></li><li><p>smallnest/concurrency-programming-via-rust ã€ŠRust å¹¶å‘ç¼–ç¨‹å®æˆ˜è¯¾ã€‹</p><ul><li>ã€ŠGo å¹¶å‘ç¼–ç¨‹å®æˆ˜è¯¾ã€‹çš„ä½œè€…é¸Ÿçªç³»ç»Ÿæ•´ç†çš„ Rust çš„å¹¶å‘ç¼–ç¨‹çš„ç›¸å…³èµ„æ–™ã€‚ä¸»è¦æ˜¯ä»å…¥é—¨å…¥æ‰‹ï¼Œè®©å¤§å®¶äº†è§£å’Œç†Ÿæ‚‰è¿™äº›å¹¶å‘åŸè¯­ï¼Œåœ¨å·¥ä½œä¸­ç”¨èµ·æ¥ã€‚</li><li>å¦å¤–ï¼Œmouse å§å§ä¹Ÿæœ‰ç›¸å…³çš„ä¹¦å°†è¦å‡ºç‰ˆ<a href="https://www.amazon.com/Rust-Atomics-Locks-Low-Level-Concurrency/dp/1098119444">ã€ŠRust Atomics and Locks: Low-Level Concurrency in Practiceã€‹</a>ã€‚</li></ul></li><li><p>Asynchronous Programming in Rust</p><ul><li><a href="https://github.com/bestgopher/rust-async-book">ä¸æ˜¯å¾ˆæ–°çš„ä¸­æ–‡ç‰ˆ</a></li></ul></li><li><p><a href="https://locka99.gitbooks.io/a-guide-to-porting-c-to-rust/content/">A Guide to Porting C/C++ to Rust</a></p></li><li><p>The Rust FFI Omnibus</p><ul><li>ä½¿ç”¨ Rust ç¼–å†™ä»£ç ç”¨åˆ°å…¶ä»–è¯­è¨€çš„ç¤ºä¾‹é›†åˆ.</li><li><a href="http://llever.com/rust-ffi-omnibus/">ä¸­æ–‡ç‰ˆ</a></li></ul></li><li><p><a href="https://www.youtube.com/channel/UC_iD0xppBwwsrM9DegC5cQQ">Jon Gjengset YouTube Channel</a> (<a href="https://www.youtube.com/watch?v=rAl-9HwD858&amp;list=PLqbS7AVVErFiWDOAVrPt7aYmnuuOLYvOa">Crust of Rust Playlist</a>)</p></li><li><p>Rust Design Patterns</p><ul><li>æœ‰è®¸å¤šé—®é¢˜å…·æœ‰å…±åŒçš„å½¢å¼ã€‚ç”±äºäº‹å®ä¸Š Rust å¹¶ä¸å®Œå…¨æ˜¯é¢å‘å¯¹è±¡çš„ï¼Œè®¾è®¡æ¨¡å¼ä¹Ÿä¸å…¶ä»–é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ä¸åŒã€‚ ç»†èŠ‚ä¸åŒçš„åŒæ—¶ï¼Œå› ä¸ºä»–ä»¬æœ‰ç›¸åŒçš„å½¢å¼ï¼Œä»–ä»¬å¯ä»¥ç”¨åŒæ ·çš„åŸºæœ¬æ–¹æ³•è§£å†³ã€‚</li><li><a href="http://chuxiuhong.com/chuxiuhong-rust-patterns-zh/">ä¸­æ–‡ç‰ˆ</a></li></ul></li><li><p>The Rust Performance Book</p><ul><li>ä»‹ç»å¾ˆå¤šä¼˜åŒ– Rust ç¨‹åºæ€§èƒ½çš„å·¥å…·ã€æŠ€å·§ã€è°ƒè¯•æ–¹æ³•ç­‰æ–¹é¢çš„ä¹¦ã€‚</li></ul></li><li><p>Problem-solving with algorithms and data structures using Rust</p><ul><li>å›½äººå†™çš„ä¸€æœ¬ Rust ä¹¦ç±ï¼ŒåŒ…æ‹¬ç®—æ³•åˆ†æï¼ŒåŸºæœ¬æ•°æ®ç»“æ„å’Œç®—æ³•ï¼Œå¤–åŠ ä¸€äº›å®æˆ˜ã€‚</li></ul></li><li><p>Rust æºç å‰–æ ä¸­æ–‡ç‰ˆ</p><ul><li>å›½äººå†™çš„ä¸€æœ¬ Rust ä¹¦ç±ï¼Œé’ˆå¯¹ Rust è¯­è¨€æœ¬èº«å’Œå¼€æºåº“çš„ä»£ç è¿›è¡Œåˆ†æã€‚</li></ul></li><li><p>dtolnay/case-studies</p><ul><li>dtolnay æ˜¯ anyhow, thiserror, cxx ç­‰åº“çš„ä½œè€…ï¼Œè¿™æ˜¯ä»–å¯¹ä¸€äº› tricky Rust code çš„åˆ†æã€‚</li></ul></li><li><p>Bilibiliï¼šDatabend</p><ul><li>Databend ç¤¾åŒºæŒç»­åšäº†ä¸å°‘ Rust çš„å…¬å¼€è¯¾ã€‚<a href="https://github.com/wubx/rust-in-databend/">ä»“åº“åœ°å€</a></li></ul></li><li><p>Bilibiliï¼šçˆ†ç±³èŠ±èƒ¡äº†</p><ul><li>è¿™ä¸ª up ä¸»åšäº†å¾ˆå¤š Rust è¿‡ç¨‹å®çš„è§†é¢‘æ•™ç¨‹ã€‚</li></ul></li><li><p>Bilibiliï¼šå–œæ¬¢å†å²çš„ç¨‹åºå›</p><ul><li>é™ˆå¤©åœ¨æå®¢æ—¶é—´å¼€äº†é—¨ Rust çš„è¯¾ï¼ŒåŒæ—¶ä¹Ÿåœ¨æŒç»­è¾“å‡ºä¸€äº› Rust è§†é¢‘æ•™ç¨‹ã€‚</li></ul></li><li><p>KAIST CS431: Concurrent Programming</p><p>Github repo</p><ul><li>æœ¬è¯¾ç¨‹é¢å‘å¯¹å¹¶è¡Œè®¡ç®—æœºç³»ç»Ÿçš„ç°ä»£ç†è®ºå’Œå®è·µæ„Ÿå…´è¶£çš„è®¡ç®—æœºç§‘å­¦ï¼ˆæˆ–ç›¸å…³å­¦ç§‘ï¼‰çš„é«˜å¹´çº§æœ¬ç§‘ç”Ÿï¼ˆæˆ–ç ”ç©¶ç”Ÿï¼‰ã€‚</li></ul></li><li><p>Rust for the Polyglot Programmer</p><ul><li>é¢å¯¹æœ‰ç»éªŒçš„ç¨‹åºå‘˜çš„ Rust æŒ‡å—ã€‚</li></ul></li><li><p>High Assurance Rust: Developing Secure and Robust Software</p><ul><li>æœ¬ä¹¦ä»‹ç»äº†å¦‚ä½•æ„å»ºæˆ‘ä»¬å¯ä»¥åˆç†ä¿¡ä»» (justifiably trust) çš„é«˜æ€§èƒ½è½¯ä»¶ã€‚è¿™æ„å‘³ç€æœ‰è¶³å¤Ÿçš„æ•°æ®æ¥æ”¯æŒå¯¹æˆ‘ä»¬ä»£ç çš„åŠŸèƒ½å’Œå®‰å…¨æ€§çš„ä¿¡å¿ƒã€‚å¯ä¿¡æ€§æ˜¯é«˜å®‰å…¨æ€§ (high assurance) è½¯ä»¶çš„ä¸€ä¸ªæ ‡å¿—ã€‚</li></ul></li><li><p>Warrenren/inside-rust-std-library</p><ul><li>æœ¬ä¹¦ä¸»è¦å¯¹ Rust çš„æ ‡å‡†åº“ä»£ç è¿›è¡Œåˆ†æã€‚æŒ‰ç…§å†…å­˜ç›¸å…³ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹ï¼Œops Trait, Option ç±»å‹ï¼ŒResult ç±»å‹ï¼ŒIteratorï¼Œåˆ‡ç‰‡ç±»å‹ï¼Œæ™ºèƒ½æŒ‡é’ˆç±»å‹ç­‰é€ä¸€è¿›è¡Œæºç åˆ†æã€‚</li></ul></li></ul><h2 id="æœ‰æ½œåŠ›çš„æ•™ç¨‹"><a class="markdownIt-Anchor" href="#æœ‰æ½œåŠ›çš„æ•™ç¨‹"></a> æœ‰æ½œåŠ›çš„æ•™ç¨‹</h2><ul><li>Rust 101 Lecture Series<ul><li>ä¸ä¼¦æ•¦å¸å›½ç†å·¥å­¦é™¢è®¡ç®—ç¤¾ä¼šç³»åˆä½œçš„ Rust ç³»åˆ—è®²åº§</li><li><a href="https://www.reddit.com/r/rust/comments/smt5ef/rust_lecture_series_with_imperial_college_londons/">Rust Lecture Series with Imperial College Londonâ€™s Department of Computing Society</a></li></ul></li><li><a href="https://lurklurk.org/effective-rust/intro.html">Effective Rust</a></li></ul><h2 id="ç»ƒä¹ å®æˆ˜çš„å°é¡¹ç›®"><a class="markdownIt-Anchor" href="#ç»ƒä¹ å®æˆ˜çš„å°é¡¹ç›®"></a> ç»ƒä¹ å®æˆ˜çš„å°é¡¹ç›®</h2><ul><li><p><a href="https://www.zhihu.com/question/34665842">çŸ¥ä¹ - å­¦ä¹  Rust é€‚åˆå†™ä»€ä¹ˆç»ƒæ‰‹é¡¹ç›®ï¼Ÿ</a></p></li><li><p><a href="https://exercism.org/tracks/rust/exercises">Exercism.io</a></p></li><li><p>course-rs/tokio-course</p><ul><li>ã€ŠTokio å¼‚æ­¥ç¼–ç¨‹ã€‹ç¿»è¯‘å¹¶æ‰©å±•äº† tokio å®˜ç½‘çš„æ•™ç¨‹ï¼Œ æ·±å…¥è®²è¿°äº†å¦‚ä½•ç¼–å†™ Rust é«˜å¹¶å‘å¼‚æ­¥ç¨‹åº</li></ul></li><li><p>Github: cfsamson</p><ul><li>è¿™å“¥ä»¬å–œæ¬¢ç”¨ Rust å®ç°ä¸€äº›å°ä¾‹å­å¦‚ï¼šFuturesã€greenthreadsã€asyncã€epoll ç­‰ã€‚</li></ul></li><li><p>Boshen/javascript-parser-in-rust</p><p>[2022.08]</p><ul><li>A book on writing a JavaScript Parser in Rust</li></ul></li><li><p>2022 å¹´å¼€æºæ“ä½œç³»ç»Ÿè®­ç»ƒè¥</p><p>[2022.07]</p><ul><li>æ•™ç¨‹å…±åˆ†ä¸ºå…«ç« ï¼Œä¸»è¦å±•ç¤ºå¦‚ä½•ä»é›¶å¼€å§‹ï¼Œç”¨ Rust è¯­è¨€å†™ä¸€ä¸ªåŸºäº RISC-V æ¶æ„çš„ç±» Unix å†…æ ¸ã€‚</li></ul></li><li><p>Writing a container in Rust</p><p>[2022.05]</p><ul><li>ç”¨ Rust å†™å®¹å™¨ã€‚</li></ul></li><li><p>Lisp interpreter in Rust</p><p>[2022.05]</p><ul><li><a href="https://github.com/vishpat/lisp-rs">lisp-rs</a> é¡¹ç›®ç”¨ Rust å®ç°äº†ä¸€ä¸ªè§£é‡Šå™¨ï¼Œç”¨äº Scheme çš„ä¸€ä¸ªå°å­é›†ï¼Œå³ Lisp æ–¹è¨€ã€‚</li></ul></li><li><p>Implementing a size-bounded LRU cache with expiring entries for my DNS server (in Rust)</p><p>[2022.03]</p><ul><li>ä½¿ç”¨ Rust å®ç°ä¸€ä¸ªæœ‰å¤§å°é™åˆ¶å¯è¿‡æœŸçš„ LRU ç¼“å­˜ã€‚</li></ul></li><li><p>Implementing and Optimizing a Wordle Solver in Rust</p><p>[2022.03]</p><ul><li>Jon Gjengset çš„å…­å°æ—¶ä¸€é•œåˆ°åº•è§†é¢‘æµæ•™ç¨‹ï¼Œè¿™æ¬¡æ˜¯å®ç°ä¸€ä¸ª Wordle æ±‚è§£å™¨ã€‚</li></ul></li><li><p><a href="https://www.youtube.com/playlist?list=PLkpGh2gaaueyzEAn07jf44LdscDeWRyzy">Writing a Programming Language (in Rust)</a> [2022.02 updating]</p></li><li><p><a href="https://fosdem.org/2022/schedule/event/misc_ntfs_rust/">Implementing the NTFS filesystem in Rust</a> [2022.02]</p></li><li><p>Rust Latam: procedural macros workshop</p><p>[2022.01 updating]</p><ul><li>å®æˆ˜å­¦ä¹ å†™ Rust è¿‡ç¨‹å®ã€‚</li></ul></li><li><p>Rust Runtime è®¾è®¡ä¸å®ç°</p><p>[2021.12]</p><ul><li>ç³»åˆ—æ–‡ç« ä¸»è¦ä»‹ç»å¦‚ä½•è®¾è®¡å’Œå®ç°ä¸€ä¸ªåŸºäº io-uring çš„ Thread-per-core æ¨¡å‹çš„ Runtimeã€‚</li></ul></li><li><p>Building a GUI app in Rust</p><p>Building a web app in Rust</p><p>[2021.10]</p><ul><li>ä½œè€…ç”¨ egui åº“å»å®ç°äº† newsapi çš„å®¢æˆ·ç«¯å’Œç½‘é¡µç«¯ï¼ˆWebAssemblyï¼‰ã€‚</li></ul></li><li><p><a href="https://frank-king.github.io/rustblog-zh/2021-01-proc-macro/00.html">Rust è¿‡ç¨‹å®å…¥é—¨</a></p></li><li><p>(Risp (in (Rust) (Lisp)))</p><p>[2021.07]</p><ul><li>Rust å®ç° Lisp è§£é‡Šå™¨</li></ul></li><li><p>Learning to Fly: Letâ€™s simulate evolution in Rust! (pt 1)</p><p>[2021.01]</p><ul><li>åˆ©ç”¨ç¥ç»ç½‘ç»œå’Œé—ä¼ ç®—æ³•åˆ›å»ºä¸€ä¸ªè¿›åŒ–æ¨¡æ‹Ÿï¼Œå¹¶ç¼–è¯‘åº”ç”¨ç¨‹åºåˆ° WebAssembly</li></ul></li><li><p>Building a Pixel Editor in Rust &amp; WebAssembly (and Javascript)</p><p>[2020.08]</p><ul><li>ä½œè€…ç”¨ Rust å’Œ WebAssembly åšäº†ä¸ªç½‘é¡µç«¯çš„ç®€é™‹ç‰ˆåƒç´ ç”»æ¿ã€‚</li></ul></li><li><p>Writing NES Emulator in Rust</p><p>[2020.08]</p><ul><li>Rust å®ç° NES æ¨¡æ‹Ÿå™¨ï¼Œä¸è¿‡æœ€åä¸€ç« åˆ°ç°åœ¨è¿˜æ˜¯ todoã€‚</li></ul></li><li><p><a href="https://github.com/EmilHernvall/dnsguide/blob/master/README.md">Building a DNS server in Rust</a> [2020.06]</p></li><li><p>pingCAP/talent-plan</p><p>[2020.05] Rust ç½‘ç»œç¼–ç¨‹</p><ul><li><a href="https://github.com/pingcap/talent-plan/blob/master/courses/rust/README.md">TP 201: Practical Networked Applications in Rust</a></li><li><a href="https://github.com/pingcap/talent-plan/blob/master/courses/dss/README.md">TP 202: Distributed Systems in Rust</a></li></ul></li><li><p><a href="https://os.phil-opp.com/">Writing an OS in Rust</a> <a href="https://os.phil-opp.com/zh-CN/">éƒ¨åˆ†ä¸­æ–‡ç‰ˆ</a> [2020.05]</p></li><li><p><a href="https://picklenerd.github.io/pngme_book/">PNGme: An Intermediate Rust Project</a> [2019.06]</p></li><li><p>Implementing TCP</p><p>[2019.05]</p><ul><li>å¼ºçƒˆæ¨èï¼Jon Gjengset é€šè¿‡ Linux TUN/TAP æ¥å®ç° TCP åè®®ã€‚ä¸‰ä¸ªè§†é¢‘åŠ èµ·æ¥å…± 16 å°æ—¶ã€‚</li><li>è¿™ä¸ª up ä¸»è§†é¢‘é£æ ¼ç‹¬ç‰¹ï¼Œå†…å®¹æœ‰æ·±åº¦ï¼Œå½•åƒä¸å‰ªè¾‘ï¼Œæ¯é›†æ—¶é—´å·¨é•¿ï¼Œå¥½å¤„å°±æ˜¯å¯ä»¥äº†è§£ä¸€ä¸ªå®Œæ•´é¡¹ç›®çš„å¼€å‘è¿‡ç¨‹å’Œè§£å†³é—®é¢˜çš„æ€è·¯ã€‚</li></ul></li><li><p><a href="https://bodil.lol/parser-combinators/">Learning Parser Combinators With Rust</a> [2019.04]</p></li><li><p><a href="https://www.joshmcguigan.com/blog/build-your-own-shell-rust/">Build Your Own Shell using Rust</a> [2018.11]</p></li><li><p><a href="https://blog.subnetzero.io/post/building-language-vm-part-00/">So You Want to Build a Language VM</a> [2018.07]</p></li></ul><h2 id="æ¸¸æˆå¼€å‘ç›¸å…³"><a class="markdownIt-Anchor" href="#æ¸¸æˆå¼€å‘ç›¸å…³"></a> æ¸¸æˆå¼€å‘ç›¸å…³</h2><ul><li><p><a href="https://www.zhihu.com/question/511998329/answer/2314160111">æœ‰å“ªäº›å€¼å¾—æ¨èçš„ Rust æ¸¸æˆå¼•æ“æˆ–å›¾å½¢æ¸²æŸ“åº“ï¼Ÿ</a></p></li><li><p><a href="https://gamedev.rs/">Rust GameDev WG</a></p></li><li><p>Vulkan Tutorial(Rust)</p><ul><li>è¿™è€å“¥ç»™è‡ªå·±çš„ Vulkan Rust ç»‘å®š <a href="https://github.com/KyleMayes/vulkanalia">vulkanalia</a> å‚è€ƒ <a href="https://vulkan-tutorial.com/">Vulkan Tutorial</a> å†™çš„æ•™ç¨‹ã€‚</li><li>æˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨ <a href="https://github.com/ash-rs/ash">ash</a> æ¥å‚è€ƒç€å†™ï¼Œä¸¤ä¸ª Vulkan binding crate è¯­æ³•å¾ˆåƒã€‚</li></ul></li><li><p>The Ray Tracer Challenge</p><p>[2022.02 updating]</p><ul><li>è¿™è€å“¥ç”¨ Rust ä»é›¶å†™ä¸€ä¸ª Raytracerï¼Œå¹¶æŠŠ live coding çš„è¿‡ç¨‹ä¹Ÿå½•åˆ¶ä¸Šä¼ åœ¨<a href="https://www.youtube.com/playlist?list=PLy68GuC77sUTyOUvDhVboQoOlHoa4XrSO">ç³»åˆ—è§†é¢‘é“¾æ¥</a></li></ul></li><li><p>Vulkan with Rust by example</p><ul><li>åˆæ˜¯ç”¨ Rust å’Œ <a href="https://github.com/ash-rs/ash">ash</a> crate æ¥å†™ Vulkan çš„ä¸€ç³»åˆ—åšæ–‡ã€‚</li></ul></li><li><p>Ashen Aetna</p><p>[2022.01 updating]</p><ul><li>ä½œè€…å…´è¶£ä½¿ç„¶ç”¨ Rust å’Œ <a href="https://github.com/ash-rs/ash">ash</a> crate æ¥å­¦ä¹ å›¾å½¢å­¦çš„æ•™ç¨‹ã€‚</li><li><a href="https://github.com/MaikKlein/ash">ash</a> æ˜¯è·¨å¹³å°å›¾å½¢æ¥å£ Vulkan çš„ Rust ç»‘å®šã€‚</li></ul></li><li><p>Unofficial Bevy Cheat Book</p><ul><li>Rust æ¸¸æˆå¼•æ“ Bevy çš„ä¹¦ã€‚</li><li>ä¸­æ–‡ç‰ˆï¼š<a href="https://yiviv.com/bevy-cheatbook/introduction.html">Bevy æ¸¸æˆå¼•æ“å¼€å‘æŒ‡å—</a></li></ul></li><li><p>Learn Wgpu</p><ul><li><a href="https://jinleili.github.io/learn-wgpu-zh/">ä¸­æ–‡ç‰ˆ</a></li><li><a href="https://github.com/gfx-rs/wgpu">Wgpu</a> æ˜¯ <a href="https://gpuweb.github.io/gpuweb/">WebGPU API</a> è§„èŒƒçš„ä¸€ä¸ª Rust å®ç°ã€‚</li><li>WebGPU æ˜¯ç”± GPU for the Web Community Group å‘å¸ƒçš„ä¸€ä¸ªè§„èŒƒã€‚å®ƒçš„ç›®çš„æ˜¯å…è®¸ç½‘ç»œä»£ç ä»¥å®‰å…¨å’Œå¯é çš„æ–¹å¼è®¿é—® GPU åŠŸèƒ½ã€‚</li><li>å®ƒé€šè¿‡æ¨¡ä»¿ Vulkan APIï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºä¸»æœºç¡¬ä»¶ä½¿ç”¨çš„ä»»ä½• APIï¼ˆDirectXã€Metalã€Vulkanï¼‰æ¥å®ç°ã€‚</li><li>å¾ˆå¤š Rust æ¸¸æˆå¼•æ“éƒ½åŸºäºè¿™ä¸€å±‚å›¾å½¢ HALã€‚</li></ul></li><li><p><a href="https://ianjk.com/game-engine-in-rust/">Tutorial: Writing a Tiny Rust Game Engine for Web</a> [2022.01]</p></li><li><p><a href="https://tomassedovic.github.io/roguelike-tutorial/">Roguelike Tutorial in Rust + tcod</a> [2020.04]</p></li><li><p><a href="https://a5huynh.github.io/posts/2018/adventures-in-rust/">Adventures in Rust: A Basic 2D Game</a> [2018.02]</p></li></ul><h2 id="å…¶ä»–é¢†åŸŸç›¸å…³"><a class="markdownIt-Anchor" href="#å…¶ä»–é¢†åŸŸç›¸å…³"></a> å…¶ä»–é¢†åŸŸç›¸å…³</h2><ul><li><a href="https://rust-cli.github.io/book/index.html">The CLI Book</a></li><li><a href="https://rustwasm.github.io/docs/book/">The WebAssembly Book</a></li><li><a href="https://doc.rust-lang.org/stable/embedded-book/">The Embedded Book</a></li><li><a href="https://cs140e.sergio.bz/">An Experimental Course on Operating Systems</a></li><li><a href="https://www.lpalmieri.com/posts/2020-05-24-zero-to-production-0-foreword/">Zero to Production in Rust (Building Backend Services)</a></li></ul><h2 id="rust-åŠ¨æ€"><a class="markdownIt-Anchor" href="#rust-åŠ¨æ€"></a> Rust åŠ¨æ€</h2><ul><li>This week in Rust Newsletter<ul><li>æ¯å‘¨æ›´æ–°ä¸€æ¬¡ï¼ŒæŠŠæœ€æ–°çš„ Rust èµ„æºæ¨åˆ°ä½ çš„é‚®ç®±ï¼Œè¿™æ˜¯è·Ÿè¸ª Rust æœ€æ–°æŠ€æœ¯ä¸äº‹ä»¶çš„å¥½æ–¹æ³•ã€‚</li></ul></li><li>Discord<ul><li><a href="https://discord.gg/rust-lang-community">Official Rust Community Server</a></li><li><a href="https://discord.gg/rust-lang">Official Rust Server</a></li></ul></li><li>Telegram<ul><li><a href="https://t.me/rust_zh">Rust ä¼—</a></li></ul></li><li>é£ä¹¦<ul><li><a href="https://github.com/ZhangHanDong/rust-code-reading-club/issues/1">Rust ä¸­æ–‡ç¤¾ç¾¤</a></li></ul></li><li><a href="https://www.reddit.com/r/rust/">The Rust Sub Reddit</a></li><li><a href="https://rustmagazine.github.io/rust_magazine_2021/index.html">Rust è¯­è¨€å¼€æºæ‚å¿—ï¼ˆ2021ï¼‰æœˆåˆŠ</a></li><li><a href="https://rustmagazine.github.io/rust_magazine_2022/index.html">Rust è¯­è¨€å¼€æºæ‚å¿—ï¼ˆ2022ï¼‰å­£åˆŠ</a></li></ul><h2 id="å„ç§æ±‡æ€»awesome-ç³»åˆ—"><a class="markdownIt-Anchor" href="#å„ç§æ±‡æ€»awesome-ç³»åˆ—"></a> å„ç§æ±‡æ€»ï¼ˆAwesome ç³»åˆ—ï¼‰</h2><ul><li>Awesome Rust [A curated list of Rust code and resources]<ul><li>é’ˆå¯¹ Rust è¯­è¨€çš„ awesome listsï¼Œè¿™é‡Œé¢æ±‡é›†äº†å„ç§å„æ ·çš„ Rust åº“å’Œèµ„æºï¼Œå»å‚ä¸æˆ–å­¦ä¹ å¼€æºé¡¹ç›®æ˜¯å½“ä½ å…¥é—¨åæœ€å¥½çš„è¿›é˜¶æ–¹æ³•ã€‚</li></ul></li><li>rust-learning<ul><li>ä¸€ä¸ªç”±ç¤¾åŒºç»´æŠ¤çš„å…³äºå­¦ä¹  Rust çš„èµ„æºçš„æ±‡æ€»ã€‚</li></ul></li><li>EthanYuan/Rust-Study-Resource<ul><li>åˆæ˜¯ä¸€ä¸ªå…³äºå­¦ä¹  Rust çš„èµ„æºçš„æ±‡æ€»ã€‚</li></ul></li><li>The Little Book of Rust Books<ul><li>Rust ç›¸å…³ä¹¦ç±çš„æ±‡æ€»ã€‚</li></ul></li><li>sger/RustBooks<ul><li>Rust ç›¸å…³ä¹¦ç±çš„æ±‡æ€»ã€‚</li></ul></li><li>sunface/fancy-rust<ul><li>Rust é…·åº“æ¨èã€‚ä½¿ç”¨æˆ‘ä»¬ç²¾å¿ƒæŒ‘é€‰çš„å¼€æºä»£ç ï¼Œè®©ä½ çš„ Rust é¡¹ç›® Fancy èµ·æ¥ï¼</li></ul></li><li>EvanLi/Github-Ranking<ul><li>Github ä¸­ Rust åº“æ˜Ÿæ˜Ÿæ’åçš„ Top 100ï¼Œæ¯æ—¥åˆ·æ–°ã€‚</li></ul></li><li>35 Rust Learning Resources Every Beginner Should Know in 2022<ul><li>ä¸€ç¯‡æ¨èæ–°æ‰‹èµ„æºçš„æ–‡ç« </li></ul></li></ul><h2 id="podcast"><a class="markdownIt-Anchor" href="#podcast"></a> Podcast</h2><ul><li><a href="https://rustacean-station.org/">Rustacean Station Podcast</a></li><li>RustTalk<ul><li>ä¸»æ’­ï¼šå†™ä»£ç çš„è¥¿ç“œ</li><li><a href="https://rustcc.cn/">Rust è¯­è¨€ä¸­æ–‡ç¤¾åŒº</a> æ˜¯ä¸€ä¸ªç›¸æ¯”å¹²è´§åˆ†äº«çš„åœ°æ–¹ï¼Œåæ–‡å­—ï¼ŒRustTalk æ›´ä¾§é‡ â€œæ¹¿è´§â€ï¼Œä¸ä»…ä»…ä¼šä»‹ç»åˆ° Rust çš„è®¾è®¡ç†å¿µï¼Œæ›´å¤šçš„å›å»æŒ–æ˜ Rust èƒŒåçš„å¥‡äººè½¶äº‹ã€‚</li></ul></li></ul><h2 id="åšå®¢"><a class="markdownIt-Anchor" href="#åšå®¢"></a> åšå®¢</h2><ul><li><a href="https://llever.com/">https://llever.com/</a><ul><li>åŒ…å«å¾ˆå¤š Rust å‘¨æŠ¥åŠç›¸å…³åšæ–‡çš„ç¿»è¯‘ï¼Œä¸è¿‡ç°åœ¨å¥½åƒä¸æ›´æ–°äº†ã€‚</li></ul></li><li>èŠ½ä¹‹å®¶<ul><li>åŒæ ·æ˜¯åŒ…å«å¾ˆå¤š Rust å‘¨æŠ¥åŠç›¸å…³åšæ–‡çš„ç¿»è¯‘ï¼ŒåŒæ ·å¥½åƒä¸æ›´æ–°äº†ğŸ˜“</li></ul></li></ul><h2 id="åšå®¢-rss"><a class="markdownIt-Anchor" href="#åšå®¢-rss"></a> åšå®¢ RSS</h2><table><thead><tr><th>åç§°</th><th>è®¢é˜…é“¾æ¥</th></tr></thead><tbody><tr><td><a href="https://this-week-in-rust.org/">This Week in Rust</a></td><td><a href="https://this-week-in-rust.org/atom.xml">https://this-week-in-rust.org/atom.xml</a></td></tr><tr><td><a href="https://readrust.net/">Read Rust</a></td><td><a href="https://readrust.net/all/feed.rss">https://readrust.net/all/feed.rss</a></td></tr><tr><td><a href="https://www.reddit.com/r/rust/hot/">Rust Reddit Hot</a></td><td><a href="https://reddit.0qz.fun/r/rust/hot.json">https://reddit.0qz.fun/r/rust/hot.json</a></td></tr><tr><td><a href="https://rust.cc/">Rust.cc</a></td><td><a href="https://rustcc.cn/rss">https://rustcc.cn/rss</a></td></tr><tr><td><a href="https://rust.libhunt.com/newsletter">Awesome Rust Weekly</a></td><td><a href="https://rust.libhunt.com/newsletter/feed">https://rust.libhunt.com/newsletter/feed</a></td></tr><tr><td><a href="https://rustmagazine.github.io/">Rust ç²¾é€‰</a></td><td><a href="https://rustmagazine.github.io/rust_magazine_2021/rss.xml">https://rustmagazine.github.io/rust_magazine_2021/rss.xml</a></td></tr><tr><td><a href="https://medium.com/tag/rust/latest">Rust on Medium</a></td><td><a href="https://medium.com/feed/tag/rust">https://medium.com/feed/tag/rust</a></td></tr><tr><td><a href="https://gamedev.rs/">Rust GameDev WG</a></td><td><a href="https://gamedev.rs/rss.xml">https://gamedev.rs/rss.xml</a></td></tr><tr><td><a href="https://www.zhihu.com/column/time-and-spirit-hut">çŸ¥ä¹ä¸“æ  - æ—¶å…‰ä¸ç²¾ç¥å°å±‹</a></td><td><a href="https://rsshub.app/zhihu/zhuanlan/time-and-spirit-hut">https://rsshub.app/zhihu/zhuanlan/time-and-spirit-hut</a></td></tr><tr><td><a href="https://fasterthanli.me/">é…·ç†Š Amos fasterthanli</a></td><td><a href="https://fasterthanli.me/index.xml">https://fasterthanli.me/index.xml</a></td></tr><tr><td><a href="https://www.ncameron.org/blog/">pretzelhammer/rust-blog</a></td><td><a href="https://www.ncameron.org/blog/rss/">https://www.ncameron.org/blog/rss/</a></td></tr><tr><td><a href="https://github.com/pretzelhammer/rust-blog">Nick Cameron</a></td><td><a href="https://github.com/pretzelhammer/rust-blog/releases.atom">https://github.com/pretzelhammer/rust-blog/releases.atom</a></td></tr><tr><td><a href="https://folyd.com/blog/">FOLYD</a></td><td><a href="https://folyd.com/blog/feed.xml">https://folyd.com/blog/feed.xml</a></td></tr><tr><td><a href="https://www.skyzh.dev/posts/">Alex Chi</a></td><td><a href="https://www.skyzh.dev/posts/index.xml">https://www.skyzh.dev/posts/index.xml</a></td></tr></tbody></table><h2 id="ä½œä¸ºå‚è€ƒçš„å­¦ä¹ è·¯çº¿"><a class="markdownIt-Anchor" href="#ä½œä¸ºå‚è€ƒçš„å­¦ä¹ è·¯çº¿"></a> ä½œä¸ºå‚è€ƒçš„å­¦ä¹ è·¯çº¿</h2><h3 id="è·¯çº¿-1"><a class="markdownIt-Anchor" href="#è·¯çº¿-1"></a> è·¯çº¿ 1</h3><p><a href="https://zhuanlan.zhihu.com/p/146472398">Rust Study RoadMap</a></p><p>ä½œè€…åœ¨æ–‡ä¸­æä¾›äº†ä¸¤ç§å­¦ä¹ è·¯çº¿ã€‚</p><h3 id="è·¯çº¿-2"><a class="markdownIt-Anchor" href="#è·¯çº¿-2"></a> è·¯çº¿ 2</h3><ol><li>é€šè¯» <a href="http://rustbyexample.com/">Rust by Example</a>ï¼ŒæŠŠå…¶ä¸­çš„ä¾‹å­éƒ½è‡ªå·±è¿è¡Œä¸€éï¼Œç‰¹åˆ«æ˜¯å¯¹å…¶ä¸­æŒ‡å‡ºçš„é”™è¯¯ç”¨æ³•ä¹Ÿè°ƒè¯•ä¸€éã€‚</li><li>é€šè¯» <a href="http://rust-lang.github.io/book/">The Rust Programming Language</a>ï¼Œåœ¨è¿›è¡Œäº†ç¬¬ä¸€æ­¥åï¼Œå·²ç»åŸºæœ¬å¯¹ Rust çš„å¸¸ç”¨æ¦‚å¿µæœ‰æ‰€äº†è§£äº†ï¼Œè¿™ä¸ªæ—¶å€™å†è¯»è¿™æœ¬å®˜æ–¹æ•™ç¨‹ï¼Œè¿›ä¸€æ­¥ç†è§£æŸäº›ç»†èŠ‚ã€‚</li><li>è¡Œäº†ï¼Œåˆ°è¿™ä¸€æ­¥åä½ å°±å¯ä»¥å°è¯•åšä¸€ä¸ªé¡¹ç›®äº†ï¼Œç„¶ååœ¨åšé¡¹ç›®çš„è¿‡ç¨‹ä¸­ä½ ä¸€å®šä¼šéœ€è¦å„ç§å„æ ·çš„åº“ï¼Œè¯·åˆ° <a href="https://crates.io/">Crates</a> ä¸Šæœç´¢ï¼Œå¯»æ‰¾é€‚åˆä½ éœ€æ±‚çš„ crateï¼Œäº†è§£å®ƒä»¬çš„ç”¨æ³•ï¼Œå¿…è¦æ—¶æŸ¥é˜…å®ƒä»¬çš„æºç ã€‚ä¸€å¼€å§‹å†™å®é™…ä»£ç æ—¶ï¼Œä½ è‚¯å®šä¼šå¾ˆç—›è‹¦ï¼ŒRust ç¼–è¯‘å™¨ä¸€å®šä¼šä¸æ–­åœ°æŠ˜ç£¨ä½ ï¼Œè¿™ä¸ªæ—¶å€™ä¸è¦æ”¾å¼ƒï¼Œè¿”å›å»å†çœ‹ <a href="http://rustbyexample.com/">Rust by Example</a> å’Œ <a href="http://rust-lang.github.io/book/">The Rust Programming Language</a>ï¼Œç„¶åç»ˆæœ‰é€šè¿‡ç¼–è¯‘çš„é‚£ä¸€åˆ»ï¼Œæ­å–œä½ ï¼Œå…¥å‘äº†ï¼</li></ol><h2 id="å¸¸ç”¨ç«™ç‚¹"><a class="markdownIt-Anchor" href="#å¸¸ç”¨ç«™ç‚¹"></a> å¸¸ç”¨ç«™ç‚¹</h2><ul><li>Crates<ul><li>Rust ç±»åº“</li></ul></li><li><a href="http://Docs.rs">Docs.rs</a><ul><li>Rust ç±»åº“æ–‡æ¡£</li></ul></li><li>Are we game yet<ul><li>å…³äºæ¸¸æˆå¼€å‘</li></ul></li><li>Are we web yet<ul><li>å…³äº Web å¼€å‘</li></ul></li><li>Are we (I)DE yet<ul><li>å…³äº IDE</li></ul></li><li>rust-library-i18n<ul><li>Rust ä¸­æ–‡æ–‡æ¡£ï¼Œå¯ä»¥åœ¨ IDE ä¸­ä½¿ç”¨</li></ul></li></ul><h2 id="å…¶ä»–èµ„æ–™"><a class="markdownIt-Anchor" href="#å…¶ä»–èµ„æ–™"></a> å…¶ä»–èµ„æ–™</h2><ul><li><a href="https://www.reddit.com/r/rust/comments/s3z7ek/the_10_books_that_helped_me_as_a_hobbyist_on_my/">The 10 books that helped me, as a hobbyist, on my journey to learn Rust to re-code a Django application</a></li><li>Rustnote<ul><li>æŸä¸ªç½‘å‹çš„ä¸ªäººç¬”è®°</li></ul></li></ul><h2 id="æœ¬æ–‡å‚è€ƒ"><a class="markdownIt-Anchor" href="#æœ¬æ–‡å‚è€ƒ"></a> æœ¬æ–‡å‚è€ƒ</h2><ul><li><a href="https://rust-lang-cn.org/article/23">https://rust-lang-cn.org/article/23</a></li><li><a href="https://letsgetrusty.kartra.com/page/XDk8">https://letsgetrusty.kartra.com/page/XDk8</a></li><li><a href="https://rustcc.cn/">https://rustcc.cn/</a></li></ul><p><strong>æœ¬æ–‡è½¬è½½è½¬è½½è‡ªè¤ç«ä¹‹æ£®</strong></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;rustå­¦ä¹ èµ„æºä¸è¿›é˜¶èµ„æ–™&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#rustå­¦ä¹ èµ„æºä¸è¿›é˜¶èµ„æ–™&quot;&gt;&lt;/a&gt; rustå­¦ä¹ èµ„æºä¸è¿›é˜¶èµ„æ–™&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;2022/10/17 æ–°å¢ &lt;a href=&quot;https://gi</summary>
      
    
    
    
    <category term="print*,&quot;hello world!!!&quot;" scheme="https://blog.youmingsama.cn/categories/print-hello-world/"/>
    
    
    <category term="rust" scheme="https://blog.youmingsama.cn/tags/rust/"/>
    
  </entry>
  
  <entry>
    <title>æ–°å‘é¢„å®š</title>
    <link href="https://blog.youmingsama.cn/posts/385296e3/"/>
    <id>https://blog.youmingsama.cn/posts/385296e3/</id>
    <published>2021-08-01T00:00:00.000Z</published>
    <updated>2022-05-25T00:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>å ä½ing</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;å ä½ing&lt;/p&gt;
</summary>
      
    
    
    
    <category term="æ‘¸é±¼å¤§å¸ˆ" scheme="https://blog.youmingsama.cn/categories/%E6%91%B8%E9%B1%BC%E5%A4%A7%E5%B8%88/"/>
    
    
    <category term="å¾…å®šæ" scheme="https://blog.youmingsama.cn/tags/%E5%BE%85%E5%AE%9A%E6%8D%8F/"/>
    
  </entry>
  
  <entry>
    <title>ä¹°è€³æœºé€è€å©†:æ°´æœˆé›¨ssp</title>
    <link href="https://blog.youmingsama.cn/posts/9e073fd6/"/>
    <id>https://blog.youmingsama.cn/posts/9e073fd6/</id>
    <published>2021-08-01T00:00:00.000Z</published>
    <updated>2021-08-01T00:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å…¥é—¨çº§hifiæ°´æœˆé›¨sspä¸Šæ‰‹æŒ‡å—"><a class="markdownIt-Anchor" href="#å…¥é—¨çº§hifiæ°´æœˆé›¨sspä¸Šæ‰‹æŒ‡å—"></a> å…¥é—¨çº§HIFIï¼šæ°´æœˆé›¨sspä¸Šæ‰‹æŒ‡å—ï¼ˆï¼Ÿ</h3><p>æ°´æœˆé›¨ä¸€å‘ä»¥ä¹°è€å©†é€è€³æœºåšä¸ºå–ç‚¹ä¹‹ä¸€ï¼Œä¸è¿‡æˆ‘è¿™æ¬¾ä¾¿å®œçš„sspæ˜¯ä¸é€ç«‹ç»˜è€å©†çš„ï¼Œæ¯•ç«Ÿä»–ä¾¿å®œå˜›ï¼Œä¹‹å‰æœ‹å‹é€è¿‡æˆ‘æˆ‘ä¸€æ¡kxxsï¼Œè¿™ä¸ªæ˜¯é€æ°´æœˆå¨˜çš„ï¼Œä¾¿å®œçš„sspæ˜¯æ²¡æœ‰è€å©†çš„å„ä½ã€‚æ€ä¹ˆï¼Ÿç©·é¬¼ä¸é…æ‹¥æœ‰è€å©†ï¼ˆæ‰‹åŠ¨ç‹—å¤´ï¼‰ï¼Œä¹°è¿™æ¡è€³æœºçš„åˆè¡·å˜›ï¼Œæ˜¯åœ¨æˆ‘çš„msrqè¢«å¾’æ‰‹æ°æ–­åï¼Œæ²¡é”™æ˜¯å¾’æ‰‹æ°æ–­ã€‚æ‰“ç®—æš‚æ—¶é€‰ä¸€æ¬¾ç”¨æ¥è¿‡æ¸¡çš„è€³æœºï¼Œè¦æ±‚å˜›ï¼Ÿèƒ½ä»¥æœ€ä¾¿å®œçš„åŠ ä¸ªèƒ½å¾—åˆ°ä¸é”™å“è´¨çš„è€³æœºå°±å†å¥½ä¸è¿‡äº†ï¼Œä¸è¿‡åœ¨ä¸‹å®åœ¨æ²¡æœ‰å‹‡æ°”å»å°è¯•åŸé“è€³æœºï¼ˆæ•ˆæœè§¦å‘æ‚”æ¨ä¹‹æ³ªï¼‰ï¼Œåœ¨æ‰“ç®—ä¸Šé“¶èˆ¹çš„æƒ…å†µä¸‹åœ¨å®˜ç½‘æ°å¥½å°±é€›åˆ°äº†sspï¼Œåšä¸ºssrå‡çº§ç‰ˆï¼Œä»·æ ¼å¤§æ¦‚æ˜¯é“¶èˆ¹çš„ä¸¤å€=199.ä¸çŸ¥æ€ä¹ˆå›äº‹å°±å…¥æ‰‹äº†ï¼ˆè§¦å‘æ‚”æ¨ä¹‹ç±»ï¼‰ï¼Œå¯èƒ½æ˜¯å› ä¸ºå®ƒç›’å­å¥½çœ‹ï¼ï¼ï¼ï¼ï¼Œç›’å­å¤§æ¦‚é•¿ä¸‹é¢è¿™æ ·ã€‚</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/pivcgame/img/ssp.jpg" alt="" /></p><p>å…³äºå¬æ„Ÿè¡¨ç°å˜›ï¼Œä¸ªäººæ„Ÿè§‰ä¹Ÿå°±ä¸­è§„ä¸­çŸ©ï¼Œä¹Ÿå°±ç¬¦åˆ200è¿™ä¸ªä»·ä½è€³æœºåº”è¯¥æœ‰çš„è¡¨ç°ï¼Œå¹¶æ²¡æœ‰è®©æˆ‘æ„Ÿåˆ°æœ‰ä»»ä½•è¶…å‡º200å…ƒè€³æœºè¡¨ç°çš„åœ°æ–¹ï¼Œå®ƒçš„è¡¨ç°ä¹Ÿå°±ç¬¦åˆ200å…ƒè€³æœºæœ€åŸºæœ¬çš„è¦æ±‚ï¼Œåœ¨å‰ç«¯è®¾å¤‡æ˜¯ä¸‰çµ3Mxçš„å®é™…å¬æ„Ÿä¸ªäººæ„Ÿè§‰é«˜é¢‘çœŸçš„è¶…çº§åˆºè€³ï¼Œä¸­é¢‘ç¨å¾®ç»™äººçš„æ„Ÿè§‰ä¼šåšå®ä¸€äº›ï¼Œå¯¹äºå¾ˆå¤šå¥³å£°çš„è¡¨ç°ä¸Šæ˜¯ä¸å·®çš„ï¼Œå•Šï¼Œæˆ‘è¿™é‡Œå¬çš„æ˜¯Aimerçš„å…­ç­‰æ˜Ÿçš„å¤œã€‚è€æ—©çš„æ­Œäº†ï¼ŒAimerå¤©ä¸‹ç¬¬ä¸€ã€‚å¯¹äºä½é¢‘æ¥è¯´ä¸‹æ½œæ¯”è¾ƒå¥½ï¼Œå¬èµ·æ¥æ¯”è¾ƒåœ†æ¶¦ï¼Œä½é¢‘å¬èµ·æ¥çš„é‡æ„Ÿä¼šæ¯”è¾ƒè¶³ï¼Œå®˜æ–¹ä¹Ÿç‰¹æ„æ ‡æ³¨äº†å¥³æ¯’ï¼Œä¸è¿‡å•Šå¥³æ¯’ä¸è‡³äºï¼Œä¸è¿‡å¯¹äºå¤§å¤šæ•°å¥³å£°çš„å¤„ç†éƒ½æŒºä¸é”™çš„ã€‚å—¯å¬ä¸€äº›ACGçš„æ˜¯é—®é¢˜ä¸å¤§çš„ã€‚</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/pivcgame/img/%E6%B0%B4%E6%9C%88%E5%A8%98.jpg" alt="" /></p><p>èŠ±200è½¯å¦¹å¸ä¹°åˆ°äº†ä»·å€¼200è½¯å¦¹å¸çš„ä¸œè¥¿ï¼Œä¸èƒ½è¯´ä¸äºï¼Œåªèƒ½è¯´è¡€æœ¬æ— å½’ã€‚å¯¹äºå…±äº§ä¸»ä¹‰æˆ˜å£«æ¥è¯´ç™½å«–æ‰æ˜¯å…±äº§ä¸»ä¹‰çš„ç»ˆæç›®æ ‡ã€‚å‘œå‘œå‘œ</p><h4 id="ä»Šæ—¥çš„èƒœåˆ©æ°´æœˆå¨˜çš„å•æ–¹é¢èƒœåˆ©"><a class="markdownIt-Anchor" href="#ä»Šæ—¥çš„èƒœåˆ©æ°´æœˆå¨˜çš„å•æ–¹é¢èƒœåˆ©"></a> ä»Šæ—¥çš„èƒœåˆ©æ°´æœˆå¨˜çš„å•æ–¹é¢èƒœåˆ©</h4>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;å…¥é—¨çº§hifiæ°´æœˆé›¨sspä¸Šæ‰‹æŒ‡å—&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#å…¥é—¨çº§hifiæ°´æœˆé›¨sspä¸Šæ‰‹æŒ‡å—&quot;&gt;&lt;/a&gt; å…¥é—¨çº§HIFIï¼šæ°´æœˆé›¨sspä¸Šæ‰‹æŒ‡å—ï¼ˆï¼Ÿ&lt;/h3&gt;
&lt;p&gt;æ°´æœˆé›¨ä¸€å‘ä»¥ä¹°è€å©†é€è€³æœºåšä¸ºå–ç‚¹ä¹‹ä¸€ï¼Œä¸è¿‡æˆ‘è¿™æ¬¾</summary>
      
    
    
    
    <category term="æ‘¸é±¼å¤§å¸ˆ" scheme="https://blog.youmingsama.cn/categories/%E6%91%B8%E9%B1%BC%E5%A4%A7%E5%B8%88/"/>
    
    
    <category term="å«æ³ªå…¥æ‰‹" scheme="https://blog.youmingsama.cn/tags/%E5%90%AB%E6%B3%AA%E5%85%A5%E6%89%8B/"/>
    
    <category term="æ°´æœˆé›¨" scheme="https://blog.youmingsama.cn/tags/%E6%B0%B4%E6%9C%88%E9%9B%A8/"/>
    
  </entry>
  
  <entry>
    <title>äº¬éƒ½è¯»åæ„Ÿ</title>
    <link href="https://blog.youmingsama.cn/posts/bad5c14e/"/>
    <id>https://blog.youmingsama.cn/posts/bad5c14e/</id>
    <published>2021-05-19T00:00:00.000Z</published>
    <updated>2021-05-19T00:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>å·ç«¯åº·æˆçš„ä½œå“å¤§æ¦‚çœ‹çš„ä¸ƒä¸ƒå…«å…«</p><p>å·®ä¸å¤šå¿«çœ‹å®Œäº†å§</p><p>é›ªå›½ï¼Œåƒåªé¹¤ï¼Œå¤éƒ½è¿™ä¸‰æœ¬æˆ‘æ˜¯ä¸€èµ·ä¹°çš„</p><p>è¯´æ¥æƒ­æ„§é›ªå›½å’Œåƒåªé¹¤æˆ‘æ—©æ—©å°±çœ‹å®Œäº†</p><p>ä½†æ˜¯è¿™æœ¬ä¸åˆ°åä¸‡å­—çš„å¤éƒ½å°±è¢«æˆ‘å°†æ—¶é—´å»¶é•¿çº¿å°†è¿‘æ‹‰é•¿äº†ä¸€å¹´</p><p>å°±æ˜¯</p><p>å„ç§å„ç§äº‹</p><p>å³ä½¿é—²ç½®ä¸‹æ¥ä¹Ÿæ²¡æœ‰æƒ³èµ·è¿™æœ¬å¤§æ¦‚åªè‰è‰ç¿»äº†å‡ é¡µçš„ä¹¦</p><p>å½“ç›®å…‰å¶ç„¶æ‰«åˆ°å®ƒçš„æ—¶å€™</p><p>å®ƒå·²ç»è¢«å…¶ä»–ä¹¦æŒ¤åˆ°è§’è½é‡Œäº†</p><p>å½“æˆ‘å†æ¬¡æ‰“å¼€å®ƒæ—¶å€™</p><p>å¾ˆå¤šä¸œè¥¿ä¸çŸ¥é“æ€ä¹ˆè¯´åˆæ— ä»è¯´èµ·</p><p>å› ä¸ºæˆ‘å…¶å®å¹¶ä¸æ˜ç™½ä¹Ÿå½¢å®¹ä¸å‡ºè¿™æ˜¯æ€æ ·ä¸€ç§æ„Ÿå—</p><p>å°±åƒå¤éƒ½é‡Œæ‰€æç»˜çš„è®¸å¤š</p><p>èŠ±æœµç¨€ç¨€ç–ç–åœ°é£˜è½åœ¨æ¨±èŠ±æ ‘ä¸‹ï¼Œæœ‰çš„è¿˜æ¼‚æµ®åœ¨æ± å­çš„æ°´é¢ä¸Šã€‚ä¸è¿‡ï¼Œå¤§æ¦‚ä¹Ÿåªæœ‰ä¸ƒå…«ç“£çš„å…‰æ™¯â€¦â€¦</p><p>å…³äºåƒé‡å­å’Œè‹—å­æˆ‘ä¹Ÿæœ‰å¾ˆå¤šå¾ˆå¤šè¯æƒ³è¯´</p><p>å¥½å§è‡³å°‘åˆå¯ä»¥æ°´ä¸€ç¯‡åšå®¢äº†</p><p>åœ¨æœ€åçš„æœ€åè¿™æœ¬ä¹¦çš„æœ«å°¾</p><p>åƒé‡å­æŠ“ä½çº¢æ ¼å­é—¨ï¼Œç›®é€è‹—å­è¿œå»ã€‚è‹—å­å§‹ç»ˆæ²¡æœ‰å›å¤´ã€‚ç»†å°çš„é›ªèŠ±æœ‰äº›é£˜è½åœ¨åƒé‡å­çš„å‰å‘ä¸Šï¼Œå¾ˆå¿«å°±æ¶ˆèäº†ã€‚å¤§è¡—è¿˜åœ¨æ²‰ç¡ä¸­ã€‚</p><p>æˆ‘æƒ³</p><p>å¯èƒ½äº¬éƒ½å†ä¹Ÿæ‰¾ä¸åˆ°æ¯”è¿™æ›´å¥½çš„å®£ä¼ å¹¿å‘Šäº†</p><p><img src="https://pic.youmingsama.fun/kksk/%E4%BA%AC%E9%83%BD.jpg" alt="" /></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;å·ç«¯åº·æˆçš„ä½œå“å¤§æ¦‚çœ‹çš„ä¸ƒä¸ƒå…«å…«&lt;/p&gt;
&lt;p&gt;å·®ä¸å¤šå¿«çœ‹å®Œäº†å§&lt;/p&gt;
&lt;p&gt;é›ªå›½ï¼Œåƒåªé¹¤ï¼Œå¤éƒ½è¿™ä¸‰æœ¬æˆ‘æ˜¯ä¸€èµ·ä¹°çš„&lt;/p&gt;
&lt;p&gt;è¯´æ¥æƒ­æ„§é›ªå›½å’Œåƒåªé¹¤æˆ‘æ—©æ—©å°±çœ‹å®Œäº†&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯è¿™æœ¬ä¸åˆ°åä¸‡å­—çš„å¤éƒ½å°±è¢«æˆ‘å°†æ—¶é—´å»¶é•¿çº¿å°†è¿‘æ‹‰é•¿äº†ä¸€å¹´&lt;/p&gt;
&lt;p&gt;å°±æ˜¯&lt;/p&gt;
&lt;p&gt;å„</summary>
      
    
    
    
    <category term="æ–‡å­¦" scheme="https://blog.youmingsama.cn/categories/%E6%96%87%E5%AD%A6/"/>
    
    
    <category term="æ–‡å­¦" scheme="https://blog.youmingsama.cn/tags/%E6%96%87%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>æ‹†æœºç¿»è½¦æŒ‡å—(</title>
    <link href="https://blog.youmingsama.cn/posts/2ad933a0/"/>
    <id>https://blog.youmingsama.cn/posts/2ad933a0/</id>
    <published>2021-05-13T00:00:00.000Z</published>
    <updated>2021-05-13T00:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="æˆ‘ç«Ÿç„¶ç¿»è½¦äº†"><a class="markdownIt-Anchor" href="#æˆ‘ç«Ÿç„¶ç¿»è½¦äº†"></a> æˆ‘ç«Ÿç„¶ç¿»è½¦äº†ï¼ï¼ï¼ï¼ï¼</h3><p>ä¸å¾—ä¸æ„Ÿæ…¨æœ€è¿‘çš„å¤©æ°”å¯æ˜¯çœŸçƒ­é˜¿ï¼Œä¸€æ‘¸æ•£çƒ­ç²¾çµï¼Œå¼ï¼Œä¸æ„§æ˜¯æ‚¨é˜¿æ•£çƒ­ç²¾çµï¼Œå“å‘€ï¼Œä¸€è¾¹å‡‰å¿«å»æŠŠä½ ï¼Œè¯´ç€æˆ‘å°±æ‹†å¼€ä»¤äººè®¾è®¡åˆåŠ›è´´å¿ƒçš„è‰å·¥è‰ºè´´åˆåç›–ï¼Œè¯´ç€æ¸…ç†å¤§å¸ˆç¿»å‡ºäº†å®ƒçš„æ¸…ç°å·¥å…·ï¼Œè‰°éš¾çš„æ‰“å¼€åšç¡¬çš„åç›–å‡†å¤‡æ¥ä¸€æ¬¡æ¸…ç†ã€‚</p><blockquote><p>ps:ä¸‰ä¸ªæœˆå‰åˆšæ˜¾å¾—æ…Œï¼Œä¸çŸ¥é“æŠ½ä»€ä¹ˆåˆ†æ¢äº†cpué£æ‰‡å’Œæ˜¾å¡é£æ‰‡ï¼ŒæŒ‰ç†è¯´è¯´ä¸‰ä¸ªæœˆåçš„ä»Šå¤©ä¹Ÿåº”è¯¥æ˜¯æ´å‡€å¦‚æ–°ï¼Œä½†æ˜¯æ‰“å¼€åç›–ä¹‹åä¸å¾—ä¸æ„Ÿæ…¨ï¼Œä¸æ„§æ˜¯æ‚¨é˜¿å¸ç°ç²¾çµ</p></blockquote><p>ä½†æ˜¯å°±å‘å¾€æ˜”æ— æ•°æ¬¡æ‹†æœºä¸€æ ·ï¼Œç•¥æ˜¾æ¯ç‡¥çš„ç†Ÿæ‚‰çš„æ“ä½œæ‰‹æ³•ï¼Œå‘åŠ¨ä½œå°±æƒ³åƒä¸€ä¸ªå¤§å¸ˆä¸€æ ·ï¼Œæœ€ååˆä¸Šåç›–ï¼Œä¸€æ°”å‘µæˆã€‚å½“æˆ‘è§‰å¾—å®ƒåº”è¯¥ç†æ‰€å½“ç„¶çš„æˆåŠŸç‚¹äº®æ—¶ï¼Œå®ƒç«Ÿç„¶å¼€æœºè‡ªæ£€çš„æ—¶å€™çˆ†å‡ºäº†é£æ‰‡90Bçš„é”™è¯¯ï¼Œç»è¿‡ä»”ç»†æ’æŸ¥æ˜¯cpué£æ‰‡å®ƒä¸è½¬äº†ï¼ï¼ï¼ï¼ï¼</p><p>å—¯éš¾é“æ˜¯é£æ‰‡æ²¡æ’ï¼Œæ‰“å¼€åç›–ï¼Œæ£€æŸ¥æ²¡é—®é¢˜é˜¿ï¼Œå¯åŠ¨å¼€æœºæŠ¥é”™ï¼Œæ‰“å¼€åç›–ï¼ŒæŠ¥é”™ã€‚æ‰“å¼€åç›–ï¼ŒæŠ¥é”™ã€‚æ‰“å¼€åç›–ï¼ŒæŠ¥é”™ã€‚æ‰“å¼€åç›–ï¼ŒæŠ¥é”™ã€‚</p><p><img src="https://pic.youmingsama.fun/kksk/%E7%BB%B7%E4%B8%8D%E4%BD%8F%E5%95%A6.jpg" alt="" /></p><p>æˆ‘æ­¦æ–­çš„è®¤ä¸ºæ˜¯é£æ‰‡åäº†ï¼Œç«é€Ÿæ‹¿åˆ°å”®åå¤„ï¼Œæ‰‡ï¼Œæ‡‚ã€‚ç»éªŒè€ç†Ÿçš„å¸ˆå‚…æ‰“å¼€çœ‹äº†ä»¥ä¸‹ã€‚å—¯æ˜¯è¦æ¢é£æ‰‡ã€‚ä½†æ˜¯æ²¡æœ‰ç°è´§ï¼Œè¦è¿‡å‡ å¤©æ¥æ‹¿ã€‚å¸ˆå‚…ä¸‹æ„è¯†çš„é—®äº†ä»¥ä¸‹æ’å£æ˜¯æ˜¯ä¸æ˜¯ä¸‰é’ˆçš„ï¼Œæˆ‘ï¼šå¯¹é˜¿ã€‚å¸ˆå‚…åˆè±¡å¾æ€§çš„çœ‹äº†ä»¥ä¸‹ï¼Œå—¯é‚£å°±æ˜¯è¦æ¢é£æ‰‡äº†å‘¢ã€‚æˆ‘æ‹¿ç€æ’å¤´è‹¥æœ‰æ‰€æ€ï¼Œä¸çŸ¥é“åœ¨ä¸åœ¨å¬å¸ˆå‚…çš„è¯ã€‚é˜¿ä¸å¯¹æ˜¯æ’å¤´æ˜¯4é’ˆçš„ï¼Œæˆ‘æ€¥å¿™çœ‹äº†ä»¥ä¸‹æ¥å£å•Šæœ‰ä¸€ä¸ªé’ˆè¢«æˆ‘åŒæ­ªäº†ï¼Œå¸ˆå‚…ç»™æˆ‘æ‹¿äº†ä¸ªé•Šå­ï¼Œè®©æˆ‘è½»è½»çš„æ‹¨å›æ¥ï¼Œæˆ‘å°è¯•äº†å‡ ä¸‹å•Šä¸è¡Œå¤ªéš¾äº†ï¼Œè¿˜æ˜¯å¸ˆå‚…æ‚¨æ¥æ‚¨ä¸“ä¸šï¼Œå¸ˆå‚…å¾®å¾®ä¸€ç¬‘ï¼Œå·²ç»è®©äººæ„Ÿå—åˆ°äº†å¼ºè€…çš„æ°”åŠ¿ï¼Œå°±æƒ³åœ¨ç»´ä¿®å’Œæ£€æŸ¥ç«ç®­æœ€åå‘å°„å‰çš„ä¾‹è¡Œæ£€æŸ¥ï¼Œå¸ˆå‚…çš„çœ¼é‡Œæœ‰å…‰ã€‚æˆäº†ï¼ï¼ï¼</p><p>æœç„¶åœ¨åœ¨æˆåŠŸçš„æ‹¨å›åï¼Œè¿™è¯¥æ­»çš„cpué£æ‰‡å®ƒè½¬äº†ã€‚</p><h3 id="å½“ç„¶"><a class="markdownIt-Anchor" href="#å½“ç„¶"></a> å½“ç„¶</h3><h3 id="æœ€åä¸€åˆ†é’±æ²¡èŠ±"><a class="markdownIt-Anchor" href="#æœ€åä¸€åˆ†é’±æ²¡èŠ±"></a> æœ€åä¸€åˆ†é’±æ²¡èŠ±ï¼ï¼ï¼</h3><p><img src="https://pic.youmingsama.fun/kksk/%E6%8B%BF%E6%9D%A5.jpg" alt="" /></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;æˆ‘ç«Ÿç„¶ç¿»è½¦äº†&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#æˆ‘ç«Ÿç„¶ç¿»è½¦äº†&quot;&gt;&lt;/a&gt; æˆ‘ç«Ÿç„¶ç¿»è½¦äº†ï¼ï¼ï¼ï¼ï¼&lt;/h3&gt;
&lt;p&gt;ä¸å¾—ä¸æ„Ÿæ…¨æœ€è¿‘çš„å¤©æ°”å¯æ˜¯çœŸçƒ­é˜¿ï¼Œä¸€æ‘¸æ•£çƒ­ç²¾çµï¼Œå¼ï¼Œä¸æ„§æ˜¯æ‚¨é˜¿æ•£çƒ­ç²¾çµï¼Œå“å‘€ï¼Œä¸€è¾¹å‡‰å¿«å»æŠŠä½ ï¼Œè¯´ç€æˆ‘å°±æ‹†å¼€ä»¤äººè®¾</summary>
      
    
    
    
    <category term="æ‘¸é±¼å¤§å¸ˆ" scheme="https://blog.youmingsama.cn/categories/%E6%91%B8%E9%B1%BC%E5%A4%A7%E5%B8%88/"/>
    
    
    <category term="ç¿»è½¦" scheme="https://blog.youmingsama.cn/tags/%E7%BF%BB%E8%BD%A6/"/>
    
  </entry>
  
  <entry>
    <title>è‡ªå®šä¹‰åŒ–è°·æ­Œä¸»é¢˜</title>
    <link href="https://blog.youmingsama.cn/posts/63627b7c/"/>
    <id>https://blog.youmingsama.cn/posts/63627b7c/</id>
    <published>2021-04-28T00:00:00.000Z</published>
    <updated>2021-04-28T00:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="è‡ªå®šä¹‰åŒ–è°·æ­Œä¸»é¢˜"><a class="markdownIt-Anchor" href="#è‡ªå®šä¹‰åŒ–è°·æ­Œä¸»é¢˜"></a> è‡ªå®šä¹‰åŒ–è°·æ­Œä¸»é¢˜</h2><p>ä¸ç®¡ä»€ä¹ˆå…ˆæ¥ä¸€å¥è°·æ­Œå¤§æ³•å¥½å‘å®šä¸ä¼šæœ‰é—®é¢˜ï¼Œï¼Œå¤©å¤©å¯¹æµè§ˆå™¨æ€»æœ‰ä¸€å¤©ä¼šå®¡ç¾ç–²åŠ³ï¼Œå—¯å¯¹å°±åƒæˆ‘ï¼Œå¯¹è¿™ä½¿ç”¨äº†å¾ˆé•¿çš„è°·æ­Œä¸»é¢˜é™·å…¥äº†æ·±æ·±çš„æ²‰æ€ï¼Œæœ‰æ—¶å€™é˜¿äººå¿ƒæƒ…ä¸å¥½çš„æ—¶å€™æ€»æƒ³æ¢ä¸ªä¸»é¢˜ï¼ˆï¼Ÿï¼Œæ¯”å¦‚è¯´æˆ‘ï¼Œä¸è¿‡ç¿»éäº†è°·æ­Œå•†åº—éƒ½æ²¡æœ‰æ‰¾åˆ°ä»¤æˆ‘ä¸­æ„çš„ä¸»é¢˜ï¼Œå¯¹äºä¸“ä¸šçš„å¼ºè¿«ç—‡äººå£«æ¥è¯´ä¸€ä¸ªè®©ä»–çœ‹èµ·æ¥æ„Ÿåˆ°åˆ«æ‰­çš„ä¸»é¢˜å¯¹å®ƒæ¥è¯´ç®€ç›´æ˜¯ä¸€ç§å¦ç±»çš„æŠ˜ç£¨ï¼Œäºæ˜¯å°‘å¹´å¼€å§‹äº†è‡ªå®šä¹‰ä¸»é¢˜ä¹‹æ—…ã€‚</p><p><img src="https://pic.youmingsama.fun/kksk/%E9%A5%AD%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E5%A5%BD.jpg" alt="" /></p><h3 id="é‚£ä¹ˆåº”è¯¥å¦‚ä½•å¼€å§‹å‘¢"><a class="markdownIt-Anchor" href="#é‚£ä¹ˆåº”è¯¥å¦‚ä½•å¼€å§‹å‘¢"></a> é‚£ä¹ˆåº”è¯¥å¦‚ä½•å¼€å§‹å‘¢</h3><p>é‚£å½“ç„¶æ˜¯<a href="https://docs.google.com/">è°·æ­Œçš„æ–‡æ¡£é˜¿</a>ï¼Œæœä¸å…¶ç„¶å¾ˆå¿«å°±èƒ½æ‰¾åˆ°ï¼Œä»‹ç»çš„è¶…çº§è¯¦ç»†ï¼Œæ„Ÿè§‰å®Œå…¨ä¸éœ€è¦è¯´ä¸€å¥åºŸè¯ï¼Œä»»ä½•è„±ç¦»å®˜æ–¹æ–‡æ¡£çš„æ•™ç¨‹éƒ½æ˜¯è€æµæ°“ï¼Œ</p><blockquote><p><a href="https://docs.google.com/document/d/1jt9vdUY9O5IMm6Zoi2Kz0LWFfFZpvP69qjy6PoGsEoA/edit">Chrome Theme Reference</a></p></blockquote><p>æ—¢ç„¶çŸ¥é“äº†æ€ä¹ˆåˆ¶ä½œä¸»é¢˜ï¼Œé‚£å°±ç›´æ¥å¼€å§‹å§ï¼Œå½“ç„¶æ›´å¤æ‚çš„æ“ä½œè¯·è‡ªè¡Œæ‘¸ç´¢</p><h4 id="ç¬¬ä¸€æ­¥"><a class="markdownIt-Anchor" href="#ç¬¬ä¸€æ­¥"></a> ç¬¬ä¸€æ­¥</h4><p>æ–°å»ºæ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶å¤¹å†…å®šä¹‰<code>mainifest.json</code></p><p>ä»¥æˆ‘çš„ä¸»é¢˜ä¸ºä¾‹å†…å®¹æ˜¯è¿™æ ·çš„</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;youmingsama&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å¤æ—¥&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;manifest_version&quot;</span><span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;theme&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;images&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;theme_frame&quot;</span><span class="punctuation">:</span> <span class="string">&quot;images\/theme_frame.png&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;theme_toolbar&quot;</span><span class="punctuation">:</span> <span class="string">&quot;images\/theme_toolbar.png&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;theme_tab_background&quot;</span><span class="punctuation">:</span> <span class="string">&quot;images\/theme_tab_background.png&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;theme_ntp_background&quot;</span><span class="punctuation">:</span> <span class="string">&quot;images\/theme_ntp_background.png&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;colors&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;frame&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="number">54</span><span class="punctuation">,</span></span><br><span class="line">                <span class="number">48</span><span class="punctuation">,</span></span><br><span class="line">                <span class="number">47</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;toolbar&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="number">205</span><span class="punctuation">,</span></span><br><span class="line">                <span class="number">210</span><span class="punctuation">,</span></span><br><span class="line">                <span class="number">204</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;tab_text&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="number">54</span><span class="punctuation">,</span></span><br><span class="line">                <span class="number">48</span><span class="punctuation">,</span></span><br><span class="line">                <span class="number">47</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;tab_background_text&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="number">205</span><span class="punctuation">,</span></span><br><span class="line">                <span class="number">210</span><span class="punctuation">,</span></span><br><span class="line">                <span class="number">204</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;bookmark_text&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="number">54</span><span class="punctuation">,</span></span><br><span class="line">                <span class="number">48</span><span class="punctuation">,</span></span><br><span class="line">                <span class="number">47</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;ntp_background&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="number">255</span><span class="punctuation">,</span></span><br><span class="line">                <span class="number">255</span><span class="punctuation">,</span></span><br><span class="line">                <span class="number">255</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;ntp_text&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="number">50</span><span class="punctuation">,</span></span><br><span class="line">                <span class="number">50</span><span class="punctuation">,</span></span><br><span class="line">                <span class="number">50</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;ntp_link&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="number">6</span><span class="punctuation">,</span></span><br><span class="line">                <span class="number">55</span><span class="punctuation">,</span></span><br><span class="line">                <span class="number">116</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;button_background&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">                <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">                <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">                <span class="number">0</span></span><br><span class="line">            <span class="punctuation">]</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;tints&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;buttons&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="number">0.02</span><span class="punctuation">,</span></span><br><span class="line">                <span class="number">0.07</span><span class="punctuation">,</span></span><br><span class="line">                <span class="number">0.2</span></span><br><span class="line">            <span class="punctuation">]</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;properties&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;ntp_background_alignment&quot;</span><span class="punctuation">:</span> <span class="string">&quot;bottom&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;ntp_background_repeat&quot;</span><span class="punctuation">:</span> <span class="string">&quot;repeat&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h4 id="ç¬¬äºŒæ­¥"><a class="markdownIt-Anchor" href="#ç¬¬äºŒæ­¥"></a> ç¬¬äºŒæ­¥</h4><p>åˆ›å»ºæ–‡ä»¶å¤¹<code>images</code></p><p>åˆ›å»ºä½¿ç”¨çš„å›¾ç‰‡ï¼Œå„ä¸ªæ¨¡å—å®˜æ–¹æ–‡æ¡£åŠ›éƒ½æœ‰ä»‹ç»ï¼Œè¿™é‡Œå°±ä¸åœ¨è§£é‡Šå•¦</p><h4 id="ç¬¬ä¸‰éƒ¨"><a class="markdownIt-Anchor" href="#ç¬¬ä¸‰éƒ¨"></a> ç¬¬ä¸‰éƒ¨</h4><p>æ‰“å¼€è°·æ­Œå¼€å‘è¿™æ¨¡å¼ã€‚åœ¨ä¸æµç›´æ¥æ‹–å…¥å°±å¥½å•¦ï¼Œå½“ç„¶è¿™é‡Œå»ºè®®é€‰æ‹©ç›´æ¥æ‰“åŒ…æˆå¯æ‰§è¡Œæ–‡ä»¶crxå°±å¥½å•¦ï¼Œå¦‚æœç›´æ¥æ‹–æ‹½çš„ç”»å¯èƒ½ä¼šäº§ç”Ÿé—®é¢˜ï¼Œå¦‚æœæ‹–æ‹½çš„æºæ–‡ä»¶çš„ç›¸å¯¹ä½ç½®å‘ç”Ÿç›¸å¯¹æ”¹å˜çš„æ—¶å€™ï¼Œä¸»é¢˜ä¼šåŠ è½½å¤±è´¥ï¼Œæ‰€ä»¥å»ºè®®ç›´æ¥æ‰“åŒ…æˆå¯æ‰§è¡Œæ–‡ä»¶</p><p><img src="https://pic.youmingsama.fun/kksk/%E8%B0%B7%E6%AD%8C%E5%BC%80%E5%8F%91%E8%80%85.png" alt="" /></p><h4 id="å¯èƒ½ä¼šäº§ç”Ÿbug"><a class="markdownIt-Anchor" href="#å¯èƒ½ä¼šäº§ç”Ÿbug"></a> å¯èƒ½ä¼šäº§ç”Ÿbug</h4><p>å› ä¸ºæ²¡æœ‰å¯¹å±å¹•è¿›è¡Œé€‚é…ï¼Œåœ¨ä¸åŒçš„å±å¹•ä¸‹å›¾ç‰‡å¯èƒ½å¹¶ä¸å…¼å®¹ï¼Œæˆ‘è¿™è¾¹æ˜¯å¤šå±ï¼Œåœ¨æˆ‘çš„ç«–å±ä¸Šå°±å‡ºç°äº†éå¸¸å°´å°¬çš„ç”»é¢ï¼Œå› ä¸ºæ²¡æœ‰åšé€‚é…ï¼Œé¡¶éƒ¨ä¼šæœ‰ä¸€å¤§æ®µç©ºç™½åŒºåŸŸï¼ŒæŸ¥é˜…æ–‡æ¡£ï¼Œä¹Ÿåªæœ‰<strong>ntp_background_repeat</strong>è¿™ä¸€ä¸ªå¤„ç†æ–¹æ³•</p><blockquote><p><strong>ntp_background_repeat</strong>&quot;</p><p>ntp_background_repeat&quot; : â€œno-repeatâ€<br />This property element is used to control the repetition of the image element <a href="https://docs.google.com/document/d/1jt9vdUY9O5IMm6Zoi2Kz0LWFfFZpvP69qjy6PoGsEoA/edit#bookmark=id.b687ca9eaaa1">theme_ntp_background.</a>It is specified asâ€¦<br />â€œntp_background_repeatâ€ : &quot;VALUE&quot;In the place of VALUE you can enter either â€œrepeatâ€, â€œno-repeatâ€, â€œrepeat-xâ€ or â€œrepeat-yâ€. Depending upon the image youâ€™ve created as the background you can choose to repeat the image along x-axis or y-axis or turn repeat off, since repeat is on by default!</p></blockquote><p>äºæ˜¯æˆ‘è¿™è¾¹å¿˜äº†å–å‡ºä¸Šé¢ä¸€å¤§éƒ¨åˆ†ç©ºç™½åŒºåŸŸï¼Œéå¸¸ä¸æƒ…æ„¿çš„ç”¨äº† <code>ntp_background_repeat&quot;: &quot;repeat</code>,æ¥é®ç›–ä½äº†å°´å°¬çš„ç©ºç™½åŒºåŸŸï¼Œä½†æ˜¯ä¸å¯é¿å…çš„å‡ºç°äº†å›¾ç‰‡é‡å¤ã€‚æ­¤ä¹ƒä¸‹ç­–ï¼ï¼ï¼ï¼å¦‚æœæœ‰æ›´å¥½çš„è§£å†³æ–¹æ¡ˆè¯·ç§ä¿¡æˆ‘ã€‚æ¬§å†…è¯¥ï¼ï¼ï¼</p><p><img src="https://pic.youmingsama.fun/kksk/%E5%86%A5%E6%83%B3.jpg" alt="" /></p><h3 id="æ•ˆæœå›¾"><a class="markdownIt-Anchor" href="#æ•ˆæœå›¾"></a> æ•ˆæœå›¾</h3><p><img src="https://pic.youmingsama.fun/kksk/theme.png" alt="" /></p><p>ä»¥åŠå¹¶ä¸å®Œç¾çš„ç«–å±å›¾</p><p><img src="https://pic.youmingsama.fun/kksk/theme_s.png" alt="" /></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;è‡ªå®šä¹‰åŒ–è°·æ­Œä¸»é¢˜&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#è‡ªå®šä¹‰åŒ–è°·æ­Œä¸»é¢˜&quot;&gt;&lt;/a&gt; è‡ªå®šä¹‰åŒ–è°·æ­Œä¸»é¢˜&lt;/h2&gt;
&lt;p&gt;ä¸ç®¡ä»€ä¹ˆå…ˆæ¥ä¸€å¥è°·æ­Œå¤§æ³•å¥½å‘å®šä¸ä¼šæœ‰é—®é¢˜ï¼Œï¼Œå¤©å¤©å¯¹æµè§ˆå™¨æ€»æœ‰ä¸€å¤©ä¼šå®¡ç¾ç–²åŠ³ï¼Œå—¯å¯¹å°±åƒæˆ‘ï¼Œå¯¹è¿™ä½¿ç”¨äº†å¾ˆé•¿çš„è°·æ­Œ</summary>
      
    
    
    
    <category term="æ‘¸é±¼å¤§å¸ˆ" scheme="https://blog.youmingsama.cn/categories/%E6%91%B8%E9%B1%BC%E5%A4%A7%E5%B8%88/"/>
    
    
    <category term="è°·æ­Œ" scheme="https://blog.youmingsama.cn/tags/%E8%B0%B7%E6%AD%8C/"/>
    
  </entry>
  
  <entry>
    <title>å¹¶æŸ¥é›†çœŸçš„æ˜¯å¤ªæ£’äº†</title>
    <link href="https://blog.youmingsama.cn/posts/efa11b01/"/>
    <id>https://blog.youmingsama.cn/posts/efa11b01/</id>
    <published>2021-04-23T00:00:00.000Z</published>
    <updated>2021-04-23T00:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å¹¶æŸ¥é›†çœŸçš„æ˜¯å¤ªæ£’äº†"><a class="markdownIt-Anchor" href="#å¹¶æŸ¥é›†çœŸçš„æ˜¯å¤ªæ£’äº†"></a> å¹¶æŸ¥é›†çœŸçš„æ˜¯å¤ªæ£’äº†</h2><p>è¿™ä¸ªæœˆçš„leetcodeç®€ç›´å°±æ˜¯æŸ¥å¹¶é›†æœˆå•Šï¼Œæ‰“å¡æ²¡é”™ä¸€é¢˜ï¼ŒæŸ¥å¹¶é›†ï¼ŸæŸ¥å¹¶é›†ï¼Ÿåˆæ˜¯æŸ¥å¹¶é›†ï¼ä¸ä¼šï¼ä¸ä¼šï¼åˆä¸ä¼šï¼çœ‹é¢˜è§£ï¼å¥½è€¶æˆ‘åˆä¼šäº†ï¼Ÿåšé¢˜ï¼Œæˆ‘æ˜¯åºŸç‰©ã€‚</p><p>ä¹‹å‰åœ¨æ²¹ç®¡ä¸Šçœ‹Robert Sedgewickå·¨ï¼Œä½¬çš„è§†é¢‘ï¼Œæˆ‘è§‰å¾—æˆ‘è¡Œäº†ï¼ˆï¼Œä½†å¥½åƒé‡æ¥æ²¡æœ‰ç³»ç»Ÿçš„æ•´ç†è¿‡æŸ¥å¹¶é›†å’Œç›¸å…³çš„çŸ¥è¯†ã€‚</p><p>åœ¨å¼€å§‹ä¹‹å‰éœ€è¦å…ˆäº†è§£ä¸€ä¸ªæ¦‚å¿µ</p><h3 id="1-åŠ¨æ€è¿é€šæ€§"><a class="markdownIt-Anchor" href="#1-åŠ¨æ€è¿é€šæ€§"></a> 1. åŠ¨æ€è¿é€šæ€§</h3><p>å¹¶æŸ¥é›†ï¼šå¹¶ï¼šåˆå¹¶ï¼ŒæŸ¥ï¼šæŸ¥æ‰¾ï¼Œé›†ï¼šé›†åˆã€‚å¦‚æœæœ‰ä¸‹é¢çš„è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼Œé—®é¢˜çš„è¾“å…¥æ˜¯ä¸€åˆ—æ•´æ•°å¯¹ï¼Œå…¶ä¸­æ¯ä¸ªç±»å‹éƒ½è¡¨ç¤ºæŸç§ç±»å‹çš„å¯¹è±¡ï¼Œå‡å¦‚é˜¿æœ‰ä¸€å¯¹æ•´æ•°p,qï¼Œå°±å¯ä»¥ç†è§£ä¸ºpï¼Œqæ˜¯ç›¸è¿çš„ï¼Œæˆ‘ä»¬å‡è®¾<code>ç›¸è¿</code>æ˜¯ä¸€ç§ç­‰ä»·å…³ç³»ï¼Œå°±æ„å‘³è¿™æœ‰ä»¥ä¸‹å…³ç³»</p><ul><li>è‡ªåæ€§ï¼špå’Œpæ˜¯ç›¸è¿çš„</li><li>å¯¹ç§°æ€§ï¼šå¦‚æœpå’Œqæ˜¯ç›¸è¿çš„é‚£ä¹ˆqå’Œpä¹Ÿæ˜¯ç›¸è¿çš„</li><li>ä¼ é€’æ€§ï¼šå¦‚æœpå’Œqæ˜¯ç›¸è¿çš„è€Œä¸”qå’Œræ˜¯ç›¸è¿çš„é‚£ä¹ˆpå’Œä¹Ÿæ˜¯ç›¸è¿çš„</li></ul><p>ç­‰ä»·å…³ç³»èƒ½å¤ŸæŠŠå¯¹è±¡åˆ†ä¸ºå¤šä¸ªç­‰ä»·ç±»ï¼Œä¸”ä¸¤ä¸ªå¯¹è±¡ç›¸è¿æ—¶ä»–ä»¬æ‰å±äºåŒä¸€ä¸ªç­‰ä»·å…³ç³»</p><p>ç›®æ ‡ï¼šæ‰€ä»¥æˆ‘ä»¬åº”è¯¥è¿‡æ»¤æ‰æ²¡æœ‰æ„ä¹‰çš„å¸§æ•°å¯¹ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœæ‰€æœ‰çš„æ•´æ•°å¯¹éƒ½ä¸èƒ½è¯æ˜på’Œqæ˜¯ç›¸è¿çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æŠŠå®ƒè¾“å‡ºï¼Œç›¸åå¦‚æœè¯æ˜äº†æ˜¯ç›¸è¿çš„é‚£æˆ‘ä»¬åº”è¯¥æŠŠä»–ä»¬å¿½ç•¥æ‰å¹¶ç»§ç»­å¤„ç†ä¸‹é¢çš„æ•´æ•°å¯¹ã€‚ä¸ºäº†è¾¾åˆ°ä»¥ä¸Šçš„æ•ˆæœæˆ‘ä»¬éœ€è¦ç”¨ä¸€ä¸ªæ•°æ®ç»“æ„æ¥ä¿å­˜è¿™äº›æ•´æ•°å¯¹çš„ä¿¡æ¯ï¼Œå¹¶æ¥åˆ¤æ–­ä»–ä»¬æŸä¸€å¯¹è±¡æ˜¯å¦ç›¸è¿ï¼Œäºæ˜¯æˆ‘ä»¬æŠŠè¿™ä¸ªé—®é¢˜çš„é€šä¿—çš„å«åš<strong>åŠ¨æ€è¿é€šæ€§é—®é¢˜</strong></p><p>æ¯”å¦‚æˆ‘ä»¬æ‰€ç†ŸçŸ¥çš„ç½‘ç»œï¼Œæ¯æ—¶æ¯åˆ»å°±å¯èƒ½è¦å¤„ç†æ•°ç™¾ä¸‡å¯¹è±¡å’Œæ•°åäº¿æ¬¡è¿æ¥ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€ä¸ªç®—æ³•å¸®æˆ‘ä»¬å¿«é€Ÿçš„å¤„ç†ç±»ä¼¼çš„é—®é¢˜ã€‚æ‰€ä»¥å½“æˆ‘ä»¬å¤„ç†ä¸¤ä¸ªå¯ä»¥è¿æ¥çš„åˆ†é‡ï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥æŠŠä»–åŠ å…¥åˆ°ä¸€ä¸ªé›†åˆå½“ä¸­ï¼›</p><h3 id="2æ¥è®¾è®¡ç®—æ³•æ€æƒ³"><a class="markdownIt-Anchor" href="#2æ¥è®¾è®¡ç®—æ³•æ€æƒ³"></a> 2.æ¥è®¾è®¡ç®—æ³•æ€æƒ³</h3><blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="function"><span class="type">void</span> <span class="title">UF</span><span class="params">(N)</span><span class="comment">//åˆå§‹åŒ–å‡½æ•°</span></span></span><br><span class="line"><span class="function">&gt;<span class="type">void</span> <span class="title">unino</span><span class="params">(p,q)</span><span class="comment">//æ·»åŠ è¿æ¥</span></span></span><br><span class="line"><span class="function">&gt;<span class="type">int</span> <span class="title">find</span><span class="params">(q)</span><span class="comment">//æŸ¥æ‰¾æ‰€åœ¨çš„åˆ†é‡æ ‡è¯†ç¬¦</span></span></span><br><span class="line"><span class="function">&gt;<span class="type">bool</span> <span class="title">connected</span><span class="params">(p,q)</span><span class="comment">//åˆ¤æ–­æ˜¯å¦å­˜åœ¨äºä¸€ä¸ªåˆ†é‡ä¸­</span></span></span><br><span class="line"><span class="function">&gt;<span class="type">int</span> <span class="title">count</span><span class="params">()</span><span class="comment">//è®¡ç®—è¿é€šåˆ†é‡çš„ä¸ªæ•°</span></span></span><br></pre></td></tr></table></figure><p>äºæ˜¯æˆ‘ä»¬å°±éœ€è¦å®šä¹‰ä¸€ç§æ•°æ®ç»“æœå®ç°ä»¥ä¸Šçš„æ€æƒ³å› æ­¤æˆ‘ä»¬éœ€è¦</p><ul><li><p>å®šä¹‰ä¸€ç§æ•°æ®ç»“æ„è¡¨ç¤ºå·²çŸ¥è¿æ¥</p></li><li><p>å®ç°ä»¥ä¸Šæ–¹æ³•</p></li></ul><p>æ•°æ®ç»“æ„çš„æ€§è´¨å°†ç›´æ¥å½±å“åˆ°ç®—æ³•çš„æ•ˆç‡ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨</p><blockquote><ul><li>è§¦ç‚¹ä¸ºç´¢å¼•id[]åšåŸºæœ¬çš„æ•°æ®ç»“æ„æ¥è¡¨ç¤ºæ‰€æœ‰çš„åˆ†é‡</li><li>ä½¿ç”¨æŸä¸ªè§¦ç‚¹çš„åç§°åšä¸ºåˆ†é‡çš„æ ‡è¯†ç¬¦ï¼Œä¹Ÿå› æ­¤æ¯ä¸ªåˆ†é‡éƒ½æ˜¯ç”±ä»–çš„è§¦ç‚¹ä¹‹ä¸€è¡¨ç¤ºçš„</li><li>ä¸€å¼€å§‹æ¯ä¸ªè§¦ç‚¹éƒ½ä¸ºä¸€ä¸ªç‹¬ç«‹çš„åˆ†é‡ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠåˆ†é‡åˆå§‹åŒ–ä¸ºi</li><li>ç”¨findæ–¹æ³•æ¥åˆ¤æ–­å®ƒå±äºé‚£ä¸ªåˆ†é‡å½“ä¸­</li><li>coonectedç”¨æ¥åˆ¤æ–­find(p)==find(q)ï¼Œè¿”å›å¸ƒå°”å€¼</li><li>uninoç”¨æ¥è¿æ¥è¿ä¸ªè¿™ä¸¤ä¸ªåˆ†é‡</li></ul></blockquote></blockquote><h3 id="3å…ˆå†™ä¸ªdemo"><a class="markdownIt-Anchor" href="#3å…ˆå†™ä¸ªdemo"></a> 3.å…ˆå†™ä¸ªdemo</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Created by youmingsama on 2021/4/22.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> id[<span class="number">10000</span>];</span><br><span class="line"><span class="type">int</span> count1=<span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> N=<span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">UF</span><span class="params">(<span class="type">int</span> id[],<span class="type">int</span> *count,<span class="type">int</span> N)</span></span>&#123;</span><br><span class="line">    *count=N;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; N; ++i) &#123;</span><br><span class="line">        id[i]=i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">count</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> count1;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> p)</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (p!=id[p])&#123;</span><br><span class="line">        p=id[p];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">connected</span><span class="params">(<span class="type">int</span> p,<span class="type">int</span> q)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">find</span>(p)==<span class="built_in">find</span>(q);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">union1</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> q)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> pRoot=<span class="built_in">find</span>(p);</span><br><span class="line">    <span class="type">int</span> qRoot=<span class="built_in">find</span>(q);</span><br><span class="line">    <span class="keyword">if</span> (pRoot==qRoot)&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    id[pRoot]=qRoot;</span><br><span class="line">    count1--;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> a[<span class="number">8</span>],b[<span class="number">8</span>];</span><br><span class="line">    <span class="type">int</span> ans=<span class="number">6</span>;</span><br><span class="line">    cin&gt;&gt;N;</span><br><span class="line">    <span class="built_in">UF</span>(id,&amp;count1,N);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">8</span>; ++i) &#123;</span><br><span class="line">        cin&gt;&gt;a[i]&gt;&gt;b[i];</span><br><span class="line">        <span class="type">int</span> p=a[i];</span><br><span class="line">        <span class="type">int</span> q=b[i];</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">connected</span>(p,q)) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="built_in">union1</span>(p,q);</span><br><span class="line">        cout&lt;&lt;p&lt;&lt;<span class="string">&quot;--&gt;&quot;</span>&lt;&lt;q&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;count1;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="å…³äºä¸åŒçš„å®ç°æ–¹æ³•"><a class="markdownIt-Anchor" href="#å…³äºä¸åŒçš„å®ç°æ–¹æ³•"></a> å…³äºä¸åŒçš„å®ç°æ–¹æ³•</h3><p>å¯¹ç®—æ³•çš„æ ¸å¿ƒå¤„ç†æ— å¼‚äºæ˜¯å¯¹findå‡½æ•°å’Œunionï¼Œå…¶ä»–çš„å‡½æ•°éƒ½å¤§åŒå°å¼‚å¯¹ç®—æ³•çš„æ•ˆç‡å½±å“ä¸å¤§ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬é‡ç‚¹æ¥çœ‹findæ–¹æ³•å’Œunionç®—æ³•çš„å®ç°</p><h4 id="quick-findç®—æ³•"><a class="markdownIt-Anchor" href="#quick-findç®—æ³•"></a> quick-findç®—æ³•</h4><p>ä¸€ç§å®ç°æ–¹æ³•æ˜¯ä¿è¯<code>id[p]==id[q]</code>,è¿™åˆ™è¯´æ˜å½“å‰på’Œqæ˜¯è¿é€šçš„æ˜¯å±äºåŒä¸€ä¸ªåˆ†é‡ï¼Œä¹Ÿå°±è¯´è¿é€šåˆ†é‡é‡çš„æ‰€æœ‰è§¦ç‚¹çš„id[]å¿…é¡»æ˜¯ç›¸åŒçš„ï¼Œè¿™å°±æ„å‘³ç€<code>connected</code>åªéœ€è¦åˆ¤æ–­<code>id[p]==id[q]</code>å°±èƒ½åˆ¤æ–­æ˜¯å¦å±äºåŒä¸€ä¸ªè¿é€šåˆ†é‡ã€‚</p><p>å¦‚æœå±äºåŒä¸€ä¸ªè¿é€šåˆ†é‡æˆ‘ä»¬å°±ä¸éœ€è¦åšä»»ä½•æ“ä½œï¼Œå¦‚æœä¸æ˜¯å±äºåŒä¸€ä¸ªè¿é€šåˆ†é‡æˆ‘ä»¬å°±éœ€è¦åšè¿æ¥æ“ä½œå•¦ã€‚union(p,q)æŠŠä¸¤ä¸ªåˆ†é‡åˆäºŒä¸ºä¸€å°±æ„å‘³ç€id[]çš„å€¼å¿…é¡»æ˜¯ç›¸ç­‰çš„ï¼Œç­‰äºä¸¤æ–¹ä»»ä½•ä¸€æ–¹çš„å€¼<code>(id[p] or id(q))ã€‚</code>ä¸ºæ­¤æˆ‘ä»¬éœ€è¦éå†æ•°ç»„æŠŠå…¶ä¸­ä¸€ä¸ªé›†åˆçš„id[]ï¼Œå˜æˆå¦å¤–ä¸€ä¸ªé›†åˆçš„id[]å€¼ã€‚</p><p>å˜›ç®€å•æ•´ç†ä»¥ä¸‹å°±æ˜¯ï¼š</p><blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="built_in">find</span>(p)&#123;</span><br><span class="line">&gt;<span class="keyword">return</span> id[p]</span><br><span class="line">&gt;&#125;</span><br><span class="line">&gt;<span class="keyword">if</span> <span class="built_in">connected</span>(p,q)</span><br><span class="line">&gt;<span class="keyword">continue</span></span><br><span class="line">&gt;<span class="built_in">union</span>(p,q)&#123;</span><br><span class="line">&gt;<span class="type">int</span> pid=<span class="built_in">find</span>(p);</span><br><span class="line">&gt;<span class="type">int</span> pid=<span class="built_in">find</span>(q);</span><br><span class="line">&gt;<span class="keyword">if</span> pid==qid <span class="keyword">return</span>;</span><br><span class="line">&gt;<span class="keyword">for</span> i=<span class="number">0</span>,i&lt;id.length;i++&#123;</span><br><span class="line">  <span class="keyword">if</span> (id[i]==pid)&#123;</span><br><span class="line">      id[i]=qid;</span><br><span class="line">  &#125;</span><br><span class="line">  count--;</span><br><span class="line">&gt;&#125;</span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure></blockquote><blockquote><p>åœ¨qiuckç®—æ³•ä¸­ï¼Œfindæ“ä½œæ˜¾ç„¶æ˜¯å¾ˆå¿«çš„ï¼Œå› ä¸ºå®ƒåªéœ€è¦è®¿é—®idä¸€æ¬¡ï¼Œä½†æ˜¯å¯¹äºå¤„ç†è¾ƒå¤§å‹çš„é—®é¢˜ï¼Œæ¯ä¸€æ¬¡æ‰§è¡Œuninoéƒ½è¦æ‰«æä¸€idæ•°ç»„ å¦‚æœä½¿ç”¨quick-findç®—æ³•æ¥è§£å†³åŠ¨æ€è¿é€šæ€§é—®é¢˜æœ€ååªå¾—åˆ°äº†ä¸€ä¸ªè¿é€šåˆ†é‡ï¼Œé‚£ä¹ˆè‡³å°‘è¦è°ƒç”¨N-1æ¬¡unionï¼Œé‚£ä¹ˆæ•°ç»„è®¿é—®è‡³å°‘è¦è®¿é—®(N-4)(N-1),æ˜¾ç„¶å¹³æ–¹çº§åˆ«çš„åœ¨æˆ‘ä»¬å¤„ç†éå¸¸å¤§å‹çš„é¡¹ç›®ä¸Šæ˜¯å¾ˆéš¾æ¥å—çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ›´å¿«çš„ç®—æ³•ã€‚</p></blockquote><h4 id="quick-unionç®—æ³•"><a class="markdownIt-Anchor" href="#quick-unionç®—æ³•"></a> quick-unionç®—æ³•</h4>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;å¹¶æŸ¥é›†çœŸçš„æ˜¯å¤ªæ£’äº†&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#å¹¶æŸ¥é›†çœŸçš„æ˜¯å¤ªæ£’äº†&quot;&gt;&lt;/a&gt; å¹¶æŸ¥é›†çœŸçš„æ˜¯å¤ªæ£’äº†&lt;/h2&gt;
&lt;p&gt;è¿™ä¸ªæœˆçš„leetcodeç®€ç›´å°±æ˜¯æŸ¥å¹¶é›†æœˆå•Šï¼Œæ‰“å¡æ²¡é”™ä¸€é¢˜ï¼ŒæŸ¥å¹¶é›†ï¼ŸæŸ¥å¹¶é›†ï¼Ÿåˆæ˜¯æŸ¥å¹¶é›†ï¼ä¸ä¼šï¼ä¸ä¼šï¼åˆä¸</summary>
      
    
    
    
    <category term="bugçš„ç‚¼é‡‘å·¥åŠ" scheme="https://blog.youmingsama.cn/categories/bug%E7%9A%84%E7%82%BC%E9%87%91%E5%B7%A5%E5%9D%8A/"/>
    
    
    <category term="data structure" scheme="https://blog.youmingsama.cn/tags/data-structure/"/>
    
  </entry>
  
  <entry>
    <title>ç¢ç¢å¿µ3</title>
    <link href="https://blog.youmingsama.cn/posts/2f9356bf/"/>
    <id>https://blog.youmingsama.cn/posts/2f9356bf/</id>
    <published>2021-04-11T00:00:00.000Z</published>
    <updated>2023-06-23T07:25:57.098Z</updated>
    
    
    
    
    <category term="ç¢ç¢å¿µ" scheme="https://blog.youmingsama.cn/categories/%E7%A2%8E%E7%A2%8E%E5%BF%B5/"/>
    
    
    <category term="ç¢ç¢å¿µ" scheme="https://blog.youmingsama.cn/tags/%E7%A2%8E%E7%A2%8E%E5%BF%B5/"/>
    
    <category term="ä¸çŸ¥é“åœ¨è®²å•¥" scheme="https://blog.youmingsama.cn/tags/%E4%B8%8D%E7%9F%A5%E9%81%93%E5%9C%A8%E8%AE%B2%E5%95%A5/"/>
    
  </entry>
  
  <entry>
    <title>ç¬¬ä¸€æ¬¡çš„Cloudflare worker</title>
    <link href="https://blog.youmingsama.cn/posts/ea3732f5/"/>
    <id>https://blog.youmingsama.cn/posts/ea3732f5/</id>
    <published>2021-03-07T00:00:00.000Z</published>
    <updated>2021-03-07T00:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="cloudflareçœŸå¥½ç©"><a class="markdownIt-Anchor" href="#cloudflareçœŸå¥½ç©"></a> CloudflareçœŸå¥½ç©</h2><p>åœ¨nisamaå¼ºçƒˆçš„æ¨èä¸‹æˆ‘æ€€ç€å¥½å¥‡çš„å¿ƒæ€å¼€å§‹äº†cloudflareçš„ç–¯ç‹‚è¸©å‘ï¼Œæ— éæ˜¯è¿™ä¸€ä¸ªæœˆæŒºå¤šäº†nisamaå…³äºâ€˜å•Šæ— æœåŠ¡å™¨å®åœ¨æ˜¯å¤ªçˆ½å•¦â€™ï¼Œâ€˜ç™½å«–çœŸçˆ½å•Šâ€™ï¼Œâ€˜å—¯ï¼Œç™½å«–ä¸‹æ¬¡è¿˜ç™½å«–â€™ï¼Œ<strong>Cloudflare</strong>ï¼ˆ<a href="https://zh.wikipedia.org/wiki/%E7%BA%BD%E7%BA%A6%E8%AF%81%E5%88%B8%E4%BA%A4%E6%98%93%E6%89%80">NYSE</a>ï¼š<a href="http://www.nyse.com/quote/XNYS:NET">NET</a>ï¼‰æ˜¯ä¸€å®¶æ€»éƒ¨ä½äºæ—§é‡‘å±±çš„ç¾å›½è·¨å›½ç§‘æŠ€ä¼ä¸šï¼Œä»¥å‘å®¢æˆ·æä¾›åŸºäº<a href="https://zh.wikipedia.org/wiki/%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86">åå‘ä»£ç†</a>çš„<a href="https://zh.wikipedia.org/wiki/%E5%85%A7%E5%AE%B9%E5%82%B3%E9%81%9E%E7%B6%B2%E8%B7%AF">å†…å®¹åˆ†å‘ç½‘ç»œ</a>ï¼ˆContent Delivery Network, CDNï¼‰åŠåˆ†å¸ƒå¼åŸŸåè§£ææœåŠ¡ï¼ˆDistributed Domain Name Serverï¼‰ä¸ºä¸»è¦ä¸šåŠ¡ã€‚åˆ©ç”¨ Cloudflare å…¨çƒ<a href="https://zh.wikipedia.org/wiki/%E4%BB%BB%E6%92%AD">ä»»æ’­</a>ç½‘ç»œï¼ŒCloudflareå¯ä»¥å¸®åŠ©å—ä¿æŠ¤ç«™ç‚¹æŠµå¾¡åŒ…<a href="https://zh.wikipedia.org/wiki/%E9%98%BB%E6%96%B7%E6%9C%8D%E5%8B%99%E6%94%BB%E6%93%8A">æ‹’ç»æœåŠ¡æ”»å‡»</a>ç­‰ç½‘ç»œæ”»å‡»ï¼Œç¡®ä¿è¯¥ç½‘ç«™é•¿æœŸåœ¨çº¿ï¼ŒåŒæ—¶æå‡ç½‘ç«™çš„æ€§èƒ½ã€åŠ è½½é€Ÿåº¦ä»¥æ”¹å–„è®¿å®¢ä½“éªŒã€‚å—¯cloudflareæ˜¯æœ€å¯Œç››åçš„cdnæœåŠ¡å•†ï¼Œä¸è¿‡è™½ç„¶å®ƒå¾ˆé¦™ä½†æŠµä¸ä½å®ƒè´µå•Šï¼Œcloudflareä¸Šå¾ˆå¤šä½“éªŒè‰¯å¥½çš„æœåŠ¡éƒ½æ˜¯æ”¶è´¹çš„ï¼Œå½“ç„¶ä¸€æåˆ°cdnæœ€ä¼˜ç§€çš„æœåŠ¡å•†å½“ç„¶æ˜¯cloudflareï¼ˆï¼Ÿå½“ç„¶å¯¹äºcloudflareä¸Šæä¾›çš„å…è´¹cdnå½“ç„¶æ²¡æœ‰é€ƒè¿‡å¯çˆ±çš„å‹¤åŠ³çš„ä¸­å›½äººæ°‘æ’¸ç¾Šæ¯›çš„æœºä¼šï¼Œäºæ˜¯ä½ ä¼šç®€å•ä¸ç®¡æ˜¯ç½‘ç«™ï¼Œå„ç§ç¨€å¥‡å¤æ€ªçš„åº”ç”¨ç”šè‡³æ˜¯å„ç§æ¢¯å­éƒ½åœ¨ç”¨cloudflareåšCDNï¼Œæ¯•ç«Ÿå…¥å£å¸¦å®½ä¹Ÿæ˜¯æœ‰é™çš„ï¼Œè¿™å°±å¯¼è‡´åœ¨ç”¨ç½‘é«˜å³°æœŸç”šè‡³æ˜¯æ—¥å¸¸ä½¿ç”¨çš„å“åº”é€Ÿåº¦ä¸å°½å¦‚äººæ„ï¼Œå½“ç„¶ä¹Ÿæ˜¯å› ä¸ºæ¯•ç«Ÿä¹Ÿæ˜¯å›½å¤–çš„èŠ‚ç‚¹å•¦ï¼Œä¸‹å›¾ä¸ºæˆ‘2021å¹´3æœˆ8æ—¥çš„æµ‹è¯•ç»“æœã€‚</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo_1/img2/ping.png" alt="ping 1.1.1.1" /></p><blockquote><p><strong>1.1.1.1</strong>æ˜¯ä¸€æ¬¾å…è´¹çš„åŸŸåè§£ææœåŠ¡ï¼Œä¹Ÿå°±æ˜¯åŸŸåæœåŠ¡å™¨ï¼Œç”±<a href="https://zh.wikipedia.org/wiki/CloudFlare">CloudFlare</a>ä¸<a href="https://zh.wikipedia.org/wiki/%E4%BA%9A%E5%A4%AA%E4%BA%92%E8%81%94%E7%BD%91%E7%BB%9C%E4%BF%A1%E6%81%AF%E4%B8%AD%E5%BF%83">APNIC</a>å…±åŒæ‹¥æœ‰ä¸ç»´æŠ¤ã€‚è¯¥æœåŠ¡äº2018å¹´4æœˆ1æ—¥å‘è¡¨å¯ç”¨ä¸”è¢«Cloudflareç§°ä¸ºâ€œäº’è”ç½‘æœ€å¿«ã€ä»¥éšç§ä¼˜å…ˆçš„æ¶ˆè´¹è€…ç«¯DNSæœåŠ¡â€ï¼ˆthe Internetâ€™s fastest, privacy-first consumer DNS serviceï¼‰</p></blockquote><p>å½“ç„¶åšä¸ºä¸€ä¸ªæ­£ç»äººæˆ‘å¹¶æ²¡æœ‰æ€ä¹ˆè–…è¿‡cloudflareçš„ç¾Šæ¯›ï¼Œå½“ç„¶è®©æˆ‘å¯¹cloudflareç›´å‘¼çœŸé¦™çš„ä¹Ÿå¹¶ä»–ä»¬çš„cdnè€Œæ˜¯ä»–ä»¬çš„Cloudflare Workersï¼ï¼ä¸è¿‡åœ¨ç–¯ç‹‚è¸©å‘ä¹‹å‰æœ‰å¿…è¦äº†è§£ä¸€ä¸‹å’ŒCloudflare Workersæœ‰å…³çš„æ— æœåŠ¡å™¨è®¡ç®—</p><h3 id="å…³äºè¿™ç‚¹æˆ‘æƒ³cloudflareçš„æ–‡æ¡£æä¾›äº†è¯¦ç»†çš„è§£é‡Š"><a class="markdownIt-Anchor" href="#å…³äºè¿™ç‚¹æˆ‘æƒ³cloudflareçš„æ–‡æ¡£æä¾›äº†è¯¦ç»†çš„è§£é‡Š"></a> å…³äºè¿™ç‚¹æˆ‘æƒ³cloudflareçš„æ–‡æ¡£æä¾›äº†è¯¦ç»†çš„è§£é‡Š</h3><p>æ— æœåŠ¡å™¨è®¡ç®—æ˜¯ä¸€ç§æŒ‰éœ€æä¾›åç«¯æœåŠ¡çš„æ–¹æ³•ã€‚æ— æœåŠ¡å™¨æ¶æ„å…è®¸ç”¨æˆ·ç¼–å†™å’Œéƒ¨ç½²ä»£ç ï¼Œè€Œä¸å¿…æ‹…å¿ƒåº•å±‚åŸºç¡€è®¾æ–½ã€‚ä»æ— æœåŠ¡å™¨æä¾›å•†è·å¾—åç«¯æœåŠ¡çš„å…¬å¸å°†æ ¹æ®å…¶è®¡ç®—é‡æ¥ä»˜è´¹ï¼Œè€Œä¸å¿…ä¿ç•™å’Œæ”¯ä»˜å›ºå®šæ•°é‡çš„å¸¦å®½æˆ–æœåŠ¡å™¨ï¼Œå› ä¸ºè¯¥æœåŠ¡å¯è‡ªåŠ¨æ‰©å±•ã€‚è¯·æ³¨æ„ï¼Œå°½ç®¡ç§°ä¸ºæ— æœåŠ¡å™¨ï¼Œä½†å®ƒä»ä½¿ç”¨äº†ç‰©ç†æœåŠ¡å™¨ï¼Œåªæ˜¯å¼€å‘äººå‘˜ä¸éœ€è¦è€ƒè™‘å®ƒä»¬çš„å­˜åœ¨ã€‚</p><p>åœ¨Webæ—©æœŸï¼Œä»»ä½•æƒ³è¦æ„å»ºWebåº”ç”¨ç¨‹åºçš„äººéƒ½å¿…é¡»æ‹¥æœ‰è¿è¡ŒæœåŠ¡å™¨æ‰€éœ€çš„ç‰©ç†ç¡¬ä»¶ï¼Œè¿™æ˜¯ä¸€é¡¹ç¹çè€Œæ˜‚è´µçš„å·¥ä½œã€‚</p><p>ä¹‹åæ˜¯äº‘ï¼Œå¯ä»¥è¿œç¨‹ç§Ÿç”¨å›ºå®šæ•°é‡çš„æœåŠ¡å™¨æˆ–ä¸€å®šæ•°é‡çš„æœåŠ¡å™¨ç©ºé—´ã€‚ç§Ÿç”¨è¿™äº›å›ºå®šæœåŠ¡å™¨ç©ºé—´å•å…ƒçš„å¼€å‘äººå‘˜å’Œå…¬å¸é€šå¸¸ä¼šè¿‡åº¦è´­ä¹°ï¼Œä»¥ç¡®ä¿æµé‡æˆ–æ´»åŠ¨çš„æ¿€å¢ä¸ä¼šå› ä¸ºè¶…è¿‡æ¯æœˆé™é¢è€Œä¸­æ–­å…¶åº”ç”¨ç¨‹åºã€‚è¿™æ„å‘³ç€é€šå¸¸æ”¯ä»˜çš„å¤§éƒ¨åˆ†æœåŠ¡å™¨ç©ºé—´éƒ½æµªè´¹äº†ã€‚äº‘ä¾›åº”å•†å·²ç»å¼•å…¥äº†è‡ªåŠ¨æ‰©å±•æ¨¡å‹æ¥è§£å†³è¯¥é—®é¢˜ï¼Œä½†æ˜¯å³ä½¿æ˜¯è‡ªåŠ¨æ‰©å±•ï¼Œä¹Ÿå¯èƒ½å› ä¸ºæ¶æ„æ´»åŠ¨æ¿€å¢ï¼ˆä¾‹å¦‚ <a href="https://www.cloudflare.com/zh-cn/learning/ddos/what-is-a-ddos-attack">DDoS æ”»å‡»</a>ï¼‰è€Œäº§ç”Ÿéå¸¸æ˜‚è´µçš„æˆæœ¬ã€‚</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/tupianpian@master/img/benefits-of-serverless.svg" alt="" /></p><p>æ— æœåŠ¡å™¨è®¡ç®—å…è®¸å¼€å‘äººå‘˜åœ¨çµæ´»çš„â€œæŒ‰éœ€ä»˜è´¹â€çš„åŸºç¡€ä¸Šè´­ä¹°åç«¯æœåŠ¡ï¼Œè¿™æ„å‘³ç€å¼€å‘äººå‘˜ä»…éœ€ä¸ºä½¿ç”¨çš„æœåŠ¡ä»˜è´¹ã€‚è¿™å°±åƒä»æ¯æœˆå›ºå®šé™é¢çš„æ‰‹æœºæ•°æ®å¥—é¤åˆ‡æ¢åˆ°åªä¸ºå®é™…ä½¿ç”¨çš„æ¯ä¸ªå­—èŠ‚æ•°æ®æ”¶è´¹çš„å¥—é¤ä¸€æ ·ã€‚</p><p>â€œæ— æœåŠ¡å™¨â€ä¸€è¯åœ¨æŸç§ç¨‹åº¦ä¸Šå…·æœ‰è¯¯å¯¼æ€§ï¼Œå› ä¸ºå®ƒä»ç„¶æœ‰æœåŠ¡å™¨æä¾›è¿™äº›åç«¯æœåŠ¡ï¼Œä½†æ˜¯æ‰€æœ‰æœåŠ¡å™¨ç©ºé—´å’ŒåŸºç¡€è®¾æ–½é—®é¢˜éƒ½ç”±æä¾›å•†å¤„ç†ã€‚æ— æœåŠ¡å™¨æ„å‘³ç€å¼€å‘äººå‘˜å¯ä»¥å®Œå…¨ä¸ç”¨æ‹…å¿ƒæœåŠ¡å™¨ã€‚</p><h3 id="ä»€ä¹ˆæ˜¯åç«¯æœåŠ¡å‰ç«¯å’Œåç«¯ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆæ˜¯åç«¯æœåŠ¡å‰ç«¯å’Œåç«¯ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«"></a> ä»€ä¹ˆæ˜¯åç«¯æœåŠ¡ï¼Ÿå‰ç«¯å’Œåç«¯ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3><p>åº”ç”¨ç¨‹åºå¼€å‘é€šå¸¸åˆ†ä¸ºä¸¤ä¸ªé¢†åŸŸï¼šå‰ç«¯å’Œåç«¯ã€‚å‰ç«¯æ˜¯ç”¨æˆ·çœ‹åˆ°å¹¶ä¸ä¹‹äº¤äº’çš„åº”ç”¨ç¨‹åºéƒ¨åˆ†ï¼Œä¾‹å¦‚è§†è§‰è®¾è®¡ã€‚åç«¯æ˜¯ç”¨æˆ·çœ‹ä¸åˆ°çš„éƒ¨åˆ†ã€‚å…¶ä¸­åŒ…æ‹¬åº”ç”¨ç¨‹åºæ–‡ä»¶æ‰€åœ¨çš„æœåŠ¡å™¨ä»¥åŠæŒä¹…å­˜å‚¨ç”¨æˆ·æ•°æ®å’Œä¸šåŠ¡é€»è¾‘çš„æ•°æ®åº“ã€‚</p><p>![<img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/tupianpian@master/img/frontend-vs-backend.svg" alt="" /></p><p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥æƒ³è±¡ä¸€ä¸ªå–éŸ³ä¹ä¼šé—¨ç¥¨çš„ç½‘ç«™ã€‚å½“ç”¨æˆ·åœ¨æµè§ˆå™¨çª—å£ä¸­é”®å…¥è¯·æ±‚æ—¶ï¼Œæµè§ˆå™¨ä¼šå°†è¯·æ±‚å‘é€åˆ°åç«¯æœåŠ¡å™¨ï¼Œåç«¯æœåŠ¡å™¨ä»¥ç½‘ç«™æ•°æ®ä½œä¸ºå“åº”ã€‚ç„¶åï¼Œç”¨æˆ·å°†çœ‹åˆ°ç½‘ç«™çš„å‰ç«¯ï¼Œè¯¥å‰ç«¯å°†åŒ…æ‹¬æ–‡æœ¬ã€å›¾åƒå’Œä¾›ç”¨æˆ·å¡«å†™çš„è¡¨å•å­—æ®µã€‚ç„¶åï¼Œç”¨æˆ·å¯ä»¥ä¸å‰ç«¯ä¸Šçš„è¡¨å•å­—æ®µä¹‹ä¸€è¿›è¡Œäº¤äº’ï¼Œä»¥æœç´¢ä»–ä»¬å–œæ¬¢çš„éŸ³ä¹è¡¨æ¼”ã€‚å½“ç”¨æˆ·å•å‡»â€œæäº¤â€æ—¶ï¼Œè¿™å°†è§¦å‘å¦ä¸€ä¸ªå¯¹åç«¯çš„è¯·æ±‚ã€‚åç«¯ä»£ç æ£€æŸ¥å…¶æ•°æ®åº“ï¼Œä»¥æŸ¥çœ‹æ˜¯å¦å­˜åœ¨å…·æœ‰è¯¥åç§°çš„è¡¨æ¼”è€…ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™ä¼šåé¦ˆä¸‹æ¬¡è¡¨æ¼”çš„æ—¶é—´ä»¥åŠæœ‰å¤šå°‘å¯å”®çš„ç¥¨ã€‚ç„¶åï¼Œåç«¯ä¼šå°†æ•°æ®ä¼ é€’å›å‰ç«¯ï¼Œå‰ç«¯å°†ä»¥ç”¨æˆ·èƒ½ç†è§£çš„æ–¹å¼æ˜¾ç¤ºç»“æœã€‚åŒæ ·ï¼Œå½“ç”¨æˆ·åˆ›å»ºä¸€ä¸ªå¸æˆ·å¹¶è¾“å…¥è´¢åŠ¡ä¿¡æ¯ä»¥è´­ä¹°ç¥¨æ—¶ï¼Œå‰ç«¯ä¸åç«¯ä¹‹é—´å°†å‘ç”Ÿå¦ä¸€æ¬¡æ¥å›é€šä¿¡ã€‚</p><h3 id="æ— æœåŠ¡å™¨è®¡ç®—å¯ä»¥æä¾›ä»€ä¹ˆæ ·çš„åç«¯æœåŠ¡"><a class="markdownIt-Anchor" href="#æ— æœåŠ¡å™¨è®¡ç®—å¯ä»¥æä¾›ä»€ä¹ˆæ ·çš„åç«¯æœåŠ¡"></a> æ— æœåŠ¡å™¨è®¡ç®—å¯ä»¥æä¾›ä»€ä¹ˆæ ·çš„åç«¯æœåŠ¡ï¼Ÿ</h3><p>å¤§å¤šæ•°æ— æœåŠ¡å™¨æä¾›å•†éƒ½ä¸ºå…¶å®¢æˆ·æä¾›æ•°æ®åº“å’Œå­˜å‚¨æœåŠ¡ï¼Œå¹¶ä¸”è®¸å¤šæ— æœåŠ¡å™¨æä¾›å•†è¿˜å…·æœ‰<a href="https://www.cloudflare.com/zh-cn/learning/serverless/glossary/function-as-a-service-faas">åŠŸèƒ½å³æœåŠ¡ï¼ˆFaaSï¼‰</a>å¹³å°ï¼Œä¾‹å¦‚ <a href="https://www.cloudflare.com/zh-cn/products/cloudflare-workers">Cloudflare Workers</a>ã€‚è¿™äº›å¹³å°å¯ä»¥åœ¨ä¸å­˜å‚¨ä»»ä½•æ•°æ®çš„æƒ…å†µä¸‹åœ¨è¾¹ç¼˜æ‰§è¡Œä»£ç ã€‚</p><h3 id="æ— æœåŠ¡å™¨è®¡ç®—çš„ä¼˜åŠ¿æ˜¯ä»€ä¹ˆ"><a class="markdownIt-Anchor" href="#æ— æœåŠ¡å™¨è®¡ç®—çš„ä¼˜åŠ¿æ˜¯ä»€ä¹ˆ"></a> æ— æœåŠ¡å™¨è®¡ç®—çš„ä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ</h3><ul><li><strong>é™ä½æˆæœ¬</strong> â€“ æ— æœåŠ¡å™¨è®¡ç®—é€šå¸¸å…·æœ‰å¾ˆé«˜çš„æˆæœ¬æ•ˆç›Šï¼Œå› ä¸ºä¼ ç»Ÿçš„åç«¯æœåŠ¡ï¼ˆæœåŠ¡å™¨åˆ†é…ï¼‰äº‘æä¾›å•†ç»å¸¸å¯¼è‡´ç”¨æˆ·ä¸ºæœªä½¿ç”¨çš„ç©ºé—´æˆ–ç©ºé—²çš„ CPU æ—¶é—´ä»˜è´¹ã€‚</li><li><strong>ç®€åŒ–å¯æ‰©å±•æ€§</strong> â€“ ä½¿ç”¨æ— æœåŠ¡å™¨æ¶æ„çš„å¼€å‘äººå‘˜ä¸å¿…æ‹…å¿ƒæ‰©å±•å…¶ä»£ç çš„ç­–ç•¥ã€‚æ— æœåŠ¡å™¨ä¾›åº”å•†å¯æŒ‰éœ€å¤„ç†æ‰€æœ‰æ‰©å±•ã€‚</li><li><strong>ç®€åŒ–åç«¯ä»£ç </strong> â€“ ä½¿ç”¨ FaaSï¼Œå¼€å‘äººå‘˜å¯ä»¥åˆ›å»ºç®€å•çš„åŠŸèƒ½ï¼Œè¿™äº›åŠŸèƒ½ç‹¬ç«‹åœ°æ‰§è¡Œå•ä¸ªç›®çš„ï¼Œä¾‹å¦‚è¿›è¡Œ API è°ƒç”¨ã€‚</li><li><strong>åŠ å¿«å‘¨è½¬æ—¶é—´</strong> â€“ æ— æœåŠ¡å™¨æ¶æ„å¯ä»¥å¤§å¤§ç¼©çŸ­äº§å“ä¸Šå¸‚æ—¶é—´ã€‚å¼€å‘äººå‘˜æ— éœ€é€šè¿‡å¤æ‚çš„éƒ¨ç½²è¿‡ç¨‹å®æ–½é”™è¯¯ä¿®å¤å’Œæ–°åŠŸèƒ½ï¼Œè€Œæ˜¯é€ä¸ªæ·»åŠ å’Œä¿®æ”¹ä»£ç ã€‚</li></ul><h3 id="cloudflare-workers-æ˜¯ä»€ä¹ˆ"><a class="markdownIt-Anchor" href="#cloudflare-workers-æ˜¯ä»€ä¹ˆ"></a> Cloudflare Workers æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>Cloudflare Workers æ˜¯ä¸€ä¸ªå¹³å°ï¼Œç”¨äºä½¿æ— æœåŠ¡å™¨åŠŸèƒ½å°½å¯èƒ½æ¥è¿‘æœ€ç»ˆç”¨æˆ·è¿è¡Œã€‚æœ¬è´¨ä¸Šï¼Œæ— æœåŠ¡å™¨ä»£ç æœ¬èº«æ˜¯â€œç¼“å­˜â€åœ¨ç½‘ç»œä¸Šçš„ï¼Œå¹¶åœ¨æ”¶åˆ°æ­£ç¡®ç±»å‹çš„è¯·æ±‚æ—¶è¿è¡Œã€‚Cloudflare Workers æ˜¯æ ¹æ® service workers API ç”¨ JavaScript ç¼–å†™çš„ï¼Œè¿™æ„å‘³ç€å®ƒä»¬å¯ä»¥ä½¿ç”¨ service workers æä¾›çš„æ‰€æœ‰åŠŸèƒ½ã€‚å®ƒä»¬åˆ©ç”¨ Chrome V8 å¼•æ“æ‰§è¡Œã€‚Cloudflare Workers ä»£ç æ‰˜ç®¡åœ¨ Cloudflare éå¸ƒå…¨çƒçš„åºå¤§æ•°æ®ä¸­å¿ƒç½‘ç»œä¸­ã€‚</p><blockquote><p>Chrome V8ï¼Œä¹Ÿç§°ä¸ºâ€œ V8â€ï¼Œæ˜¯ Google ä¸ºç¼–è¯‘ã€ä¼˜åŒ–å’Œæ‰§è¡Œ JavaScript å¼€å‘çš„ JavaScript å¼•æ“ã€‚ä½¿ç”¨ V8 è¿›è¡Œ JavaScript ä»£ç æ‰§è¡Œï¼Œå¯å¤§å¤§å‡å°‘ JavaScript workers çš„å¯åŠ¨æ—¶é—´ï¼Œå› æ­¤æ¶ˆé™¤äº†å¤§å¤šæ•°æƒ…å†µä¸‹çš„â€œå†·å¯åŠ¨â€é—®é¢˜ã€‚V8 è¿˜è¿›è¡Œäº†è¯¦ç»†çš„å®‰å…¨æ¼æ´åˆ†æï¼Œå› æ­¤æ˜¯å®‰å…¨è¿è¡Œ JavaScript ä»£ç çš„ç†æƒ³é€‰æ‹©ã€‚</p></blockquote><h3 id="ä»€ä¹ˆæ˜¯æ— æœåŠ¡å™¨-javascript"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆæ˜¯æ— æœåŠ¡å™¨-javascript"></a> ä»€ä¹ˆæ˜¯æ— æœåŠ¡å™¨ JavaScriptï¼Ÿ</h3><p>æ— æœåŠ¡å™¨ JavaScript æ˜¯åŒ…å«å…¨éƒ¨æˆ–éƒ¨åˆ†åº”ç”¨ç¨‹åºçš„ JavaScript ä»£ç ï¼Œä»…åœ¨è¯·æ±‚æ—¶è¿è¡Œï¼Œä¸åœ¨ä¸“æœ‰æœåŠ¡å™¨ä¸Šæ‰˜ç®¡ã€‚å®ƒä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿæ„å»ºåœ¨ç½‘ç»œä¸­è¿è¡Œçš„é«˜æ€§èƒ½ã€ä½å»¶è¿Ÿçš„æ— æœåŠ¡å™¨åº”ç”¨ç¨‹åºï¼Œå¹¶é¿å…äº†è®¸å¤šä¸å…¶ä»–æ— æœåŠ¡å™¨åº”ç”¨ç¨‹åºç›¸å…³çš„é—®é¢˜ï¼Œä¾‹å¦‚å†·å¯åŠ¨ã€‚</p><p><a href="https://www.cloudflare.com/zh-cn/learning/serverless/what-is-serverless">æ— æœåŠ¡å™¨</a> JavaScript æ‰˜ç®¡åœ¨è¾¹ç¼˜ç½‘ç»œä¸­æˆ–ç”± HTTP ç¼“å­˜æœåŠ¡æ‰˜ç®¡ï¼Œåè€…å­˜å‚¨å†…å®¹ä»¥å¿«é€Ÿå“åº” HTTP è¯·æ±‚ã€‚å¼€å‘äººå‘˜å¯ä»¥ç¼–å†™å’Œéƒ¨ç½²å¤„ç† HTTP è¯·æ±‚çš„ JavaScript å‡½æ•°ï¼Œåœ¨å¤„ç†åå†å°†è¯·æ±‚ä¸€ç›´ä¼ é€’åˆ°<a href="https://www.cloudflare.com/zh-cn/learning/cdn/glossary/origin-server">æºç«™</a>ã€‚</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/tupianpian@master/img/serverless-javascript-running-on-edge-server.svg" alt="" /></p><p>ä½¿ç”¨æ— æœåŠ¡å™¨ JavaScriptï¼Œå¯ä»¥é€šè¿‡åœ¨è¾¹ç¼˜è¿è¡Œä»£ç æ¥æ‰©å±•ç°æœ‰åº”ç”¨ç¨‹åºçš„åŠŸèƒ½å¹¶æ”¹å–„ç”¨æˆ·ä½“éªŒï¼Œæˆ–è€…åˆ›å»ºä¸€ä¸ªå¿«é€Ÿä¸”é«˜åº¦å¯æ‰©å±•çš„ã€å…¨æ–°çš„ã€å®Œå…¨æ— æœåŠ¡å™¨çš„åº”ç”¨ç¨‹åºã€‚<a href="https://www.cloudflare.com/zh-cn/products/cloudflare-workers">Cloudflare Workers </a>å°±æ˜¯æ— æœåŠ¡å™¨ JavaScript å¹³å°ã€‚</p><blockquote><p>è¾¹ç¼˜è®¡ç®—æ˜¯ä¸€ç§è‡´åŠ›äºä½¿è®¡ç®—å°½å¯èƒ½é è¿‘æ•°æ®æºã€ä»¥å‡å°‘å»¶è¿Ÿå’Œå¸¦å®½ä½¿ç”¨çš„ç½‘ç»œç†å¿µã€‚ç®€è€Œè¨€ä¹‹ï¼Œè¾¹ç¼˜è®¡ç®—æ„å‘³ç€åœ¨äº‘ç«¯è¿è¡Œæ›´å°‘çš„è¿›ç¨‹ï¼Œå°†è¿™äº›è¿›ç¨‹ç§»åŠ¨åˆ°æœ¬åœ°ï¼Œä¾‹å¦‚ç”¨æˆ·çš„è®¡ç®—æœºã€<a href="https://www.cloudflare.com/zh-cn/learning/ddos/glossary/internet-of-things-iot">IoT è®¾å¤‡</a>æˆ–<a href="https://www.cloudflare.com/zh-cn/learning/cdn/glossary/edge-server">è¾¹ç¼˜æœåŠ¡å™¨</a>ã€‚å°†è®¡ç®—æ”¾åˆ°ç½‘ç»œè¾¹ç¼˜å¯ä»¥æœ€å¤§ç¨‹åº¦åœ°å‡å°‘å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´å¿…é¡»è¿›è¡Œçš„é•¿è·ç¦»é€šä¿¡é‡ã€‚</p></blockquote><h3 id="ä»€ä¹ˆæ˜¯-varnish"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆæ˜¯-varnish"></a> ä»€ä¹ˆæ˜¯ Varnishï¼Ÿ</h3><p>Varnish æ˜¯ä¸€ä¸ª Web åŠ é€Ÿå™¨ï¼Œæ—¨åœ¨åŠ é€Ÿ Web åº”ç”¨ç¨‹åºå¹¶æé«˜ç½‘ç«™æ€§èƒ½ã€‚å®ƒæ˜¯ä¸€ä¸ªç¼“å­˜ HTTP <a href="https://www.cloudflare.com/zh-cn/learning/cdn/glossary/reverse-proxy">åå‘ä»£ç†</a> ï¼Œè¿™æ„å‘³ç€å®ƒä½äºä»»ä½• Web æœåŠ¡å™¨çš„å‰ç«¯ï¼Œå¹¶é€šè¿‡ç¼“å­˜æˆ–å­˜å‚¨ Web å®¢æˆ·ç«¯ç»å¸¸è¯·æ±‚çš„ä»»ä½•å†…å®¹æ¥åŠ é€Ÿå¾€è¿”äºè¯¥æœåŠ¡å™¨çš„ HTTP æµé‡ã€‚å°† Varnish é…ç½®è¯­è¨€ï¼ˆç®€ç§° VCLï¼‰ä¸ Varnish ç»“åˆä½¿ç”¨ï¼Œå¼€å‘äººå‘˜å°±å¯ä»¥è‡ªå®šä¹‰ Varnish å¦‚ä½•ç®¡ç† Web è¯·æ±‚ã€‚</p><h3 id="åœ¨æ— æœåŠ¡å™¨æ¶æ„ä¸­ä½¿ç”¨-javascript-ä»£æ›¿-vcl-æœ‰ä»€ä¹ˆä¼˜åŠ¿"><a class="markdownIt-Anchor" href="#åœ¨æ— æœåŠ¡å™¨æ¶æ„ä¸­ä½¿ç”¨-javascript-ä»£æ›¿-vcl-æœ‰ä»€ä¹ˆä¼˜åŠ¿"></a> åœ¨æ— æœåŠ¡å™¨æ¶æ„ä¸­ä½¿ç”¨ JavaScript ä»£æ›¿ VCL æœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Ÿ</h3><p>VCL æ˜¯ä¸€ç§é…ç½®è¯­è¨€ï¼Œæ—¨åœ¨ä½¿ Varnish ç¼“å­˜æ˜“äºé…ç½®ï¼›å®ƒä¸æ˜¯ä¸€ç§æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€ã€‚VCL ä¸å¤Ÿçµæ´»ï¼Œæ— æ³•æ„å»ºæˆ–æ‰©å±•å¼ºå¤§çš„åº”ç”¨ç¨‹åºã€‚ä¸ JavaScript ç›¸æ¯”ï¼Œå®ƒçš„åŠŸèƒ½æœ‰é™ã€‚æ­¤å¤–ï¼ŒVCL ä¸åœ¨ Varnish å®æ–½ä¹‹å¤–ä½¿ç”¨ï¼Œå› æ­¤å¤§å¤šæ•°å¼€å‘äººå‘˜éƒ½ä¸ç†Ÿæ‚‰ VCLã€‚è€Œ JavaScript åˆ™åº”ç”¨å¹¿æ³›ï¼Œå¹¶ä¸”å·²ç»å¹¿æ³›ç”¨äºæ„å»ºåº”ç”¨ç¨‹åºã€‚åœ¨æ— æœåŠ¡å™¨æ¶æ„ä¸­ä½¿ç”¨ JavaScript å¯ä½¿å¼€å‘äººå‘˜ä»¥ä»–ä»¬ç†Ÿæ‚‰çš„è¯­è¨€æ„å»ºå®Œæ•´çš„åº”ç”¨ç¨‹åºã€‚</p><p>æ— æœåŠ¡å™¨ JavaScript ä½¿æ›´å¹¿æ³›çš„å¼€å‘äººå‘˜ç¾¤ä½“èƒ½å¤Ÿåˆ©ç”¨è¾¹ç¼˜ä¸Šçš„æ— æœåŠ¡å™¨è®¡ç®—ï¼Œå¹¶å…è®¸è¿™äº›å¼€å‘äººå‘˜æ„å»ºæ›´å¤šç§ç±»çš„åº”ç”¨ç¨‹åºã€‚</p><h3 id="ä¸ºä»€ä¹ˆä½¿ç”¨æ— æœåŠ¡å™¨-javascript-æ„å»ºåº”ç”¨ç¨‹åºå¯ä»¥å‡å°‘å»¶è¿Ÿ"><a class="markdownIt-Anchor" href="#ä¸ºä»€ä¹ˆä½¿ç”¨æ— æœåŠ¡å™¨-javascript-æ„å»ºåº”ç”¨ç¨‹åºå¯ä»¥å‡å°‘å»¶è¿Ÿ"></a> ä¸ºä»€ä¹ˆä½¿ç”¨æ— æœåŠ¡å™¨ JavaScript æ„å»ºåº”ç”¨ç¨‹åºå¯ä»¥å‡å°‘å»¶è¿Ÿï¼Ÿ</h3><p>æ— æœåŠ¡å™¨ JavaScript åœ¨ HTTP ç¼“å­˜ç½‘ç»œä¸­è¿è¡Œï¼Œè¯¥ç½‘ç»œæ¯”æºç«™ä¸Šæ‰˜ç®¡çš„ä»£ç æ›´æ¥è¿‘æœ€ç»ˆç”¨æˆ·ã€‚å› æ­¤ï¼Œè¯·æ±‚ä¸å¿…ä¸€è·¯ä¼ é€’åˆ°æºç«™å†ä¸€è·¯å›ä¼ ï¼Œåº”ç”¨ç¨‹åºå¯¹ç”¨æˆ·äº¤äº’çš„å“åº”é€Ÿåº¦æ›´å¿«ã€‚ç¼“å­˜ç½‘ç»œåœ¨åœ°ç†ä¸Šåˆ†å¸ƒçš„è¾¹ç¼˜ä½ç½®è¶Šå¤šï¼Œå»¶è¿Ÿæ—¶é—´å°±è¶ŠçŸ­ã€‚</p><h3 id="æ— æœåŠ¡å™¨-javascript-ä½•æ—¶è¿è¡Œ"><a class="markdownIt-Anchor" href="#æ— æœåŠ¡å™¨-javascript-ä½•æ—¶è¿è¡Œ"></a> æ— æœåŠ¡å™¨ JavaScript ä½•æ—¶è¿è¡Œï¼Ÿ</h3><p>åœ¨æ— æœåŠ¡å™¨æ¨¡å‹ä¸­ï¼Œåº”ç”¨ç¨‹åºè¢«åˆ†è§£ä¸ºå‡½æ•°ï¼Œå¹¶ä¸”å‡½æ•°ä»£ç åœ¨å“åº”æŸäº›äº‹ä»¶æ—¶è¿è¡Œï¼Œåœ¨å…¶ä»–æƒ…å†µä¸‹ä¸ä¼šè¿è¡Œã€‚è§¦å‘æ— æœåŠ¡å™¨ JavaScript æ‰§è¡Œçš„äº‹ä»¶æ˜¯ HTTP è¯·æ±‚ã€‚å¼€å‘äººå‘˜å¯ä»¥è‡ªå®šä¹‰å…¶ JavaScript å‡½æ•°å“åº”çš„ HTTP è¯·æ±‚çš„ç±»å‹ï¼Œä»¥åŠå¦‚ä½•æ›´æ”¹æˆ–å®ç° HTTP è¯·æ±‚ã€‚</p><h3 id="ä»€ä¹ˆæ˜¯-http-ç¼“å­˜"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆæ˜¯-http-ç¼“å­˜"></a> ä»€ä¹ˆæ˜¯ HTTP ç¼“å­˜ï¼Ÿ</h3><p>HTTP ç¼“å­˜æ˜¯æŒ‡æœåŠ¡å™¨æˆ–æµè§ˆå™¨ä¿å­˜å¯¹ç”¨æˆ· HTTP è¯·æ±‚çš„å“åº”çš„å‰¯æœ¬ï¼Œä»¥ä¾¿æ›´å¿«ç­”å¤ä»¥åçš„è¯·æ±‚ã€‚<a href="https://www.cloudflare.com/zh-cn/learning/cdn/what-is-a-cdn">CDN </a>æœåŠ¡å™¨å°±æ˜¯ HTTP ç¼“å­˜çš„ä¾‹å­ã€‚ä¸€äº› HTTP ç¼“å­˜æœåŠ¡ä½¿å¼€å‘äººå‘˜å¯ä»¥è‡ªå®šä¹‰ HTTP ç¼“å­˜å¦‚ä½•ä¸ºå…¶åº”ç”¨ç¨‹åºè¿è¡Œã€‚</p><p>Cloudflare æ˜¯ä¸€ä¸ª HTTP ç¼“å­˜è¾¹ç¼˜ç½‘ç»œï¼Œå…¶ä¸­åŒ…å«éå¸ƒä¸–ç•Œå„åœ°çš„æ•°æ®ä¸­å¿ƒï¼Œå®ƒå…è®¸å¼€å‘äººå‘˜åœ¨ç½‘ç»œè¾¹ç¼˜ç¼–å†™å’Œéƒ¨ç½²è‡ªå·±çš„ JavaScriptã€‚åœ¨ Cloudflare ç½‘ç»œä¸­ï¼ŒHTTP ç¼“å­˜ä¸åœ¨ä»»ä½•ç‰¹å®šæœåŠ¡å™¨ä¸­è¿›è¡Œï¼Œè€Œæ˜¯åœ¨æœ€æ¥è¿‘ HTTP è¯·æ±‚æ¥æºçš„æ•°æ®ä¸­å¿ƒå†…è¿›è¡Œã€‚</p><h3 id="ä¸-service-workers-ç›¸æ¯”cloudflare-workers-æœ‰ä½•ç‹¬ç‰¹ä¹‹å¤„"><a class="markdownIt-Anchor" href="#ä¸-service-workers-ç›¸æ¯”cloudflare-workers-æœ‰ä½•ç‹¬ç‰¹ä¹‹å¤„"></a> ä¸ service workers ç›¸æ¯”ï¼ŒCloudflare Workers æœ‰ä½•ç‹¬ç‰¹ä¹‹å¤„ï¼Ÿ</h3><p>ä½¿ç”¨ Cloudflare Workers å’Œä½¿ç”¨ service workers çš„ä¸€ä¸ªä¸»è¦åŒºåˆ«æ˜¯ï¼Œservice workers æ˜¯åœ¨å®¢æˆ·ç«¯è¿è¡Œçš„ï¼Œå¿…é¡»ç”±ç”¨æˆ·çš„æµè§ˆå™¨ä¸‹è½½ï¼Œè€Œ Cloudflare Workers åœ¨ Cloudflare ç½‘ç»œçš„è¾¹ç¼˜è¿è¡Œï¼Œä»‹äºç”¨æˆ·å’Œ Internet çš„å…¶ä½™éƒ¨åˆ†ä¹‹é—´ï¼Œæœ‰æ•ˆåœ°åœ¨ç½‘ç»œå†…éƒ¨è¿è¡Œã€‚</p><blockquote><h5 id="ä»€ä¹ˆæ˜¯-service-workers"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆæ˜¯-service-workers"></a> ä»€ä¹ˆæ˜¯ service workersï¼Ÿ</h5><p>Service workers æ˜¯æµè§ˆå™¨ä¸‹è½½å¹¶è¿è¡Œä»¥ä¸ºç”¨æˆ·åˆ›å»ºè‡ªå®šä¹‰ä½“éªŒçš„è„šæœ¬ã€‚Service workers ä½¿åœ¨æµè§ˆå™¨ä¸­å®ç°æ¨é€é€šçŸ¥ã€åå°åŒæ­¥å’Œè„±æœºè¿è¡Œç­‰åŠŸèƒ½æˆä¸ºå¯èƒ½ã€‚å®ƒä»¬ä½¿ç”¨ JavaScript ç¼–å†™ï¼Œå¯ä»¥åœ¨ HTTP è¯·æ±‚åˆ°è¾¾ Internet ä¹‹å‰æ‹¦æˆªã€ä¿®æ”¹å’Œå“åº”è¯·æ±‚ã€‚</p><h5 id="service-worker-å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼å¤„ç†-http-æµé‡"><a class="markdownIt-Anchor" href="#service-worker-å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼å¤„ç†-http-æµé‡"></a> Service worker å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼å¤„ç† HTTP æµé‡ï¼š</h5><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo_1/img2/service-worker-responds-http-request.svg" alt="" /></p><p>Service workers å¯ä»¥å“åº” HTTP è¯·æ±‚è€Œæ— éœ€è”ç³» Web æœåŠ¡å™¨</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo_1/img2/service-worker-modifies-http-request-response.svg" alt="" /></p><p>Service workers å¯ä»¥ä¿®æ”¹ HTTP è¯·æ±‚å’Œå“åº”</p></blockquote><h3 id="cloudflare-workerä½¿ç”¨æ•™ç¨‹"><a class="markdownIt-Anchor" href="#cloudflare-workerä½¿ç”¨æ•™ç¨‹"></a> cloudflare workerä½¿ç”¨æ•™ç¨‹</h3><p>æ²¡æœ‰æ¯”å®˜æ–¹æ–‡æ¡£æ›´åŠ è¯¦ç»†çš„ä¸œè¥¿äº†ï¼Œcloudflareæ–‡æ¡£æœ¬èº«å†…å®¹å°±éå¸¸çš„è¯¦å®ï¼Œæ‰€ä»¥åªéœ€è¦ä»”ç»†é˜…è¯»cloudflareæ–‡æ¡£å°±èƒ½éå¸¸è½»æ¾çš„è¾¾åˆ°ä¸Šæ‰‹çš„ç¨‹åº¦ï¼Œå¦ä¸€æ–¹é¢cloudflare workeræœ¬èº«ä½¿ç”¨å°±éå¸¸çš„ç®€å•ï¼Œå®˜æ–¹æä¾›äº†å¤šç§è¯­è¨€å¯ä»¥ä¾›ç¼–å†™ï¼ŒJavaScriptï¼Œrustï¼Œcï¼Œc++ï¼Œpythonç­‰ç­‰ï¼Œæ‰€ä»¥å¯¹äºç»å¤§éƒ¨åˆ†ä½¿ç”¨è€…æ¥è¯´è¯­è¨€éƒ½ä¸ä¼šæˆä¸ºä»–ä»¬çš„éšœç¢ï¼Œå½“ç„¶å®˜æ–¹é¦–æ¨æ˜¯æ˜¯JavaScriptã€‚</p><h3 id="å…³äºé¢åº¦é—®é¢˜"><a class="markdownIt-Anchor" href="#å…³äºé¢åº¦é—®é¢˜"></a> å…³äºé¢åº¦é—®é¢˜</h3><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/tupianpian@master/img/worker%E8%AF%B4%E6%98%8E.png" alt="" /></p><p>å…³äºè¿™ç‚¹æˆ‘çš„å›ç­”æ˜¯å®Œå…¨å¤Ÿç”¨ï¼Œ</p><ul><li><p>æ¯å¤©å…è´¹æä¾›100000ä¸ªè¯·æ±‚</p></li><li><p>æ¯å¤© 100,000 æ¬¡è¯»å–æ“ä½œ</p></li><li><p>æ¯å¤© 1,000 æ¬¡å†™å…¥ã€åˆ é™¤ã€åˆ—å‡ºæ“ä½œ</p></li><li><p>æä¾›å¤§æ¦‚1GBçš„kvå‚¨å­˜ç©ºé—´</p></li></ul><p>å¦å¤–ä»˜è´¹ç‰ˆä¹Ÿå°±æ¯æœˆ5dollarå•¦ï¼ˆï¼Œä½†æ˜¯å¯¹äºä¸ªäººä½¿ç”¨æ¥çœ‹å…è´¹é¢åº¦å·²ç»éå¸¸éå¸¸å¤Ÿç”¨äº†ï¼Œå…¶æ¬¡ä¸»è¦è¿˜æ˜¯ç™½å«–èƒ½å¸¦æ¥æ»¡æ»¡çš„æ»¡è¶³æ„Ÿï¼ˆä¸€æ‹³ä¸€ä¸ªç™½å«–æ€ªï¼‰ã€‚</p><h3 id="hello-cloudflare-worker"><a class="markdownIt-Anchor" href="#hello-cloudflare-worker"></a> hello cloudflare worker</h3><p>æ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥åŸºäºä»¥ä¸Šæ¥å†™ä¸€ä¸ªéå¸¸éå¸¸ç®€å•çš„æ —å­ã€‚</p><h3 id="api"><a class="markdownIt-Anchor" href="#api"></a> API</h3><p>æ¯”å¦‚è¯´æˆ‘ä»¬ç°åœ¨æƒ³è¦å†™ä¸€ä¸ªæ¯æ—¥å¯ä»¥è¿”å›bingå£çº¸çš„åŠ¨æ€apiï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦è·å–bingå£çº¸çš„urlï¼Œæ‰“å¼€f12å°±èƒ½å¾ˆç®€å•çš„è·å–åˆ°å£çº¸é“¾æ¥ï¼Œè¿™é‡Œæˆ‘ä»¬å°±ç›´æ¥ç²—æš´çš„ç›´æ¥æ‰“å¼€workerï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥æŒ‰ç…§å®˜æ–¹æ–‡æ¡£å®‰è£…Workers CLIï¼ŒæŒ‰ç…§å®˜æ–¹çš„æ­¥éª¤ä¸€æ­¥ä¸€æ­¥çš„æ¥ï¼Œè¿™é‡Œä»…ä»…è¿›è¡Œä¸€ä¸ªéå¸¸ç®€å•çš„æ¼”ç¤ºï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“å°±èƒ½ç¼–å†™åˆ°ä»¥ä¸‹ä»£ç </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">handleRequest</span>(<span class="params">request</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> req = request</span><br><span class="line">    <span class="keyword">const</span> urlStr = req.<span class="property">url</span></span><br><span class="line">    <span class="keyword">const</span> urlObj = <span class="keyword">new</span> <span class="title function_">URL</span>(urlStr)</span><br><span class="line">    <span class="keyword">const</span> path = urlObj.<span class="property">href</span>.<span class="title function_">substr</span>(urlObj.<span class="property">origin</span>.<span class="property">length</span>)</span><br><span class="line">    <span class="keyword">const</span> domain = (urlStr.<span class="title function_">split</span>(<span class="string">&#x27;/&#x27;</span>))[<span class="number">2</span>]</span><br><span class="line">    <span class="keyword">let</span> day = <span class="number">0</span></span><br><span class="line">    <span class="keyword">let</span> destinationURL = <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (path.<span class="title function_">startsWith</span>(<span class="string">&#x27;/bing&#x27;</span>)) &#123;</span><br><span class="line">            <span class="keyword">let</span> day = urlObj.<span class="property">searchParams</span>.<span class="title function_">get</span>(<span class="string">&#x27;day&#x27;</span>)</span><br><span class="line">            <span class="keyword">const</span> destination = <span class="keyword">await</span> <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="keyword">await</span> (<span class="keyword">await</span> <span class="title function_">fetch</span>(<span class="string">`https://cn.bing.com/HPImageArchive.aspx?format=js&amp;idx=<span class="subst">$&#123;day&#125;</span>&amp;n=1`</span>)).<span class="title function_">text</span>())[<span class="string">&quot;images&quot;</span>][<span class="number">0</span>][<span class="string">&quot;url&quot;</span>]</span><br><span class="line">            destinationURL = <span class="string">`https://cn.bing.com/<span class="subst">$&#123;destination&#125;</span>`</span></span><br><span class="line">            <span class="keyword">return</span> <span class="title function_">fetch</span>(destinationURL)</span><br><span class="line">        &#125; <span class="keyword">finally</span>&#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;error&quot;</span>)</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¿™é‡Œçš„<code>fetch()</code>æ˜¯ XMLHttpRequest çš„å‡çº§ç‰ˆï¼Œç”¨äºåœ¨ JavaScript è„šæœ¬é‡Œé¢å‘å‡º HTTP è¯·æ±‚ã€‚</p></blockquote><p>ç„¶åç›´æ¥å§è¿™æ®µä»£ç ç²˜è´´åˆ°workeré‡Œé¢å°±è¡Œå•¦</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/tupianpian@master/img/worker_edtor.png" alt="" /></p><p>åˆ›å»ºworkerçš„æ—¶å€™ä¼šè‡ªåŠ¨åˆ†é…ä¸€ä¸ªå­åŸŸåï¼Œå½“ç„¶æ”¯æŒè‡ªå®šä¹‰åŸŸåï¼Œå…·ä½“è¯·å‚è€ƒæ–‡æ¡£</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/tupianpian@master/img/%E8%84%9A%E6%9C%AC1.png" alt="" /></p><p>ç„¶åè®¿é—®å­åŸŸå/bingå°±å¥½å•¦ï¼Œå¯ä»¥çœ‹åˆ°çŠ¶æ€ç æ˜¯200ï¼Œè¿™é‡Œæˆ‘çš„å­åŸŸåæ˜¯<a href="https://empty-credit-b440.youmingsama.workers.dev/">https://empty-credit-b440.youmingsama.workers.dev/</a>  äºæ˜¯å°±å¯ä»¥å¾—åˆ°<a href="https://empty-credit-b440.youmingsama.workers.dev/bing">https://empty-credit-b440.youmingsama.workers.dev/bing</a> å°±å¾—åˆ°äº†æˆ‘ä»¬æƒ³è¦çš„å›¾ç‰‡å•¦</p><p>äºæ˜¯ä¸‹é¢å‡ ä¸ªapiï¼Œå®ç°å‡ ä¹çš„åŸç†å’Œbingå¤§åŒå°å¼‚</p><ul><li><p>è·å–bingçš„æ¯æ—¥ä¸€å›¾ <a href="https://empty-credit-b440.youmingsama.workers.dev/bing">https://empty-credit-b440.youmingsama.workers.dev/bing</a></p></li><li><p>è·å–bingå›¾ç‰‡ä¿¡æ¯ <a href="https://empty-credit-b440.youmingsama.workers.dev/mbing">https://empty-credit-b440.youmingsama.workers.dev/mbing</a></p><blockquote><p>é»˜è®¤è¿”å›jsonæ ¼å¼</p></blockquote></li><li><p>è¿”å›ä¸€å¼ éšæœºç”Ÿæˆçš„åŠ¨æ¼«äººç‰©å¤´åƒ <a href="https://empty-credit-b440.youmingsama.workers.dev/suijilaopo">https://empty-credit-b440.youmingsama.workers.dev/suijilaopo</a></p></li><li><p>éšæœºè¿”å›ä¸€è¨€: <a href="https://empty-credit-b440.youmingsama.workers.dev/hitokoto">https://empty-credit-b440.youmingsama.workers.dev/hitokoto</a></p><blockquote><p>é»˜è®¤è¿”å›txtæ ¼å¼</p></blockquote></li><li><p>ä»Šæ—¥ç½‘æŠ‘äº‘ <a href="https://empty-credit-b440.youmingsama.workers.dev/wangyiyun">https://empty-credit-b440.youmingsama.workers.dev/wangyiyun</a></p><blockquote><p>é»˜è®¤è¿”å›txtæ ¼å¼</p></blockquote></li><li><p>åä»£ç½‘ç«™ï¼š*************************************************************************************************ï¼ˆé«˜åº¦åŠ å¯†ï¼‰</p></li></ul><h3 id="cloudflareå¤§æ³•å¥½"><a class="markdownIt-Anchor" href="#cloudflareå¤§æ³•å¥½"></a> cloudflareå¤§æ³•å¥½</h3><p>workeråŠ ä¸Škvå‚¨å­˜å¯ç©æ€§å¯æ‹“å±•æ€§éå¸¸å¼ºï¼Œè¿™é‡Œæ¼”ç¤ºçš„APIä»…ä»…æ˜¯ä¸€ç§æœ€ç®€å•çš„ä½¿ç”¨æ–¹æ³•ï¼Œä¸ä»…ä»…æ˜¯ç½‘ç«™ï¼Œå„ç§å¿«é€Ÿæ­å»ºçš„åº”ç”¨ï¼Œcloudflareæ›´è®©æˆ‘ä»¬çœ‹åˆ°äº†æ— é™çš„å¯èƒ½ã€‚</p><h1 id="æ‰€ä»¥ç™½å«–å¤§æ³•å¥½"><a class="markdownIt-Anchor" href="#æ‰€ä»¥ç™½å«–å¤§æ³•å¥½"></a> æ‰€ä»¥ç™½å«–å¤§æ³•å¥½</h1><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/tupianpian@master/img/%E5%A5%BD%E8%80%B6.jpg" alt="" /></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;cloudflareçœŸå¥½ç©&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#cloudflareçœŸå¥½ç©&quot;&gt;&lt;/a&gt; CloudflareçœŸå¥½ç©&lt;/h2&gt;
&lt;p&gt;åœ¨nisamaå¼ºçƒˆçš„æ¨èä¸‹æˆ‘æ€€ç€å¥½å¥‡çš„å¿ƒæ€å¼€å§‹äº†cloudflareçš„ç–¯ç‹‚è¸©å‘</summary>
      
    
    
    
    <category term="print*,&quot;hello world!!!&quot;" scheme="https://blog.youmingsama.cn/categories/print-hello-world/"/>
    
    
    <category term="cloudflare" scheme="https://blog.youmingsama.cn/tags/cloudflare/"/>
    
  </entry>
  
  <entry>
    <title>ç®€å•èŠèŠhttp</title>
    <link href="https://blog.youmingsama.cn/posts/60b00a8/"/>
    <id>https://blog.youmingsama.cn/posts/60b00a8/</id>
    <published>2021-03-04T00:00:00.000Z</published>
    <updated>2023-06-23T07:25:57.098Z</updated>
    
    <content type="html"><![CDATA[<h3 id="é‚£å°±æ¥ç®€å•çš„èŠèŠhttpå§"><a class="markdownIt-Anchor" href="#é‚£å°±æ¥ç®€å•çš„èŠèŠhttpå§"></a> é‚£å°±æ¥ç®€å•çš„èŠèŠhttpå§</h3><p>httpï¼ˆHypertext Transfer Protocolï¼‰è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œç®€å•çš„æ¥æ¦‚å†µå°±æ˜¯ä¸€ä¸ªç®€å•çš„è¯·æ±‚å“åº”åè®®ï¼Œæˆ‘ä»¬ç†Ÿæ‚‰çš„webå°±æ˜¯å»ºç«‹å†ä¸€ä¸ªhttpä¸Šçš„ç‹å›½ã€‚</p><blockquote><p>è¶…æ–‡æœ¬ä¼ è¾“åè®®æ˜¯çº¦å®šä¿—æˆçš„å«æ³•æ›´åŠ æ­£ç¡®çš„å«æ³•åº”è¯¥ç§°ä½œï¼šè¶…æ–‡æœ¬è½¬ç§»åè®®</p></blockquote><h4 id="æ¥èŠèŠuriå’Œurl"><a class="markdownIt-Anchor" href="#æ¥èŠèŠuriå’Œurl"></a> æ¥èŠèŠURIå’ŒURL</h4><p>URIï¼ˆuniform Resoutce Identifierï¼‰å³ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼ŒURL(uniform Resoutce Locator),å³ç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼Œé¸¡è›‹ä½†æ¥è¯´æˆ‘ä»¬æ—¥å¸¸å†æµè§ˆå™¨åœ°å€æ è¾“å…¥çš„ä¸€èˆ¬å¼€å§‹å°±æ˜¯URLå½“ç„¶ä¹Ÿæ˜¯ä¸€ä¸ªURIï¼Œé€šè¿‡è¿™ä¸ªæˆ‘ä»¬å°±å¯ä»¥å®šä½åˆ°æˆ‘ä»¬éœ€è¦æŸ¥æ‰¾çš„èµ„æº</p><blockquote><p>URLå’ŒURIå¹¶æ²¡æœ‰ä¸¥æ ¼çš„åŒºåˆ†ï¼Œä½†æ˜¯URLæ˜¯URIçš„ä¸€ä¸ªå­é›†ï¼Œä¹Ÿå°±æ˜¯æ˜¯æ¯ä¸ªURLéƒ½æ˜¯ä¸€ä¸ªURIä½†æ˜¯æ¯ä¸ªURIä¸ä¸€å®šä¸‰ä¸ªURLï¼Œå› ä¸ºURIè¿˜åŒ…æ‹¬ä¸€ä¸ªURNï¼ˆç»Ÿä¸€èµ„æºåç§°ï¼‰çš„å­ç±»ï¼ŒURNåªæ˜¯ç”¨æ¥å‘½åèµ„æºè€Œå¹¶éå®šä½èµ„æºï¼Œå‡ ä¹è‡ªä¼šåœ¨æå°‘æ•°æƒ…å†µä¸‹ä½¿ç”¨</p></blockquote><h4 id="æ¥èŠèŠhttpçš„å†å²æ¼”å˜å’Œå‘å±•å†ç¨‹"><a class="markdownIt-Anchor" href="#æ¥èŠèŠhttpçš„å†å²æ¼”å˜å’Œå‘å±•å†ç¨‹"></a> æ¥èŠèŠhttpçš„å†å²æ¼”å˜å’Œå‘å±•å†ç¨‹</h4><h4 id="ä¸€http09"><a class="markdownIt-Anchor" href="#ä¸€http09"></a> ä¸€.HTTP/0.9</h4><p>HTTP æ˜¯åŸºäº TCP/IP åè®®çš„<a href="http://www.ruanyifeng.com/blog/2012/05/internet_protocol_suite_part_i.html"><strong>åº”ç”¨å±‚åè®®</strong></a>ã€‚å®ƒä¸æ¶‰åŠæ•°æ®åŒ…ï¼ˆpacketï¼‰ä¼ è¾“ï¼Œä¸»è¦è§„å®šäº†å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡æ ¼å¼ï¼Œé»˜è®¤ä½¿ç”¨80ç«¯å£ã€‚</p><p>æœ€æ—©ç‰ˆæœ¬æ˜¯1991å¹´å‘å¸ƒçš„0.9ç‰ˆã€‚è¯¥ç‰ˆæœ¬æå…¶ç®€å•ï¼Œåªæœ‰ä¸€ä¸ªå‘½ä»¤<code>GET</code>ã€‚</p><blockquote><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET /index.html</span><br></pre></td></tr></table></figure></blockquote><p>ä¸Šé¢å‘½ä»¤è¡¨ç¤ºï¼ŒTCP è¿æ¥ï¼ˆconnectionï¼‰å»ºç«‹åï¼Œå®¢æˆ·ç«¯å‘æœåŠ¡å™¨è¯·æ±‚ï¼ˆrequestï¼‰ç½‘é¡µ<code>index.html</code>ã€‚</p><p>åè®®è§„å®šï¼ŒæœåŠ¡å™¨åªèƒ½å›åº”HTMLæ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œä¸èƒ½å›åº”åˆ«çš„æ ¼å¼ã€‚</p><blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></blockquote><p>æœåŠ¡å™¨å‘é€å®Œæ¯•ï¼Œå°±å…³é—­TCPè¿æ¥ã€‚</p><h4 id="äºŒ-http10"><a class="markdownIt-Anchor" href="#äºŒ-http10"></a> äºŒ HTTP/1.0</h4><p>1996å¹´5æœˆï¼ŒHTTP/1.0 ç‰ˆæœ¬å‘å¸ƒï¼Œå†…å®¹å¤§å¤§å¢åŠ ã€‚</p><p>é¦–å…ˆï¼Œä»»ä½•æ ¼å¼çš„å†…å®¹éƒ½å¯ä»¥å‘é€ã€‚è¿™ä½¿å¾—äº’è”ç½‘ä¸ä»…å¯ä»¥ä¼ è¾“æ–‡å­—ï¼Œè¿˜èƒ½ä¼ è¾“å›¾åƒã€è§†é¢‘ã€äºŒè¿›åˆ¶æ–‡ä»¶ã€‚è¿™ä¸ºäº’è”ç½‘çš„å¤§å‘å±•å¥ å®šäº†åŸºç¡€ã€‚</p><p>å…¶æ¬¡ï¼Œé™¤äº†<code>GET</code>å‘½ä»¤ï¼Œè¿˜å¼•å…¥äº†<code>POST</code>å‘½ä»¤å’Œ<code>HEAD</code>å‘½ä»¤ï¼Œä¸°å¯Œäº†æµè§ˆå™¨ä¸æœåŠ¡å™¨çš„äº’åŠ¨æ‰‹æ®µã€‚</p><p>å†æ¬¡ï¼ŒHTTPè¯·æ±‚å’Œå›åº”çš„æ ¼å¼ä¹Ÿå˜äº†ã€‚é™¤äº†æ•°æ®éƒ¨åˆ†ï¼Œæ¯æ¬¡é€šä¿¡éƒ½å¿…é¡»åŒ…æ‹¬å¤´ä¿¡æ¯ï¼ˆHTTP headerï¼‰ï¼Œç”¨æ¥æè¿°ä¸€äº›å…ƒæ•°æ®ã€‚</p><p>å…¶ä»–çš„æ–°å¢åŠŸèƒ½è¿˜åŒ…æ‹¬çŠ¶æ€ç ï¼ˆstatus codeï¼‰ã€å¤šå­—ç¬¦é›†æ”¯æŒã€å¤šéƒ¨åˆ†å‘é€ï¼ˆmulti-part typeï¼‰ã€æƒé™ï¼ˆauthorizationï¼‰ã€ç¼“å­˜ï¼ˆcacheï¼‰ã€å†…å®¹ç¼–ç ï¼ˆcontent encodingï¼‰ç­‰ã€‚</p><h4 id="21è¯·æ±‚æ ¼å¼"><a class="markdownIt-Anchor" href="#21è¯·æ±‚æ ¼å¼"></a> 2.1è¯·æ±‚æ ¼å¼</h4><p>ä¸‹é¢æ˜¯ä¸€ä¸ª1.0ç‰ˆçš„HTTPè¯·æ±‚çš„ä¾‹å­ã€‚</p><blockquote><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GET</span> <span class="string">/</span> <span class="meta">HTTP/1.0</span></span><br><span class="line"><span class="attribute">User-Agent</span><span class="punctuation">: </span>Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5)</span><br><span class="line"><span class="attribute">Accept</span><span class="punctuation">: </span>*/*</span><br></pre></td></tr></table></figure></blockquote><p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªæ ¼å¼ä¸0.9ç‰ˆæœ‰å¾ˆå¤§å˜åŒ–ã€‚</p><p>ç¬¬ä¸€è¡Œæ˜¯è¯·æ±‚å‘½ä»¤ï¼Œå¿…é¡»åœ¨å°¾éƒ¨æ·»åŠ åè®®ç‰ˆæœ¬ï¼ˆ<code>HTTP/1.0</code>ï¼‰ã€‚åé¢å°±æ˜¯å¤šè¡Œå¤´ä¿¡æ¯ï¼Œæè¿°å®¢æˆ·ç«¯çš„æƒ…å†µã€‚</p><h4 id="22-å›åº”æ ¼å¼"><a class="markdownIt-Anchor" href="#22-å›åº”æ ¼å¼"></a> 2.2 å›åº”æ ¼å¼</h4><p>æœåŠ¡å™¨çš„å›åº”å¦‚ä¸‹ã€‚</p><blockquote><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">HTTP/1.0</span> <span class="number">200</span> OK </span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>text/plain</span><br><span class="line"><span class="attribute">Content-Length</span><span class="punctuation">: </span>137582</span><br><span class="line"><span class="attribute">Expires</span><span class="punctuation">: </span>Thu, 05 Dec 1997 16:00:00 GMT</span><br><span class="line"><span class="attribute">Last-Modified</span><span class="punctuation">: </span>Wed, 5 August 1996 15:55:28 GMT</span><br><span class="line"><span class="attribute">Server</span><span class="punctuation">: </span>Apache 0.84</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">body</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure></blockquote><p>å›åº”çš„æ ¼å¼æ˜¯&quot;å¤´ä¿¡æ¯ + ä¸€ä¸ªç©ºè¡Œï¼ˆ<code>\r\n</code>ï¼‰ + æ•°æ®&quot;ã€‚å…¶ä¸­ï¼Œç¬¬ä¸€è¡Œæ˜¯&quot;åè®®ç‰ˆæœ¬ + çŠ¶æ€ç ï¼ˆstatus codeï¼‰ + çŠ¶æ€æè¿°&quot;ã€‚</p><h4 id="23-content-type-å­—æ®µ"><a class="markdownIt-Anchor" href="#23-content-type-å­—æ®µ"></a> 2.3 Content-Type å­—æ®µ</h4><p>å…³äºå­—ç¬¦çš„ç¼–ç ï¼Œ1.0ç‰ˆè§„å®šï¼Œå¤´ä¿¡æ¯å¿…é¡»æ˜¯ ASCII ç ï¼Œåé¢çš„æ•°æ®å¯ä»¥æ˜¯ä»»ä½•æ ¼å¼ã€‚å› æ­¤ï¼ŒæœåŠ¡å™¨å›åº”çš„æ—¶å€™ï¼Œå¿…é¡»å‘Šè¯‰å®¢æˆ·ç«¯ï¼Œæ•°æ®æ˜¯ä»€ä¹ˆæ ¼å¼ï¼Œè¿™å°±æ˜¯<code>Content-Type</code>å­—æ®µçš„ä½œç”¨ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€äº›å¸¸è§çš„<code>Content-Type</code>å­—æ®µçš„å€¼ã€‚</p><blockquote><ul><li>text/plain</li><li>text/html</li><li>text/css</li><li>image/jpeg</li><li>image/png</li><li>image/svg+xml</li><li>audio/mp4</li><li>video/mp4</li><li>application/javascript</li><li>application/pdf</li><li>application/zip</li><li>application/atom+xml</li></ul></blockquote><p>è¿™äº›æ•°æ®ç±»å‹æ€»ç§°ä¸º<code>MIME type</code>ï¼Œæ¯ä¸ªå€¼åŒ…æ‹¬ä¸€çº§ç±»å‹å’ŒäºŒçº§ç±»å‹ï¼Œä¹‹é—´ç”¨æ–œæ åˆ†éš”ã€‚</p><p>é™¤äº†é¢„å®šä¹‰çš„ç±»å‹ï¼Œå‚å•†ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ç±»å‹ã€‚</p><blockquote><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">application/vnd.debian.binary-package</span><br></pre></td></tr></table></figure></blockquote><p>ä¸Šé¢çš„ç±»å‹è¡¨æ˜ï¼Œå‘é€çš„æ˜¯Debianç³»ç»Ÿçš„äºŒè¿›åˆ¶æ•°æ®åŒ…ã€‚</p><p><code>MIME type</code>è¿˜å¯ä»¥åœ¨å°¾éƒ¨ä½¿ç”¨åˆ†å·ï¼Œæ·»åŠ å‚æ•°ã€‚</p><blockquote><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>text/html; charset=utf-8</span><br></pre></td></tr></table></figure></blockquote><p>ä¸Šé¢çš„ç±»å‹è¡¨æ˜ï¼Œå‘é€çš„æ˜¯ç½‘é¡µï¼Œè€Œä¸”ç¼–ç æ˜¯UTF-8ã€‚</p><p>å®¢æˆ·ç«¯è¯·æ±‚çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨<code>Accept</code>å­—æ®µå£°æ˜è‡ªå·±å¯ä»¥æ¥å—å“ªäº›æ•°æ®æ ¼å¼ã€‚</p><blockquote><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Accept</span><span class="punctuation">: </span>*/*</span><br></pre></td></tr></table></figure></blockquote><p>ä¸Šé¢ä»£ç ä¸­ï¼Œå®¢æˆ·ç«¯å£°æ˜è‡ªå·±å¯ä»¥æ¥å—ä»»ä½•æ ¼å¼çš„æ•°æ®ã€‚</p><p><code>MIME type</code>ä¸ä»…ç”¨åœ¨HTTPåè®®ï¼Œè¿˜å¯ä»¥ç”¨åœ¨å…¶ä»–åœ°æ–¹ï¼Œæ¯”å¦‚HTMLç½‘é¡µã€‚</p><blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;Content-Type&quot;</span> <span class="attr">content</span>=<span class="string">&quot;text/html; charset=UTF-8&quot;</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ç­‰åŒäº --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> /&gt;</span> </span><br></pre></td></tr></table></figure></blockquote><h4 id="24-content-encoding-å­—æ®µ"><a class="markdownIt-Anchor" href="#24-content-encoding-å­—æ®µ"></a> 2.4 Content-Encoding å­—æ®µ</h4><p>ç”±äºå‘é€çš„æ•°æ®å¯ä»¥æ˜¯ä»»ä½•æ ¼å¼ï¼Œå› æ­¤å¯ä»¥æŠŠæ•°æ®å‹ç¼©åå†å‘é€ã€‚<code>Content-Encoding</code>å­—æ®µè¯´æ˜æ•°æ®çš„å‹ç¼©æ–¹æ³•ã€‚</p><blockquote><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Content-Encoding</span><span class="punctuation">: </span>gzip</span><br><span class="line"><span class="attribute">Content-Encoding</span><span class="punctuation">: </span>compress</span><br><span class="line"><span class="attribute">Content-Encoding</span><span class="punctuation">: </span>deflate</span><br></pre></td></tr></table></figure></blockquote><p>å®¢æˆ·ç«¯åœ¨è¯·æ±‚æ—¶ï¼Œç”¨<code>Accept-Encoding</code>å­—æ®µè¯´æ˜è‡ªå·±å¯ä»¥æ¥å—å“ªäº›å‹ç¼©æ–¹æ³•ã€‚</p><blockquote><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Accept-Encoding</span><span class="punctuation">: </span>gzip, deflate</span><br></pre></td></tr></table></figure></blockquote><h4 id="25ç¼ºç‚¹"><a class="markdownIt-Anchor" href="#25ç¼ºç‚¹"></a> 2.5ç¼ºç‚¹</h4><p>HTTP/1.0 ç‰ˆçš„ä¸»è¦ç¼ºç‚¹æ˜¯ï¼Œæ¯ä¸ªTCPè¿æ¥åªèƒ½å‘é€ä¸€ä¸ªè¯·æ±‚ã€‚å‘é€æ•°æ®å®Œæ¯•ï¼Œè¿æ¥å°±å…³é—­ï¼Œå¦‚æœè¿˜è¦è¯·æ±‚å…¶ä»–èµ„æºï¼Œå°±å¿…é¡»å†æ–°å»ºä¸€ä¸ªè¿æ¥ã€‚</p><p>TCPè¿æ¥çš„æ–°å»ºæˆæœ¬å¾ˆé«˜ï¼Œå› ä¸ºéœ€è¦å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¸‰æ¬¡æ¡æ‰‹ï¼Œå¹¶ä¸”å¼€å§‹æ—¶å‘é€é€Ÿç‡è¾ƒæ…¢ï¼ˆslow startï¼‰ã€‚æ‰€ä»¥ï¼ŒHTTP 1.0ç‰ˆæœ¬çš„æ€§èƒ½æ¯”è¾ƒå·®ã€‚éšç€ç½‘é¡µåŠ è½½çš„å¤–éƒ¨èµ„æºè¶Šæ¥è¶Šå¤šï¼Œè¿™ä¸ªé—®é¢˜å°±æ„ˆå‘çªå‡ºäº†ã€‚</p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæœ‰äº›æµè§ˆå™¨åœ¨è¯·æ±‚æ—¶ï¼Œç”¨äº†ä¸€ä¸ªéæ ‡å‡†çš„<code>Connection</code>å­—æ®µã€‚</p><blockquote><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Connection</span><span class="punctuation">: </span>keep-alive</span><br></pre></td></tr></table></figure></blockquote><p>è¿™ä¸ªå­—æ®µè¦æ±‚æœåŠ¡å™¨ä¸è¦å…³é—­TCPè¿æ¥ï¼Œä»¥ä¾¿å…¶ä»–è¯·æ±‚å¤ç”¨ã€‚æœåŠ¡å™¨åŒæ ·å›åº”è¿™ä¸ªå­—æ®µã€‚</p><blockquote><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Connection</span><span class="punctuation">: </span>keep-alive</span><br></pre></td></tr></table></figure></blockquote><p>ä¸€ä¸ªå¯ä»¥å¤ç”¨çš„TCPè¿æ¥å°±å»ºç«‹äº†ï¼Œç›´åˆ°å®¢æˆ·ç«¯æˆ–æœåŠ¡å™¨ä¸»åŠ¨å…³é—­è¿æ¥ã€‚ä½†æ˜¯ï¼Œè¿™ä¸æ˜¯æ ‡å‡†å­—æ®µï¼Œä¸åŒå®ç°çš„è¡Œä¸ºå¯èƒ½ä¸ä¸€è‡´ï¼Œå› æ­¤ä¸æ˜¯æ ¹æœ¬çš„è§£å†³åŠæ³•ã€‚</p><h4 id="ä¸‰-http11"><a class="markdownIt-Anchor" href="#ä¸‰-http11"></a> ä¸‰ã€HTTP/1.1</h4><p>1997å¹´1æœˆï¼ŒHTTP/1.1 ç‰ˆæœ¬å‘å¸ƒï¼Œåªæ¯” 1.0 ç‰ˆæœ¬æ™šäº†åŠå¹´ã€‚å®ƒè¿›ä¸€æ­¥å®Œå–„äº† HTTP åè®®ã€‚</p><h4 id="31-æŒä¹…è¿æ¥"><a class="markdownIt-Anchor" href="#31-æŒä¹…è¿æ¥"></a> 3.1 æŒä¹…è¿æ¥</h4><p>1.1 ç‰ˆçš„æœ€å¤§å˜åŒ–ï¼Œå°±æ˜¯å¼•å…¥äº†æŒä¹…è¿æ¥ï¼ˆpersistent connectionï¼‰ï¼Œå³TCPè¿æ¥é»˜è®¤ä¸å…³é—­ï¼Œå¯ä»¥è¢«å¤šä¸ªè¯·æ±‚å¤ç”¨ï¼Œä¸ç”¨å£°æ˜<code>Connection: keep-alive</code>ã€‚</p><p>å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å‘ç°å¯¹æ–¹ä¸€æ®µæ—¶é—´æ²¡æœ‰æ´»åŠ¨ï¼Œå°±å¯ä»¥ä¸»åŠ¨å…³é—­è¿æ¥ã€‚ä¸è¿‡ï¼Œè§„èŒƒçš„åšæ³•æ˜¯ï¼Œå®¢æˆ·ç«¯åœ¨æœ€åä¸€ä¸ªè¯·æ±‚æ—¶ï¼Œå‘é€<code>Connection: close</code>ï¼Œæ˜ç¡®è¦æ±‚æœåŠ¡å™¨å…³é—­TCPè¿æ¥ã€‚</p><blockquote><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Connection</span><span class="punctuation">: </span>close</span><br></pre></td></tr></table></figure></blockquote><p>ç›®å‰ï¼Œå¯¹äºåŒä¸€ä¸ªåŸŸåï¼Œå¤§å¤šæ•°æµè§ˆå™¨å…è®¸åŒæ—¶å»ºç«‹6ä¸ªæŒä¹…è¿æ¥ã€‚</p><h4 id="32-ç®¡é“æœºåˆ¶"><a class="markdownIt-Anchor" href="#32-ç®¡é“æœºåˆ¶"></a> 3.2 ç®¡é“æœºåˆ¶</h4><p>1.1 ç‰ˆè¿˜å¼•å…¥äº†ç®¡é“æœºåˆ¶ï¼ˆpipeliningï¼‰ï¼Œå³åœ¨åŒä¸€ä¸ªTCPè¿æ¥é‡Œé¢ï¼Œå®¢æˆ·ç«¯å¯ä»¥åŒæ—¶å‘é€å¤šä¸ªè¯·æ±‚ã€‚è¿™æ ·å°±è¿›ä¸€æ­¥æ”¹è¿›äº†HTTPåè®®çš„æ•ˆç‡ã€‚</p><p>ä¸¾ä¾‹æ¥è¯´ï¼Œå®¢æˆ·ç«¯éœ€è¦è¯·æ±‚ä¸¤ä¸ªèµ„æºã€‚ä»¥å‰çš„åšæ³•æ˜¯ï¼Œåœ¨åŒä¸€ä¸ªTCPè¿æ¥é‡Œé¢ï¼Œå…ˆå‘é€Aè¯·æ±‚ï¼Œç„¶åç­‰å¾…æœåŠ¡å™¨åšå‡ºå›åº”ï¼Œæ”¶åˆ°åå†å‘å‡ºBè¯·æ±‚ã€‚ç®¡é“æœºåˆ¶åˆ™æ˜¯å…è®¸æµè§ˆå™¨åŒæ—¶å‘å‡ºAè¯·æ±‚å’ŒBè¯·æ±‚ï¼Œä½†æ˜¯æœåŠ¡å™¨è¿˜æ˜¯æŒ‰ç…§é¡ºåºï¼Œå…ˆå›åº”Aè¯·æ±‚ï¼Œå®Œæˆåå†å›åº”Bè¯·æ±‚ã€‚</p><h4 id="33-content-length-å­—æ®µ"><a class="markdownIt-Anchor" href="#33-content-length-å­—æ®µ"></a> 3.3 Content-Length å­—æ®µ</h4><p>ä¸€ä¸ªTCPè¿æ¥ç°åœ¨å¯ä»¥ä¼ é€å¤šä¸ªå›åº”ï¼ŒåŠ¿å¿…å°±è¦æœ‰ä¸€ç§æœºåˆ¶ï¼ŒåŒºåˆ†æ•°æ®åŒ…æ˜¯å±äºå“ªä¸€ä¸ªå›åº”çš„ã€‚è¿™å°±æ˜¯<code>Content-length</code>å­—æ®µçš„ä½œç”¨ï¼Œå£°æ˜æœ¬æ¬¡å›åº”çš„æ•°æ®é•¿åº¦ã€‚</p><blockquote><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Content-Length</span><span class="punctuation">: </span>3495</span><br></pre></td></tr></table></figure></blockquote><p>ä¸Šé¢ä»£ç å‘Šè¯‰æµè§ˆå™¨ï¼Œæœ¬æ¬¡å›åº”çš„é•¿åº¦æ˜¯3495ä¸ªå­—èŠ‚ï¼Œåé¢çš„å­—èŠ‚å°±å±äºä¸‹ä¸€ä¸ªå›åº”äº†ã€‚</p><p>åœ¨1.0ç‰ˆä¸­ï¼Œ<code>Content-Length</code>å­—æ®µä¸æ˜¯å¿…éœ€çš„ï¼Œå› ä¸ºæµè§ˆå™¨å‘ç°æœåŠ¡å™¨å…³é—­äº†TCPè¿æ¥ï¼Œå°±è¡¨æ˜æ”¶åˆ°çš„æ•°æ®åŒ…å·²ç»å…¨äº†ã€‚</p><h4 id="34-åˆ†å—ä¼ è¾“ç¼–ç "><a class="markdownIt-Anchor" href="#34-åˆ†å—ä¼ è¾“ç¼–ç "></a> 3.4 åˆ†å—ä¼ è¾“ç¼–ç </h4><p>ä½¿ç”¨<code>Content-Length</code>å­—æ®µçš„å‰ææ¡ä»¶æ˜¯ï¼ŒæœåŠ¡å™¨å‘é€å›åº”ä¹‹å‰ï¼Œå¿…é¡»çŸ¥é“å›åº”çš„æ•°æ®é•¿åº¦ã€‚</p><p>å¯¹äºä¸€äº›å¾ˆè€—æ—¶çš„åŠ¨æ€æ“ä½œæ¥è¯´ï¼Œè¿™æ„å‘³ç€ï¼ŒæœåŠ¡å™¨è¦ç­‰åˆ°æ‰€æœ‰æ“ä½œå®Œæˆï¼Œæ‰èƒ½å‘é€æ•°æ®ï¼Œæ˜¾ç„¶è¿™æ ·çš„æ•ˆç‡ä¸é«˜ã€‚æ›´å¥½çš„å¤„ç†æ–¹æ³•æ˜¯ï¼Œäº§ç”Ÿä¸€å—æ•°æ®ï¼Œå°±å‘é€ä¸€å—ï¼Œé‡‡ç”¨&quot;æµæ¨¡å¼&quot;ï¼ˆstreamï¼‰å–ä»£&quot;ç¼“å­˜æ¨¡å¼&quot;ï¼ˆbufferï¼‰ã€‚</p><p>å› æ­¤ï¼Œ1.1ç‰ˆè§„å®šå¯ä»¥ä¸ä½¿ç”¨<code>Content-Length</code>å­—æ®µï¼Œè€Œä½¿ç”¨<a href="https://zh.wikipedia.org/wiki/%E5%88%86%E5%9D%97%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81">&quot;åˆ†å—ä¼ è¾“ç¼–ç &quot;</a>ï¼ˆchunked transfer encodingï¼‰ã€‚åªè¦è¯·æ±‚æˆ–å›åº”çš„å¤´ä¿¡æ¯æœ‰<code>Transfer-Encoding</code>å­—æ®µï¼Œå°±è¡¨æ˜å›åº”å°†ç”±æ•°é‡æœªå®šçš„æ•°æ®å—ç»„æˆã€‚</p><blockquote><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Transfer-Encoding</span><span class="punctuation">: </span>chunked</span><br></pre></td></tr></table></figure></blockquote><p>æ¯ä¸ªéç©ºçš„æ•°æ®å—ä¹‹å‰ï¼Œä¼šæœ‰ä¸€ä¸ª16è¿›åˆ¶çš„æ•°å€¼ï¼Œè¡¨ç¤ºè¿™ä¸ªå—çš„é•¿åº¦ã€‚æœ€åæ˜¯ä¸€ä¸ªå¤§å°ä¸º0çš„å—ï¼Œå°±è¡¨ç¤ºæœ¬æ¬¡å›åº”çš„æ•°æ®å‘é€å®Œäº†ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚</p><blockquote><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">HTTP/1.1</span> <span class="number">200</span> OK</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>text/plain</span><br><span class="line"><span class="attribute">Transfer-Encoding</span><span class="punctuation">: </span>chunked</span><br><span class="line"></span><br><span class="line"><span class="language-livecodeserver"><span class="number">25</span></span></span><br><span class="line"><span class="language-livecodeserver">This is <span class="keyword">the</span> data <span class="keyword">in</span> <span class="keyword">the</span> <span class="keyword">first</span> chunk</span></span><br><span class="line"><span class="language-livecodeserver"></span></span><br><span class="line"><span class="language-livecodeserver"><span class="number">1</span>C</span></span><br><span class="line"><span class="language-livecodeserver"><span class="keyword">and</span> this is <span class="keyword">the</span> <span class="keyword">second</span> <span class="literal">one</span></span></span><br><span class="line"><span class="language-livecodeserver"></span></span><br><span class="line"><span class="language-livecodeserver"><span class="number">3</span></span></span><br><span class="line"><span class="language-livecodeserver">con</span></span><br><span class="line"><span class="language-livecodeserver"></span></span><br><span class="line"><span class="language-livecodeserver"><span class="number">8</span></span></span><br><span class="line"><span class="language-livecodeserver">sequence</span></span><br><span class="line"><span class="language-livecodeserver"></span></span><br><span class="line"><span class="language-livecodeserver"><span class="number">0</span></span></span><br></pre></td></tr></table></figure></blockquote><h4 id="35-å…¶ä»–åŠŸèƒ½"><a class="markdownIt-Anchor" href="#35-å…¶ä»–åŠŸèƒ½"></a> 3.5 å…¶ä»–åŠŸèƒ½</h4><p>1.1ç‰ˆè¿˜æ–°å¢äº†è®¸å¤šåŠ¨è¯æ–¹æ³•ï¼š<code>PUT</code>ã€<code>PATCH</code>ã€<code>HEAD</code>ã€ <code>OPTIONS</code>ã€<code>DELETE</code>ã€‚</p><p>å¦å¤–ï¼Œå®¢æˆ·ç«¯è¯·æ±‚çš„å¤´ä¿¡æ¯æ–°å¢äº†<code>Host</code>å­—æ®µï¼Œç”¨æ¥æŒ‡å®šæœåŠ¡å™¨çš„åŸŸåã€‚</p><blockquote><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Host</span><span class="punctuation">: </span>www.example.com</span><br></pre></td></tr></table></figure></blockquote><p>æœ‰äº†<code>Host</code>å­—æ®µï¼Œå°±å¯ä»¥å°†è¯·æ±‚å‘å¾€åŒä¸€å°æœåŠ¡å™¨ä¸Šçš„ä¸åŒç½‘ç«™ï¼Œä¸ºè™šæ‹Ÿä¸»æœºçš„å…´èµ·æ‰“ä¸‹äº†åŸºç¡€ã€‚</p><h4 id="36-ç¼ºç‚¹"><a class="markdownIt-Anchor" href="#36-ç¼ºç‚¹"></a> 3.6 ç¼ºç‚¹</h4><p>è™½ç„¶1.1ç‰ˆå…è®¸å¤ç”¨TCPè¿æ¥ï¼Œä½†æ˜¯åŒä¸€ä¸ªTCPè¿æ¥é‡Œé¢ï¼Œæ‰€æœ‰çš„æ•°æ®é€šä¿¡æ˜¯æŒ‰æ¬¡åºè¿›è¡Œçš„ã€‚æœåŠ¡å™¨åªæœ‰å¤„ç†å®Œä¸€ä¸ªå›åº”ï¼Œæ‰ä¼šè¿›è¡Œä¸‹ä¸€ä¸ªå›åº”ã€‚è¦æ˜¯å‰é¢çš„å›åº”ç‰¹åˆ«æ…¢ï¼Œåé¢å°±ä¼šæœ‰è®¸å¤šè¯·æ±‚æ’é˜Ÿç­‰ç€ã€‚è¿™ç§°ä¸º<a href="https://zh.wikipedia.org/wiki/%E9%98%9F%E5%A4%B4%E9%98%BB%E5%A1%9E">&quot;é˜Ÿå¤´å µå¡&quot;</a>ï¼ˆHead-of-line blockingï¼‰ã€‚</p><p>ä¸ºäº†é¿å…è¿™ä¸ªé—®é¢˜ï¼Œåªæœ‰ä¸¤ç§æ–¹æ³•ï¼šä¸€æ˜¯å‡å°‘è¯·æ±‚æ•°ï¼ŒäºŒæ˜¯åŒæ—¶å¤šå¼€æŒä¹…è¿æ¥ã€‚è¿™å¯¼è‡´äº†å¾ˆå¤šçš„ç½‘é¡µä¼˜åŒ–æŠ€å·§ï¼Œæ¯”å¦‚åˆå¹¶è„šæœ¬å’Œæ ·å¼è¡¨ã€å°†å›¾ç‰‡åµŒå…¥CSSä»£ç ã€åŸŸååˆ†ç‰‡ï¼ˆdomain shardingï¼‰ç­‰ç­‰ã€‚å¦‚æœHTTPåè®®è®¾è®¡å¾—æ›´å¥½ä¸€äº›ï¼Œè¿™äº›é¢å¤–çš„å·¥ä½œæ˜¯å¯ä»¥é¿å…çš„ã€‚</p><h4 id="å››-spdy-åè®®"><a class="markdownIt-Anchor" href="#å››-spdy-åè®®"></a> å››ã€SPDY åè®®</h4><p>2009å¹´ï¼Œè°·æ­Œå…¬å¼€äº†è‡ªè¡Œç ”å‘çš„ SPDY åè®®ï¼Œä¸»è¦è§£å†³ HTTP/1.1 æ•ˆç‡ä¸é«˜çš„é—®é¢˜ã€‚</p><p>è¿™ä¸ªåè®®åœ¨Chromeæµè§ˆå™¨ä¸Šè¯æ˜å¯è¡Œä»¥åï¼Œå°±è¢«å½“ä½œ HTTP/2 çš„åŸºç¡€ï¼Œä¸»è¦ç‰¹æ€§éƒ½åœ¨ HTTP/2 ä¹‹ä¸­å¾—åˆ°ç»§æ‰¿ã€‚</p><h4 id="äº”-http2"><a class="markdownIt-Anchor" href="#äº”-http2"></a> äº”ã€HTTP/2</h4><p>HTTP/2 è¯ç”Ÿäº 8 å¹´å‰ Google ä¸€å° SPDY åè®®ç™½çš®ä¹¦ã€‚5 å¹´å‰ï¼ŒRFC7540 å’Œ RFC7541 çš„å‘å¸ƒæ­£å¼ç¡®ç«‹äº† HTTP/2ã€‚5 å¹´è¿‡å»äº†ï¼Œæ”¯æŒ HTTP/2 çš„æµè§ˆå™¨çš„å¸‚åœºå æœ‰ç‡è¾¾åˆ°äº† 96.88%ã€‚</p><h4 id="51-äºŒè¿›åˆ¶åè®®"><a class="markdownIt-Anchor" href="#51-äºŒè¿›åˆ¶åè®®"></a> 5.1 äºŒè¿›åˆ¶åè®®</h4><p>HTTP/1.1 ç‰ˆçš„å¤´ä¿¡æ¯è‚¯å®šæ˜¯æ–‡æœ¬ï¼ˆASCIIç¼–ç ï¼‰ï¼Œæ•°æ®ä½“å¯ä»¥æ˜¯æ–‡æœ¬ï¼Œä¹Ÿå¯ä»¥æ˜¯äºŒè¿›åˆ¶ã€‚HTTP/2 åˆ™æ˜¯ä¸€ä¸ªå½»åº•çš„äºŒè¿›åˆ¶åè®®ï¼Œå¤´ä¿¡æ¯å’Œæ•°æ®ä½“éƒ½æ˜¯äºŒè¿›åˆ¶ï¼Œå¹¶ä¸”ç»Ÿç§°ä¸º&quot;å¸§&quot;ï¼ˆframeï¼‰ï¼šå¤´ä¿¡æ¯å¸§å’Œæ•°æ®å¸§ã€‚</p><p>äºŒè¿›åˆ¶åè®®çš„ä¸€ä¸ªå¥½å¤„æ˜¯ï¼Œå¯ä»¥å®šä¹‰é¢å¤–çš„å¸§ã€‚HTTP/2 å®šä¹‰äº†è¿‘åç§å¸§ï¼Œä¸ºå°†æ¥çš„é«˜çº§åº”ç”¨æ‰“å¥½äº†åŸºç¡€ã€‚å¦‚æœä½¿ç”¨æ–‡æœ¬å®ç°è¿™ç§åŠŸèƒ½ï¼Œè§£ææ•°æ®å°†ä¼šå˜å¾—éå¸¸éº»çƒ¦ï¼ŒäºŒè¿›åˆ¶è§£æåˆ™æ–¹ä¾¿å¾—å¤šã€‚</p><h4 id="52-å¤šå·¥"><a class="markdownIt-Anchor" href="#52-å¤šå·¥"></a> 5.2 å¤šå·¥</h4><p>HTTP/2 å¤ç”¨TCPè¿æ¥ï¼Œåœ¨ä¸€ä¸ªè¿æ¥é‡Œï¼Œå®¢æˆ·ç«¯å’Œæµè§ˆå™¨éƒ½å¯ä»¥åŒæ—¶å‘é€å¤šä¸ªè¯·æ±‚æˆ–å›åº”ï¼Œè€Œä¸”ä¸ç”¨æŒ‰ç…§é¡ºåºä¸€ä¸€å¯¹åº”ï¼Œè¿™æ ·å°±é¿å…äº†&quot;é˜Ÿå¤´å µå¡&quot;ã€‚</p><p>ä¸¾ä¾‹æ¥è¯´ï¼Œåœ¨ä¸€ä¸ªTCPè¿æ¥é‡Œé¢ï¼ŒæœåŠ¡å™¨åŒæ—¶æ”¶åˆ°äº†Aè¯·æ±‚å’ŒBè¯·æ±‚ï¼Œäºæ˜¯å…ˆå›åº”Aè¯·æ±‚ï¼Œç»“æœå‘ç°å¤„ç†è¿‡ç¨‹éå¸¸è€—æ—¶ï¼Œäºæ˜¯å°±å‘é€Aè¯·æ±‚å·²ç»å¤„ç†å¥½çš„éƒ¨åˆ†ï¼Œ æ¥ç€å›åº”Bè¯·æ±‚ï¼Œå®Œæˆåï¼Œå†å‘é€Aè¯·æ±‚å‰©ä¸‹çš„éƒ¨åˆ†ã€‚</p><p>è¿™æ ·åŒå‘çš„ã€å®æ—¶çš„é€šä¿¡ï¼Œå°±å«åšå¤šå·¥ï¼ˆMultiplexingï¼‰ã€‚</p><h4 id="53-æ•°æ®æµ"><a class="markdownIt-Anchor" href="#53-æ•°æ®æµ"></a> 5.3 æ•°æ®æµ</h4><p>å› ä¸º HTTP/2 çš„æ•°æ®åŒ…æ˜¯ä¸æŒ‰é¡ºåºå‘é€çš„ï¼ŒåŒä¸€ä¸ªè¿æ¥é‡Œé¢è¿ç»­çš„æ•°æ®åŒ…ï¼Œå¯èƒ½å±äºä¸åŒçš„å›åº”ã€‚å› æ­¤ï¼Œå¿…é¡»è¦å¯¹æ•°æ®åŒ…åšæ ‡è®°ï¼ŒæŒ‡å‡ºå®ƒå±äºå“ªä¸ªå›åº”ã€‚</p><p>HTTP/2 å°†æ¯ä¸ªè¯·æ±‚æˆ–å›åº”çš„æ‰€æœ‰æ•°æ®åŒ…ï¼Œç§°ä¸ºä¸€ä¸ªæ•°æ®æµï¼ˆstreamï¼‰ã€‚æ¯ä¸ªæ•°æ®æµéƒ½æœ‰ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„ç¼–å·ã€‚æ•°æ®åŒ…å‘é€çš„æ—¶å€™ï¼Œéƒ½å¿…é¡»æ ‡è®°æ•°æ®æµIDï¼Œç”¨æ¥åŒºåˆ†å®ƒå±äºå“ªä¸ªæ•°æ®æµã€‚å¦å¤–è¿˜è§„å®šï¼Œå®¢æˆ·ç«¯å‘å‡ºçš„æ•°æ®æµï¼ŒIDä¸€å¾‹ä¸ºå¥‡æ•°ï¼ŒæœåŠ¡å™¨å‘å‡ºçš„ï¼ŒIDä¸ºå¶æ•°ã€‚</p><p>æ•°æ®æµå‘é€åˆ°ä¸€åŠçš„æ—¶å€™ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨éƒ½å¯ä»¥å‘é€ä¿¡å·ï¼ˆ<code>RST_STREAM</code>å¸§ï¼‰ï¼Œå–æ¶ˆè¿™ä¸ªæ•°æ®æµã€‚1.1ç‰ˆå–æ¶ˆæ•°æ®æµçš„å”¯ä¸€æ–¹æ³•ï¼Œå°±æ˜¯å…³é—­TCPè¿æ¥ã€‚è¿™å°±æ˜¯è¯´ï¼ŒHTTP/2 å¯ä»¥å–æ¶ˆæŸä¸€æ¬¡è¯·æ±‚ï¼ŒåŒæ—¶ä¿è¯TCPè¿æ¥è¿˜æ‰“å¼€ç€ï¼Œå¯ä»¥è¢«å…¶ä»–è¯·æ±‚ä½¿ç”¨ã€‚</p><p>å®¢æˆ·ç«¯è¿˜å¯ä»¥æŒ‡å®šæ•°æ®æµçš„ä¼˜å…ˆçº§ã€‚ä¼˜å…ˆçº§è¶Šé«˜ï¼ŒæœåŠ¡å™¨å°±ä¼šè¶Šæ—©å›åº”ã€‚</p><h4 id="54-å¤´ä¿¡æ¯å‹ç¼©"><a class="markdownIt-Anchor" href="#54-å¤´ä¿¡æ¯å‹ç¼©"></a> 5.4 å¤´ä¿¡æ¯å‹ç¼©</h4><p>HTTP/1.1 æ—¶ä»£ï¼Œæ¶ˆæ¯æœ¬ä½“å·²ç»ç”¨ gzip è¿›è¡Œäº†å‹ç¼©ã€æˆ–è€…äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆå¦‚ woff å­—ä½“ç­‰ï¼‰ä¹Ÿå†…ç½®äº†å‹ç¼©æ ¼å¼ã€‚ä½†æ˜¯ï¼Œå“åº”å¤´ã€çŠ¶æ€ç å¹¶æ²¡æœ‰ç»è¿‡ä»»ä½•å‹ç¼©ã€ç›´æ¥ä½¿ç”¨æ˜æ–‡ä¼ è¾“ï¼Œå¯¹äºä¸ä¼šç»å¸¸å˜åŠ¨çš„å¦‚ User-Agentã€Cookieã€çŠ¶æ€ç ç­‰æ¯æ¬¡è¯·æ±‚ä¼šé€ æˆæ•°ç™¾å­—èŠ‚æµé‡çš„æµªè´¹ã€‚</p><p>HTTP/2 å¯¹è¿™ä¸€ç‚¹åšäº†ä¼˜åŒ–ï¼Œå¼•å…¥äº†å¤´ä¿¡æ¯å‹ç¼©æœºåˆ¶ï¼ˆheader compressionï¼‰ã€‚ä¸€æ–¹é¢ï¼Œå¤´ä¿¡æ¯ä½¿ç”¨<code>gzip</code>æˆ–<code>compress</code>å‹ç¼©åå†å‘é€ï¼›å¦ä¸€æ–¹é¢ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨åŒæ—¶ç»´æŠ¤ä¸€å¼ å¤´ä¿¡æ¯è¡¨ï¼Œæ‰€æœ‰å­—æ®µéƒ½ä¼šå­˜å…¥è¿™ä¸ªè¡¨ï¼Œç”Ÿæˆä¸€ä¸ªç´¢å¼•å·ï¼Œä»¥åå°±ä¸å‘é€åŒæ ·å­—æ®µäº†ï¼Œåªå‘é€ç´¢å¼•å·ï¼Œè¿™æ ·å°±æé«˜é€Ÿåº¦äº†ã€‚</p><h4 id="55-æœåŠ¡å™¨æ¨é€"><a class="markdownIt-Anchor" href="#55-æœåŠ¡å™¨æ¨é€"></a> 5.5 æœåŠ¡å™¨æ¨é€</h4><p>HTTP/2 å…è®¸æœåŠ¡å™¨æœªç»è¯·æ±‚ï¼Œä¸»åŠ¨å‘å®¢æˆ·ç«¯å‘é€èµ„æºï¼Œè¿™å«åšæœåŠ¡å™¨æ¨é€ï¼ˆserver pushï¼‰ã€‚</p><p>å¸¸è§åœºæ™¯æ˜¯å®¢æˆ·ç«¯è¯·æ±‚ä¸€ä¸ªç½‘é¡µï¼Œè¿™ä¸ªç½‘é¡µé‡Œé¢åŒ…å«å¾ˆå¤šé™æ€èµ„æºã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼Œå®¢æˆ·ç«¯å¿…é¡»æ”¶åˆ°ç½‘é¡µåï¼Œè§£æHTMLæºç ï¼Œå‘ç°æœ‰é™æ€èµ„æºï¼Œå†å‘å‡ºé™æ€èµ„æºè¯·æ±‚ã€‚å…¶å®ï¼ŒæœåŠ¡å™¨å¯ä»¥é¢„æœŸåˆ°å®¢æˆ·ç«¯è¯·æ±‚ç½‘é¡µåï¼Œå¾ˆå¯èƒ½ä¼šå†è¯·æ±‚é™æ€èµ„æºï¼Œæ‰€ä»¥å°±ä¸»åŠ¨æŠŠè¿™äº›é™æ€èµ„æºéšç€ç½‘é¡µä¸€èµ·å‘ç»™å®¢æˆ·ç«¯äº†ã€‚</p><h4 id="å¯¹httpçš„å±•æœ›"><a class="markdownIt-Anchor" href="#å¯¹httpçš„å±•æœ›"></a> å¯¹httpçš„å±•æœ›</h4><p>è™½ç„¶ç›®å‰http2å†ç›®å‰çš„æµè§ˆå™¨å¸‚åœºå æœ‰å†³å®šç¢¾å‹çš„ä¼˜åŠ¿ï¼Œhttp3çš„è¯ç”Ÿä¹Ÿè®©äººä»¬å¯¹æœªæ¥å‘å±•å……æ»¡äº†æ†§æ†¬ï¼ŒHTTP/3 å’Œ HTTP/2 ä»¥åŠ HTTP/1.1 æœ€å¤§çš„ä¸åŒåº”è¯¥æ˜¯ HTTP/3 é¢ è¦†äº† HTTP ä½¿ç”¨ TCP çš„ã€Œä¼ ç»Ÿã€ï¼Œæ–°ç‰ˆçš„UDPä¼šæ›´åŠ å¿«é€Ÿç¨³å®šï¼Œä¹Ÿä¼šæ›´åŠ å®‰å…¨ã€‚</p><h3 id="é“¾æ¥"><a class="markdownIt-Anchor" href="#é“¾æ¥"></a> é“¾æ¥</h3><p><a href="https://www.jesuisundev.com/en/understand-http3-in-5-minutes/">äº”åˆ†é’Ÿçœ‹æ‡‚http3</a></p><p><a href="https://kinsta.com/blog/http3/">ä»€ä¹ˆæ˜¯http3</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;é‚£å°±æ¥ç®€å•çš„èŠèŠhttpå§&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#é‚£å°±æ¥ç®€å•çš„èŠèŠhttpå§&quot;&gt;&lt;/a&gt; é‚£å°±æ¥ç®€å•çš„èŠèŠhttpå§&lt;/h3&gt;
&lt;p&gt;httpï¼ˆHypertext Transfer Protocolï¼‰è¶…æ–‡æœ¬ä¼ è¾“å</summary>
      
    
    
    
    <category term="print*,&quot;hello world!!!&quot;" scheme="https://blog.youmingsama.cn/categories/print-hello-world/"/>
    
    
    <category term="http" scheme="https://blog.youmingsama.cn/tags/http/"/>
    
  </entry>
  
  <entry>
    <title>æ»‘åŠ¨çª—å£ä¸ä¹ŸæŒºå¥½çš„å˜›</title>
    <link href="https://blog.youmingsama.cn/posts/de1f8121/"/>
    <id>https://blog.youmingsama.cn/posts/de1f8121/</id>
    <published>2021-02-04T00:00:00.000Z</published>
    <updated>2023-06-23T07:25:57.098Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ»‘åŠ¨çª—å£ä¸ä¹ŸæŒºå¥½çš„å—jpg"><a class="markdownIt-Anchor" href="#æ»‘åŠ¨çª—å£ä¸ä¹ŸæŒºå¥½çš„å—jpg"></a> æ»‘åŠ¨çª—å£ä¸ä¹ŸæŒºå¥½çš„å—.jpg</h2><p>è¿™ä¸ªæœˆå¤§èƒ†é¢„æµ‹ä¸€æ³¢ï¼Œè¿™ä¸ªæœˆå¯èƒ½æ˜¯leetcodeçš„æ»‘åŠ¨çª—å£æœˆï¼Œå…ˆæå‰å¼€ä¸ªå‘ï¼ˆï¼Œæ¯•ç«Ÿä¸Šä¸ªæœˆçš„æŸ¥å¹¶é›†æœˆå·²ç»åœ¨å†™äº†å·²ç»åœ¨å†™äº†ï¼ˆé›¾ã€‚</p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo_1/img2/é—®é¢˜ä¸å¤§.png" style="zoom: 33%;" /><h4 id="643-å­æ•°ç»„æœ€å¤§å¹³å‡æ•°-i"><a class="markdownIt-Anchor" href="#643-å­æ•°ç»„æœ€å¤§å¹³å‡æ•°-i"></a> <a href="https://leetcode-cn.com/problems/maximum-average-subarray-i/">643. å­æ•°ç»„æœ€å¤§å¹³å‡æ•° I</a></h4><p>ç»™å®š <code>n</code> ä¸ªæ•´æ•°ï¼Œæ‰¾å‡ºå¹³å‡æ•°æœ€å¤§ä¸”é•¿åº¦ä¸º <code>k</code> çš„è¿ç»­å­æ•°ç»„ï¼Œå¹¶è¾“å‡ºè¯¥æœ€å¤§å¹³å‡æ•°ã€‚</p><p><strong>ç¤ºä¾‹ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š[1,12,-5,-6,50,3], k = 4</span><br><span class="line">è¾“å‡ºï¼š12.75</span><br><span class="line">è§£é‡Šï¼šæœ€å¤§å¹³å‡æ•° (12-5-6+50)/4 = 51/4 = 12.75</span><br></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ul><li>1 &lt;= <code>k</code> &lt;= <code>n</code> &lt;= 30,000ã€‚</li><li>æ‰€ç»™æ•°æ®èŒƒå›´ [-10,000ï¼Œ10,000]ã€‚</li></ul><p>éå¸¸å…¸å‹çš„æ»‘åŠ¨çª—å£ç±»å‹é¢˜ç›®ï¼Œä¸è¿‡æš´åŠ›å˜›å¾ˆå®¹æ˜“è¶…æ—¶ï¼Œå½“ç„¶å¦‚æœä½ ä¹‹å‰åšè¿‡æ»‘åŠ¨çª—å£ç±»å‹çš„é¢˜ç›®çš„è¯ï¼Œè¿™é¢˜è‚¯å®šä¸€çœ¼å°±çœ‹å‡ºæ¥äº†.jpgã€‚å½“ç„¶ä»£ç ä¹Ÿåœ¨æ„æ–™ä¹‹ä¸­çš„å¾ˆç®€å•ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">findMaxAverage</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">      <span class="type">int</span> sum=<span class="number">0</span>;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;k;i++)&#123;</span><br><span class="line">          sum+=nums[i];</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="type">double</span> maxsum=sum;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> i=k;i&lt;nums.length;i++)&#123;</span><br><span class="line">          sum=sum+nums[i]-nums[i-k];</span><br><span class="line">          maxsum=Math.max(sum,maxsum);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> maxsum/k;</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1208-å°½å¯èƒ½ä½¿å­—ç¬¦ä¸²ç›¸ç­‰"><a class="markdownIt-Anchor" href="#1208-å°½å¯èƒ½ä½¿å­—ç¬¦ä¸²ç›¸ç­‰"></a> <a href="https://leetcode-cn.com/problems/get-equal-substrings-within-budget/">1208. å°½å¯èƒ½ä½¿å­—ç¬¦ä¸²ç›¸ç­‰</a></h4><p>ç»™ä½ ä¸¤ä¸ªé•¿åº¦ç›¸åŒçš„å­—ç¬¦ä¸²ï¼Œ<code>s</code> å’Œ <code>t</code>ã€‚</p><p>å°† <code>s</code> ä¸­çš„ç¬¬ <code>i</code> ä¸ªå­—ç¬¦å˜åˆ° <code>t</code> ä¸­çš„ç¬¬ <code>i</code> ä¸ªå­—ç¬¦éœ€è¦ <code>|s[i] - t[i]|</code> çš„å¼€é”€ï¼ˆå¼€é”€å¯èƒ½ä¸º 0ï¼‰ï¼Œä¹Ÿå°±æ˜¯ä¸¤ä¸ªå­—ç¬¦çš„ ASCII ç å€¼çš„å·®çš„ç»å¯¹å€¼ã€‚</p><p>ç”¨äºå˜æ›´å­—ç¬¦ä¸²çš„æœ€å¤§é¢„ç®—æ˜¯ <code>maxCost</code>ã€‚åœ¨è½¬åŒ–å­—ç¬¦ä¸²æ—¶ï¼Œæ€»å¼€é”€åº”å½“å°äºç­‰äºè¯¥é¢„ç®—ï¼Œè¿™ä¹Ÿæ„å‘³ç€å­—ç¬¦ä¸²çš„è½¬åŒ–å¯èƒ½æ˜¯ä¸å®Œå…¨çš„ã€‚</p><p>å¦‚æœä½ å¯ä»¥å°† <code>s</code> çš„å­å­—ç¬¦ä¸²è½¬åŒ–ä¸ºå®ƒåœ¨ <code>t</code> ä¸­å¯¹åº”çš„å­å­—ç¬¦ä¸²ï¼Œåˆ™è¿”å›å¯ä»¥è½¬åŒ–çš„æœ€å¤§é•¿åº¦ã€‚</p><p>å¦‚æœ <code>s</code> ä¸­æ²¡æœ‰å­å­—ç¬¦ä¸²å¯ä»¥è½¬åŒ–æˆ <code>t</code> ä¸­å¯¹åº”çš„å­å­—ç¬¦ä¸²ï¼Œåˆ™è¿”å› <code>0</code>ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;abcd&quot;, t = &quot;bcdf&quot;, cost = 3</span><br><span class="line">è¾“å‡ºï¼š3</span><br><span class="line">è§£é‡Šï¼šs ä¸­çš„ &quot;abc&quot; å¯ä»¥å˜ä¸º &quot;bcd&quot;ã€‚å¼€é”€ä¸º 3ï¼Œæ‰€ä»¥æœ€å¤§é•¿åº¦ä¸º 3ã€‚</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;abcd&quot;, t = &quot;cdef&quot;, cost = 3</span><br><span class="line">è¾“å‡ºï¼š1</span><br><span class="line">è§£é‡Šï¼šs ä¸­çš„ä»»ä¸€å­—ç¬¦è¦æƒ³å˜æˆ t ä¸­å¯¹åº”çš„å­—ç¬¦ï¼Œå…¶å¼€é”€éƒ½æ˜¯ 2ã€‚å› æ­¤ï¼Œæœ€å¤§é•¿åº¦ä¸º 1ã€‚</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;abcd&quot;, t = &quot;acde&quot;, cost = 0</span><br><span class="line">è¾“å‡ºï¼š1</span><br><span class="line">è§£é‡Šï¼šä½ æ— æ³•ä½œå‡ºä»»ä½•æ”¹åŠ¨ï¼Œæ‰€ä»¥æœ€å¤§é•¿åº¦ä¸º 1ã€‚</span><br></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= s.length, t.length &lt;= 10^5</code></li><li><code>0 &lt;= maxCost &lt;= 10^6</code></li><li><code>s</code> å’Œ <code>t</code> éƒ½åªå«å°å†™è‹±æ–‡å­—æ¯ã€‚</li></ul><p>è¿™é¢˜ä¹Ÿæ˜¯æ»‘åŠ¨çª—å£ç±»å‹çš„é¢˜è€¶ï¼Œæ»‘åŠ¨çª—å£æœˆå®é”¤ï¼ï¼ï¼ï¼ï¼Œè¿™é¢˜ä¹Ÿæ˜¯æ»‘åŠ¨çª—å£è¯¶ï¼Œè¿™é¢˜çš„æ»‘åŠ¨çª—å£ä½¿ç”¨åŒæŒ‡é’ˆæ¥ç»´æŠ¤ï¼ŒrightæŒ‡é’ˆä¸å˜ï¼Œè®©leftæŒ‡é’ˆæ¥ç¼©å°èŒƒå›´å³å¯ï¼Œç®€å•é¢˜æˆ‘é‡æ‹³å‡ºå‡»ï¼Œå›°éš¾é¢˜æˆ‘å”¯å”¯è¯ºè¯ºï¼ˆã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">     <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">equalSubstring</span><span class="params">(String s, String t, <span class="type">int</span> maxCost)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">cost</span> <span class="operator">=</span> <span class="number">0</span>, right = <span class="number">0</span>, left = <span class="number">0</span>, maxLength = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (right &lt; s.length()) &#123;</span><br><span class="line">            cost += Math.abs(s.charAt(right) - t.charAt(right));</span><br><span class="line">            <span class="keyword">while</span> (cost &gt; maxCost) &#123;<span class="comment">//å¦‚æœæ¡ä»¶ä¸æ»¡è¶³</span></span><br><span class="line">                cost -= Math.abs(s.charAt(left) - t.charAt(left));</span><br><span class="line">                left++;</span><br><span class="line">            &#125;</span><br><span class="line">            maxLength = Math.max(maxLength, right - left + <span class="number">1</span>);</span><br><span class="line">            right++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxLength;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>psï¼šæœ‰äººæŒ‡å‡ºè¿™é¢˜ä¸¥æ ¼æ¥è¯´ä¸ç®—æ˜¯æ»‘åŠ¨çª—å£ï¼Œä¸¥æ ¼æ¥è¯´åº”è¯¥æ˜¯åŒæŒ‡é’ˆï¼Œä¸¤è€…çš„åŒºåˆ«åœ¨äºã€Œæ»‘åŠ¨çª—å£ã€æ˜¯ä¸€ç±»é—®é¢˜æœ¬èº«ï¼Œã€ŒåŒæŒ‡é’ˆã€æ˜¯è§£å†³ä¸€ç±»äºŒåˆ†æŸ¥æ‰¾é—®é¢˜çš„é€šç”¨ä¼˜åŒ–æ–¹æ³•ã€‚æˆ–è€…è¯´<strong>æ»‘åŠ¨çª—å£ã€æœ¬èº«å¹¶ä¸æ˜¯è§£å†³é—®é¢˜çš„ä¸€ç§æ–¹æ³•ï¼ˆæˆ–è€…è¯´ç®—æ³•ï¼‰ï¼Œå®ƒå…¶å®å°±æ˜¯è¿™ä¸ªé—®é¢˜æœ¬èº«</strong>ã€‚æˆ‘ä»¬éœ€è¦åšçš„æ˜¯å¯»æ‰¾åˆé€‚çš„æ•°æ®ç»“æ„æ¥ã€Œç»´æŠ¤ã€è¿™ä¸ªã€Œæ»‘åŠ¨çª—å£ã€ï¼Œæ¯”å¦‚è¯´ç¬¬ä¸€é¢˜å…¸å‹çš„æ»‘åŠ¨çª—å£</p></blockquote><h4 id="1423-å¯è·å¾—çš„æœ€å¤§ç‚¹æ•°"><a class="markdownIt-Anchor" href="#1423-å¯è·å¾—çš„æœ€å¤§ç‚¹æ•°"></a> <a href="https://leetcode-cn.com/problems/maximum-points-you-can-obtain-from-cards/">1423. å¯è·å¾—çš„æœ€å¤§ç‚¹æ•°</a></h4><p>å‡ å¼ å¡ç‰Œ <strong>æ’æˆä¸€è¡Œ</strong>ï¼Œæ¯å¼ å¡ç‰Œéƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„ç‚¹æ•°ã€‚ç‚¹æ•°ç”±æ•´æ•°æ•°ç»„ <code>cardPoints</code> ç»™å‡ºã€‚</p><p>æ¯æ¬¡è¡ŒåŠ¨ï¼Œä½ å¯ä»¥ä»è¡Œçš„å¼€å¤´æˆ–è€…æœ«å°¾æ‹¿ä¸€å¼ å¡ç‰Œï¼Œæœ€ç»ˆä½ å¿…é¡»æ­£å¥½æ‹¿ <code>k</code> å¼ å¡ç‰Œã€‚</p><p>ä½ çš„ç‚¹æ•°å°±æ˜¯ä½ æ‹¿åˆ°æ‰‹ä¸­çš„æ‰€æœ‰å¡ç‰Œçš„ç‚¹æ•°ä¹‹å’Œã€‚</p><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>cardPoints</code> å’Œæ•´æ•° <code>k</code>ï¼Œè¯·ä½ è¿”å›å¯ä»¥è·å¾—çš„æœ€å¤§ç‚¹æ•°ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šcardPoints = [1,2,3,4,5,6,1], k = 3</span><br><span class="line">è¾“å‡ºï¼š12</span><br><span class="line">è§£é‡Šï¼šç¬¬ä¸€æ¬¡è¡ŒåŠ¨ï¼Œä¸ç®¡æ‹¿å“ªå¼ ç‰Œï¼Œä½ çš„ç‚¹æ•°æ€»æ˜¯ 1 ã€‚ä½†æ˜¯ï¼Œå…ˆæ‹¿æœ€å³è¾¹çš„å¡ç‰Œå°†ä¼šæœ€å¤§åŒ–ä½ çš„å¯è·å¾—ç‚¹æ•°ã€‚æœ€ä¼˜ç­–ç•¥æ˜¯æ‹¿å³è¾¹çš„ä¸‰å¼ ç‰Œï¼Œæœ€ç»ˆç‚¹æ•°ä¸º 1 + 6 + 5 = 12 ã€‚</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šcardPoints = [2,2,2], k = 2</span><br><span class="line">è¾“å‡ºï¼š4</span><br><span class="line">è§£é‡Šï¼šæ— è®ºä½ æ‹¿èµ·å“ªä¸¤å¼ å¡ç‰Œï¼Œå¯è·å¾—çš„ç‚¹æ•°æ€»æ˜¯ 4 ã€‚</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šcardPoints = [9,7,7,9,7,7,9], k = 7</span><br><span class="line">è¾“å‡ºï¼š55</span><br><span class="line">è§£é‡Šï¼šä½ å¿…é¡»æ‹¿èµ·æ‰€æœ‰å¡ç‰Œï¼Œå¯ä»¥è·å¾—çš„ç‚¹æ•°ä¸ºæ‰€æœ‰å¡ç‰Œçš„ç‚¹æ•°ä¹‹å’Œã€‚</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 4ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šcardPoints = [1,1000,1], k = 1</span><br><span class="line">è¾“å‡ºï¼š1</span><br><span class="line">è§£é‡Šï¼šä½ æ— æ³•æ‹¿åˆ°ä¸­é—´é‚£å¼ å¡ç‰Œï¼Œæ‰€ä»¥å¯ä»¥è·å¾—çš„æœ€å¤§ç‚¹æ•°ä¸º 1 ã€‚ </span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 5ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šcardPoints = [1,79,80,1,1,1,200,1], k = 3</span><br><span class="line">è¾“å‡ºï¼š202</span><br></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= cardPoints.length &lt;= 10^5</code></li><li><code>1 &lt;= cardPoints[i] &lt;= 10^4</code></li><li><code>1 &lt;= k &lt;= cardPoints.length</code></li></ul><p>emmmmmè¿™é¢˜æˆ‘ä¸€å¼€å§‹å°±é™·å…¥äº†è¯¯åŒºï¼Œæ…Œæ…Œå¿™å¿™å¼€å§‹æ•²ä»£ç ï¼Œè¿™é¢˜æ—¢ç„¶æ±‚æœ€å¤§çš„ç‚¹æ•°ä¹‹å’Œï¼Œæˆ‘ä»¬åªéœ€è¦ç»´æŠ¤æœ€å°çš„æ»‘åŠ¨çª—å£å°±è¡Œäº†ï¼ŒçŸ¥é“äº†è¿™ç‚¹ä¹‹åå°±å˜å¾—å¾ˆç®€å•äº†</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxScore</span><span class="params">(<span class="type">int</span>[] cardPoints, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> cardPoints.length;</span><br><span class="line">        <span class="comment">// æ»‘åŠ¨çª—å£å¤§å°ä¸º n-k</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">windowSize</span> <span class="operator">=</span> n - k;</span><br><span class="line">        <span class="comment">// é€‰å‰ n-k ä¸ªä½œä¸ºåˆå§‹å€¼</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; windowSize; ++i) &#123;</span><br><span class="line">            sum += cardPoints[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">minSum</span> <span class="operator">=</span> sum;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> windowSize; i &lt; n; ++i) &#123;</span><br><span class="line">            <span class="comment">// æ»‘åŠ¨çª—å£æ¯å‘å³ç§»åŠ¨ä¸€æ ¼ï¼Œå¢åŠ ä»å³ä¾§è¿›å…¥çª—å£çš„å…ƒç´ å€¼ï¼Œå¹¶å‡å°‘ä»å·¦ä¾§ç¦»å¼€çª—å£çš„å…ƒç´ å€¼</span></span><br><span class="line">            sum += cardPoints[i] - cardPoints[i - windowSize];</span><br><span class="line">            minSum = Math.min(minSum, sum);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Arrays.stream(cardPoints).sum() - minSum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="978-æœ€é•¿æ¹æµå­æ•°ç»„"><a class="markdownIt-Anchor" href="#978-æœ€é•¿æ¹æµå­æ•°ç»„"></a> <a href="https://leetcode-cn.com/problems/longest-turbulent-subarray/">978. æœ€é•¿æ¹æµå­æ•°ç»„</a></h4><p>å½“ <code>A</code> çš„å­æ•°ç»„ <code>A[i], A[i+1], ..., A[j]</code> æ»¡è¶³ä¸‹åˆ—æ¡ä»¶æ—¶ï¼Œæˆ‘ä»¬ç§°å…¶ä¸º<em>æ¹æµå­æ•°ç»„</em>ï¼š</p><ul><li>è‹¥ <code>i &lt;= k &lt; j</code>ï¼Œå½“ <code>k</code> ä¸ºå¥‡æ•°æ—¶ï¼Œ <code>A[k] &gt; A[k+1]</code>ï¼Œä¸”å½“ <code>k</code> ä¸ºå¶æ•°æ—¶ï¼Œ<code>A[k] &lt; A[k+1]</code>ï¼›</li><li><strong>æˆ–</strong> è‹¥ <code>i &lt;= k &lt; j</code>ï¼Œå½“ <code>k</code> ä¸ºå¶æ•°æ—¶ï¼Œ<code>A[k] &gt; A[k+1]</code> ï¼Œä¸”å½“ <code>k</code> ä¸ºå¥‡æ•°æ—¶ï¼Œ <code>A[k] &lt; A[k+1]</code>ã€‚</li></ul><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæ¯”è¾ƒç¬¦å·åœ¨å­æ•°ç»„ä¸­çš„æ¯ä¸ªç›¸é‚»å…ƒç´ å¯¹ä¹‹é—´ç¿»è½¬ï¼Œåˆ™è¯¥å­æ•°ç»„æ˜¯æ¹æµå­æ•°ç»„ã€‚</p><p>è¿”å› <code>A</code> çš„æœ€å¤§æ¹æµå­æ•°ç»„çš„<strong>é•¿åº¦</strong>ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š[9,4,2,10,7,8,8,1,9]</span><br><span class="line">è¾“å‡ºï¼š5</span><br><span class="line">è§£é‡Šï¼š(A[1] &gt; A[2] &lt; A[3] &gt; A[4] &lt; A[5])</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š[4,8,12,16]</span><br><span class="line">è¾“å‡ºï¼š2</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š[100]</span><br><span class="line">è¾“å‡ºï¼š1</span><br></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ol><li><code>1 &lt;= A.length &lt;= 40000</code></li><li><code>0 &lt;= A[i] &lt;= 10^9</code></li></ol><p>è¿™é¢˜æˆ‘ä»¬æ ¹æ®å®šä¹‰å¯èƒ½ä¼šå­˜åœ¨<code>arr[right-1]&lt;arr[right]&amp;&amp;arr[right]&gt;arr[right+1]</code>æˆ–è€…<code>arr[right-1]&gt;arr[right]&amp;&amp;arr[right]&lt;arr[right-1]</code>ï¼Œè¿™ä¸¤ç§æƒ…å†µéœ€è¦æŠŠrightå‘å³ç§»åŠ¨ä¸€ä¸ªå•ä½ï¼Œæ­¤å¤–å½“æ— æ³•æ»¡è¶³è¿™ä¸¤ç§æƒ…å†µæ—¶éœ€è¦å¦<code>left=right</code>ã€‚</p><p>å½“çª—å£çš„é•¿åº¦ä¸º1æ—¶ï¼Œéœ€è¦æŠŠleftå’Œrightéƒ½å³ç§»ä¸€ä¸ªå•ä½</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxTurbulenceSize</span><span class="params">(<span class="type">int</span>[] arr)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> arr.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">ret</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>, right = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (right &lt; n - <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (left == right) &#123;</span><br><span class="line">                <span class="keyword">if</span> (arr[left] == arr[left + <span class="number">1</span>]) &#123;</span><br><span class="line">                    left++;</span><br><span class="line">                &#125;</span><br><span class="line">                right++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (arr[right - <span class="number">1</span>] &lt; arr[right] &amp;&amp; arr[right] &gt; arr[right + <span class="number">1</span>]) &#123;</span><br><span class="line">                    right++;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (arr[right - <span class="number">1</span>] &gt; arr[right] &amp;&amp; arr[right] &lt; arr[right + <span class="number">1</span>]) &#123;</span><br><span class="line">                    right++;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    left = right;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            ret = Math.max(ret, right - left + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="485-æœ€å¤§è¿ç»­-1-çš„ä¸ªæ•°"><a class="markdownIt-Anchor" href="#485-æœ€å¤§è¿ç»­-1-çš„ä¸ªæ•°"></a> <a href="https://leetcode-cn.com/problems/max-consecutive-ones/">485. æœ€å¤§è¿ç»­ 1 çš„ä¸ªæ•°</a></h4><p>ç»™å®šä¸€ä¸ªäºŒè¿›åˆ¶æ•°ç»„ï¼Œ è®¡ç®—å…¶ä¸­æœ€å¤§è¿ç»­ 1 çš„ä¸ªæ•°ã€‚</p><p><strong>ç¤ºä¾‹ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š[1,1,0,1,1,1]</span><br><span class="line">è¾“å‡ºï¼š3</span><br><span class="line">è§£é‡Šï¼šå¼€å¤´çš„ä¸¤ä½å’Œæœ€åçš„ä¸‰ä½éƒ½æ˜¯è¿ç»­ 1 ï¼Œæ‰€ä»¥æœ€å¤§è¿ç»­ 1 çš„ä¸ªæ•°æ˜¯ 3.</span><br></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ul><li>è¾“å…¥çš„æ•°ç»„åªåŒ…å« <code>0</code> å’Œ <code>1</code> ã€‚</li><li>è¾“å…¥æ•°ç»„çš„é•¿åº¦æ˜¯æ­£æ•´æ•°ï¼Œä¸”ä¸è¶…è¿‡ 10,000ã€‚</li></ul><p>è¿™é¢˜æœ‰äº†ä¸Šé¢å‡ é¢˜çš„ç»éªŒå’Œæ¨¡æ¿åº”è¯¥å¾ˆå®¹æ˜“çœ‹å‡ºæ¥äº†.jpg</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findMaxConsecutiveOnes</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>, right = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (right &lt; nums.length) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[right] == <span class="number">1</span>) &#123;</span><br><span class="line">                right++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                right++;</span><br><span class="line">                left = right;</span><br><span class="line">            &#125;</span><br><span class="line">            ans = Math.max(ans, right - left);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1004-æœ€å¤§è¿ç»­1çš„ä¸ªæ•°-iii"><a class="markdownIt-Anchor" href="#1004-æœ€å¤§è¿ç»­1çš„ä¸ªæ•°-iii"></a> <a href="https://leetcode-cn.com/problems/max-consecutive-ones-iii/">1004. æœ€å¤§è¿ç»­1çš„ä¸ªæ•° III</a></h4><p>ç»™å®šä¸€ä¸ªç”±è‹¥å¹² <code>0</code> å’Œ <code>1</code> ç»„æˆçš„æ•°ç»„ <code>A</code>ï¼Œæˆ‘ä»¬æœ€å¤šå¯ä»¥å°† <code>K</code> ä¸ªå€¼ä» 0 å˜æˆ 1 ã€‚</p><p>è¿”å›ä»…åŒ…å« 1 çš„æœ€é•¿ï¼ˆè¿ç»­ï¼‰å­æ•°ç»„çš„é•¿åº¦ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šA = [1,1,1,0,0,0,1,1,1,1,0], K = 2</span><br><span class="line">è¾“å‡ºï¼š6</span><br><span class="line">è§£é‡Šï¼š </span><br><span class="line">[1,1,1,0,0,1,1,1,1,1,1]</span><br><span class="line">ç²—ä½“æ•°å­—ä» 0 ç¿»è½¬åˆ° 1ï¼Œæœ€é•¿çš„å­æ•°ç»„é•¿åº¦ä¸º 6ã€‚</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šA = [0,0,1,1,0,0,1,1,1,0,1,1,0,0,0,1,1,1,1], K = 3</span><br><span class="line">è¾“å‡ºï¼š10</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">[0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1]</span><br><span class="line">ç²—ä½“æ•°å­—ä» 0 ç¿»è½¬åˆ° 1ï¼Œæœ€é•¿çš„å­æ•°ç»„é•¿åº¦ä¸º 10ã€‚</span><br></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ol><li><code>1 &lt;= A.length &lt;= 20000</code></li><li><code>0 &lt;= K &lt;= A.length</code></li><li><code>A[i]</code> ä¸º <code>0</code> æˆ– <code>1</code></li></ol><p>è¿™é¢˜çœ‹äº†åŠå¤©æ²¡æƒ³åˆ°æ€ä¹ˆç”¨æ»‘åŠ¨æ•°ç»„ï¼Œè¿™é‡Œå…¶å®ä¸ç”¨å»è®¡ç®—1çš„æ•°é‡ï¼Œæˆ‘ä»¬åªéœ€è¦å»ç»´æŠ¤0çš„æ•°é‡å°äº2çš„æ»‘åŠ¨çª—å£å°±å¥½äº†,æƒ³é€šäº†è¿™ä¸€ç‚¹ä¹‹åå°±å˜å¾—å¾ˆç®€å•äº†ï¼Œä»£ç çš„è¯æ˜¯å¸¸è§„æ»‘åŠ¨æ•°ç»„çš„å†™æ³•ï¼Œä¹Ÿæ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œæ€»ä¹‹å°±æ˜¯å¾ˆç®€å•.jpg</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">longestOnes</span><span class="params">(<span class="type">int</span>[] A, <span class="type">int</span> K)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> A.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>, lsum = <span class="number">0</span>, rsum = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> <span class="number">0</span>; right &lt; n; ++right) &#123;</span><br><span class="line">            rsum += <span class="number">1</span> - A[right];</span><br><span class="line">            <span class="keyword">while</span> (lsum &lt; rsum - K) &#123;</span><br><span class="line">                lsum += <span class="number">1</span> - A[left];</span><br><span class="line">                ++left;</span><br><span class="line">            &#125;</span><br><span class="line">            ans = Math.max(ans, right - left + <span class="number">1</span>);</span><br><span class="line">         </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="1052-çˆ±ç”Ÿæ°”çš„ä¹¦åº—è€æ¿"><a class="markdownIt-Anchor" href="#1052-çˆ±ç”Ÿæ°”çš„ä¹¦åº—è€æ¿"></a> <a href="https://leetcode-cn.com/problems/grumpy-bookstore-owner/">1052. çˆ±ç”Ÿæ°”çš„ä¹¦åº—è€æ¿</a></h4><p>ä»Šå¤©ï¼Œä¹¦åº—è€æ¿æœ‰ä¸€å®¶åº—æ‰“ç®—è¯•è¥ä¸š <code>customers.length</code> åˆ†é’Ÿã€‚æ¯åˆ†é’Ÿéƒ½æœ‰ä¸€äº›é¡¾å®¢ï¼ˆ<code>customers[i]</code>ï¼‰ä¼šè¿›å…¥ä¹¦åº—ï¼Œæ‰€æœ‰è¿™äº›é¡¾å®¢éƒ½ä¼šåœ¨é‚£ä¸€åˆ†é’Ÿç»“æŸåç¦»å¼€ã€‚</p><p>åœ¨æŸäº›æ—¶å€™ï¼Œä¹¦åº—è€æ¿ä¼šç”Ÿæ°”ã€‚ å¦‚æœä¹¦åº—è€æ¿åœ¨ç¬¬ <code>i</code> åˆ†é’Ÿç”Ÿæ°”ï¼Œé‚£ä¹ˆ <code>grumpy[i] = 1</code>ï¼Œå¦åˆ™ <code>grumpy[i] = 0</code>ã€‚ å½“ä¹¦åº—è€æ¿ç”Ÿæ°”æ—¶ï¼Œé‚£ä¸€åˆ†é’Ÿçš„é¡¾å®¢å°±ä¼šä¸æ»¡æ„ï¼Œä¸ç”Ÿæ°”åˆ™ä»–ä»¬æ˜¯æ»¡æ„çš„ã€‚</p><p>ä¹¦åº—è€æ¿çŸ¥é“ä¸€ä¸ªç§˜å¯†æŠ€å·§ï¼Œèƒ½æŠ‘åˆ¶è‡ªå·±çš„æƒ…ç»ªï¼Œå¯ä»¥è®©è‡ªå·±è¿ç»­ <code>X</code> åˆ†é’Ÿä¸ç”Ÿæ°”ï¼Œä½†å´åªèƒ½ä½¿ç”¨ä¸€æ¬¡ã€‚</p><p>è¯·ä½ è¿”å›è¿™ä¸€å¤©è¥ä¸šä¸‹æ¥ï¼Œæœ€å¤šæœ‰å¤šå°‘å®¢æˆ·èƒ½å¤Ÿæ„Ÿåˆ°æ»¡æ„çš„æ•°é‡ã€‚</p><p><strong>ç¤ºä¾‹ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šcustomers = [1,0,1,2,1,1,7,5], grumpy = [0,1,0,1,0,1,0,1], X = 3</span><br><span class="line">è¾“å‡ºï¼š16</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">ä¹¦åº—è€æ¿åœ¨æœ€å 3 åˆ†é’Ÿä¿æŒå†·é™ã€‚</span><br><span class="line">æ„Ÿåˆ°æ»¡æ„çš„æœ€å¤§å®¢æˆ·æ•°é‡ = 1 + 1 + 1 + 1 + 7 + 5 = 16.</span><br></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= X &lt;= customers.length == grumpy.length &lt;= 20000</code></li><li><code>0 &lt;= customers[i] &lt;= 1000</code></li><li><code>0 &lt;= grumpy[i] &lt;= 1</code></li></ul><p>è¿™é¢˜ä¹Ÿæ˜¯å…¸å‹çš„æ»‘åŠ¨çª—å£ï¼Œè¿™é¢˜çµæ´»çš„è¿ç”¨äº†æ•°ç»„customerå’Œgrumpyçš„å…³ç³»ï¼Œä»£ç å®ç°å€’æ˜¯å¾ˆç®€å•ï¼Œå¼¹å‰ææ˜¯æ´»ç”¨customerå’Œgrumpyçš„å…³ç³»ï¼Œä»£ç å®ç°å€’æ˜¯å¾ˆå¸¸è§„</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxSatisfied</span><span class="params">(<span class="type">int</span>[] customers, <span class="type">int</span>[] grumpy, <span class="type">int</span> X)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">total</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> customers.length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (grumpy[i] == <span class="number">0</span>) &#123;</span><br><span class="line">                total += customers[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">increase</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; X; i++) &#123;</span><br><span class="line">            increase += customers[i] * grumpy[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">maxIncrease</span> <span class="operator">=</span> increase;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> X; i &lt; n; i++) &#123;</span><br><span class="line">            increase = increase - customers[i - X] * grumpy[i - X] + customers[i] * grumpy[i];</span><br><span class="line">            maxIncrease = Math.max(maxIncrease, increase);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> total + maxIncrease;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="è¿™æ˜¯äºŒæœˆæœ€åä¸€é“æ»‘åŠ¨çª—å£é¢˜å•¦è¿™æˆ‘æˆ‘æœ€åçš„æ³¢çº¹å•¦jojo"><a class="markdownIt-Anchor" href="#è¿™æ˜¯äºŒæœˆæœ€åä¸€é“æ»‘åŠ¨çª—å£é¢˜å•¦è¿™æˆ‘æˆ‘æœ€åçš„æ³¢çº¹å•¦jojo"></a> è¿™æ˜¯äºŒæœˆæœ€åä¸€é“æ»‘åŠ¨çª—å£é¢˜å•¦ï¼Œè¿™æˆ‘æˆ‘æœ€åçš„æ³¢çº¹å•¦ï¼Œjojoï¼ï¼ï¼ï¼</h4><h4 id="395-è‡³å°‘æœ‰-k-ä¸ªé‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²"><a class="markdownIt-Anchor" href="#395-è‡³å°‘æœ‰-k-ä¸ªé‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²"></a> <a href="https://leetcode-cn.com/problems/longest-substring-with-at-least-k-repeating-characters/">395. è‡³å°‘æœ‰ K ä¸ªé‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</a></h4><p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² <code>s</code> å’Œä¸€ä¸ªæ•´æ•° <code>k</code> ï¼Œè¯·ä½ æ‰¾å‡º <code>s</code> ä¸­çš„æœ€é•¿å­ä¸²ï¼Œ è¦æ±‚è¯¥å­ä¸²ä¸­çš„æ¯ä¸€å­—ç¬¦å‡ºç°æ¬¡æ•°éƒ½ä¸å°‘äº <code>k</code> ã€‚è¿”å›è¿™ä¸€å­ä¸²çš„é•¿åº¦ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;aaabb&quot;, k = 3</span><br><span class="line">è¾“å‡ºï¼š3</span><br><span class="line">è§£é‡Šï¼šæœ€é•¿å­ä¸²ä¸º &quot;aaa&quot; ï¼Œå…¶ä¸­ &#x27;a&#x27; é‡å¤äº† 3 æ¬¡ã€‚</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;ababbc&quot;, k = 2</span><br><span class="line">è¾“å‡ºï¼š5</span><br><span class="line">è§£é‡Šï¼šæœ€é•¿å­ä¸²ä¸º &quot;ababb&quot; ï¼Œå…¶ä¸­ &#x27;a&#x27; é‡å¤äº† 2 æ¬¡ï¼Œ &#x27;b&#x27; é‡å¤äº† 3 æ¬¡ã€‚</span><br></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= s.length &lt;= 104</code></li><li><code>s</code> ä»…ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ</li><li><code>1 &lt;= k &lt;= 105</code></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">longestSubstring</span><span class="params">(String s, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> s.length();</span><br><span class="line">    <span class="type">char</span>[] cs = s.toCharArray();</span><br><span class="line">    <span class="type">int</span>[] cnt = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">26</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">curKind</span> <span class="operator">=</span> <span class="number">1</span>; curKind &lt;= <span class="number">26</span>; curKind++) &#123;</span><br><span class="line">      <span class="comment">//å¯¹äºé™å®šçš„å­—ç¬¦æ•°é‡çš„æ¡ä»¶ä¸‹è¿›è¡Œæ»‘åŠ¨çª—å£</span></span><br><span class="line">      Arrays.fill(cnt, <span class="number">0</span>);</span><br><span class="line">      <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>, right = <span class="number">0</span>;</span><br><span class="line">      <span class="comment">//totalKind:çª—å£å†…æ‰€æœ‰å­—ç¬¦ç±»å‹æ•°é‡ï¼ŒsumKind:çª—å£å†…æ»¡è¶³å‡ºç°æ¬¡æ•°ä¸å°‘äºkçš„å­—ç¬¦ç±»å‹æ•°é‡</span></span><br><span class="line">      <span class="type">int</span> <span class="variable">totalKind</span> <span class="operator">=</span> <span class="number">0</span>, sumKind = <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">while</span> (right &lt; len)&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">rightIndex</span> <span class="operator">=</span> cs[right] - <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">        cnt[rightIndex]++;</span><br><span class="line">        <span class="keyword">if</span> (cnt[rightIndex] == <span class="number">1</span>) totalKind++;</span><br><span class="line">        <span class="keyword">if</span> (cnt[rightIndex] == k) sumKind++;</span><br><span class="line">        <span class="comment">//å½“æ€»å­—ç¬¦ç§ç±»æ•°é‡ä¸æ»¡è¶³é™å®šçš„å­—ç¬¦ç§ç±»æ•°é‡ï¼Œéœ€è¦è¢«è¿«ç§»åŠ¨å·¦æŒ‡é’ˆæ¥å‡å°‘æ€»å­—ç¬¦ç§ç±»æ•°é‡</span></span><br><span class="line">        <span class="keyword">while</span> (totalKind &gt; curKind) &#123;</span><br><span class="line">          <span class="type">int</span> <span class="variable">leftIndex</span> <span class="operator">=</span> cs[left] - <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">          <span class="keyword">if</span> (cnt[leftIndex] == <span class="number">1</span>) totalKind--;</span><br><span class="line">          <span class="keyword">if</span> (cnt[leftIndex] == k) sumKind--;</span><br><span class="line">          cnt[leftIndex]--;</span><br><span class="line">          left++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (totalKind == sumKind) ans = Math.max(ans, right - left + <span class="number">1</span>);</span><br><span class="line">        <span class="comment">//ä¸»åŠ¨ç§»åŠ¨å³æŒ‡é’ˆ</span></span><br><span class="line">        right++;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å—¯è¿™çš„ç¡®æ˜¯leetcodeæœ¬æœˆæœ€åä¸€é“æ»‘åŠ¨çª—å£é¢˜ï¼ŒäºŒæœˆæœ€åä¸€é“æ»‘åŠ¨çª—å£é¢˜å‘å‡ºäº†å®ƒæœ€åçš„æ³¢çº¹ï¼ŒäºŒæœˆçš„é¢˜æˆ‘å‡ ä¹æ¯é“é¢˜éƒ½æ‰“äº†ï¼Œæ³¨æ„æ˜¯å‡ ä¹æ˜¯å‡ ä¹ï¼Œä¹Ÿå°±æ˜¯è¯´è¿˜æœ‰å‡ é“å› ä¸ºå¤§è¿‡å¹´çš„æ‡’å¾—åˆ·ï¼Œè¿˜æœ‰ä»¤æˆ‘å”¯å”¯è¯ºè¯ºçš„å›°éš¾é¢˜ï¼Œå—¯ï¼ï¼ï¼äºŒæœˆå‹‹ç« æ²¡æ‹¿åˆ°å‘¢ï¼ï¼ï¼ï¼</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo_1/img2/%E9%9D%9E%E5%B8%B8%E6%81%90%E6%80%96.jpg" alt="" /></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;æ»‘åŠ¨çª—å£ä¸ä¹ŸæŒºå¥½çš„å—jpg&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#æ»‘åŠ¨çª—å£ä¸ä¹ŸæŒºå¥½çš„å—jpg&quot;&gt;&lt;/a&gt; æ»‘åŠ¨çª—å£ä¸ä¹ŸæŒºå¥½çš„å—.jpg&lt;/h2&gt;
&lt;p&gt;è¿™ä¸ªæœˆå¤§èƒ†é¢„æµ‹ä¸€æ³¢ï¼Œè¿™ä¸ªæœˆå¯èƒ½æ˜¯leetcodeçš„æ»‘åŠ¨çª—å£æœˆï¼Œå…ˆæå‰å¼€ä¸ªå‘ï¼ˆ</summary>
      
    
    
    
    <category term="bugçš„ç‚¼é‡‘å·¥åŠ" scheme="https://blog.youmingsama.cn/categories/bug%E7%9A%84%E7%82%BC%E9%87%91%E5%B7%A5%E5%9D%8A/"/>
    
    
    <category term="ç®—æ³•" scheme="https://blog.youmingsama.cn/tags/%E7%AE%97%E6%B3%95/"/>
    
    <category term="è’Ÿè’»å¼±å¼±å¼±å¼±å¼±" scheme="https://blog.youmingsama.cn/tags/%E8%92%9F%E8%92%BB%E5%BC%B1%E5%BC%B1%E5%BC%B1%E5%BC%B1%E5%BC%B1/"/>
    
  </entry>
  
  <entry>
    <title>Sissy Sky</title>
    <link href="https://blog.youmingsama.cn/posts/a79ea1c9/"/>
    <id>https://blog.youmingsama.cn/posts/a79ea1c9/</id>
    <published>2020-12-09T00:00:00.000Z</published>
    <updated>2023-06-23T07:25:57.098Z</updated>
    
    <content type="html"><![CDATA[<p>å¥½ä¹…æ—¶é—´æ²¡æœ‰çœ‹è¿‡æŸ¯å—äº†ï¼ï¼ï¼78ä»ç„¶åœ¨é‚£é‡Œæ°´å‰§æƒ…ï¼Œæ°´ä¸€é›†ï¼Œä¸¤é›†ï¼Œä¸‰é›†â€¦å‡ ç™¾é›†ï¼Œç†Ÿç»ƒçš„æ‰“å¼€bç«™ï¼Œé¼ æ ‡æ»‘è½®ä¸åœå¾€ä¸‹æ»‘ï¼Œç²—æš´çš„åˆ’è¿‡1000å¤šé›†ï¼Œç†Ÿæ‚‰çš„å•å…ƒå‰§ï¼Œç†Ÿæ‚‰çš„æŸ¯å­¦ï¼Œç†Ÿæ‚‰çš„æƒ…èŠ‚ï¼Œä½†æ˜¯å”¯ä¸€ä¸åŒçš„æ˜¯ç‰‡å°¾æ›²ï¼ï¼ï¼ï¼æ˜¯ç‰‡å°¾æ›²ï¼ï¼ï¼ï¼çªç„¶çš„æ’æ’­ä¸€å¥ï¼Œè¿™æ¬¡bilibiliåŠ¨ç”»å¤§é€‰æˆ‘ä»¬çš„haibara aiæ˜¯ç¬¬å…«è¯¶ï¼Œåè§‚å…¶ä»–çš„æŸ¯å­¦äººç‰©ï¼Œemmmmmï¼Œå“¦åŸæ¥æ˜¯éœ€è¦ä»ä¸‹å¾€ä¸Šåˆ’å•Šï¼ˆã€‚ç°åŸå“€ï¼Ÿé‚£ä¸ªæ— æƒ…çš„æœç´¢å¼•æ“ï¼Ÿä»»åŠ³ä»»æ€¨çš„å·¥å…·äººï¼Ÿå•Šï¼Œsherryï¼ï¼å—¯æ²¡é”™å°±æ˜¯å¥¹</p>    <div id="aplayer-ysYpMklb" class="aplayer aplayer-tag-marker meting-tag-marker"         data-id="001yD43w3tB4ow" data-server="tencent" data-type="song" data-mode="circulation" data-autoplay="false" data-mutex="true" data-listmaxheight="340px" data-preload="auto" data-theme="#FF4081"    ></div><div style="position: relative; padding: 30% 45%;"><iframe style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="https://player.bilibili.com/player.html?aid=66161708&bvid=BV1w4411m7hJ&cid=115159280&page=1&high_quality=1&danmaku=0" frameborder="no" scrolling="no"></iframe></div>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;å¥½ä¹…æ—¶é—´æ²¡æœ‰çœ‹è¿‡æŸ¯å—äº†ï¼ï¼ï¼78ä»ç„¶åœ¨é‚£é‡Œæ°´å‰§æƒ…ï¼Œæ°´ä¸€é›†ï¼Œä¸¤é›†ï¼Œä¸‰é›†â€¦å‡ ç™¾é›†ï¼Œç†Ÿç»ƒçš„æ‰“å¼€bç«™ï¼Œé¼ æ ‡æ»‘è½®ä¸åœå¾€ä¸‹æ»‘ï¼Œç²—æš´çš„åˆ’è¿‡1000å¤šé›†ï¼Œç†Ÿæ‚‰çš„å•å…ƒå‰§ï¼Œç†Ÿæ‚‰çš„æŸ¯å­¦ï¼Œç†Ÿæ‚‰çš„æƒ…èŠ‚ï¼Œä½†æ˜¯å”¯ä¸€ä¸åŒçš„æ˜¯ç‰‡å°¾æ›²ï¼ï¼ï¼ï¼æ˜¯ç‰‡å°¾æ›²ï¼ï¼ï¼ï¼çªç„¶çš„æ’æ’­ä¸€å¥ï¼Œè¿™æ¬¡bilibiliåŠ¨ç”»å¤§é€‰æˆ‘ä»¬çš„h</summary>
      
    
    
    
    <category term="Roman" scheme="https://blog.youmingsama.cn/categories/Roman/"/>
    
    
    <category term="æ­Œæ­Œ" scheme="https://blog.youmingsama.cn/tags/%E6%AD%8C%E6%AD%8C/"/>
    
  </entry>
  
  <entry>
    <title>æœã¨å¤œã®ç‰©èª</title>
    <link href="https://blog.youmingsama.cn/posts/43fc1bb6/"/>
    <id>https://blog.youmingsama.cn/posts/43fc1bb6/</id>
    <published>2020-12-09T00:00:00.000Z</published>
    <updated>2023-06-23T07:25:57.098Z</updated>
    
    
    
    
    <category term="Roman" scheme="https://blog.youmingsama.cn/categories/Roman/"/>
    
    
    <category term="ç‰©è¯­ç³»åˆ—" scheme="https://blog.youmingsama.cn/tags/%E7%89%A9%E8%AF%AD%E7%B3%BB%E5%88%97/"/>
    
  </entry>
  
  <entry>
    <title>å“€é…±</title>
    <link href="https://blog.youmingsama.cn/posts/d015c452/"/>
    <id>https://blog.youmingsama.cn/posts/d015c452/</id>
    <published>2020-12-09T00:00:00.000Z</published>
    <updated>2023-06-23T07:25:57.098Z</updated>
    
    
    
    
    <category term="å‘ï¼" scheme="https://blog.youmingsama.cn/categories/%E5%91%90%EF%BC%81/"/>
    
    
    <category term="jpg" scheme="https://blog.youmingsama.cn/tags/jpg/"/>
    
  </entry>
  
  <entry>
    <title>æ‚è°ˆï¼šå¼‚åº¦ä¹‹åˆƒ2</title>
    <link href="https://blog.youmingsama.cn/posts/929895af/"/>
    <id>https://blog.youmingsama.cn/posts/929895af/</id>
    <published>2020-12-08T00:00:00.000Z</published>
    <updated>2023-06-23T07:25:57.098Z</updated>
    
    <content type="html"><![CDATA[<p>youmingsamakkskkksk</p><p>å›èˆª</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;youmingsamakkskkksk&lt;/p&gt;
&lt;p&gt;å›èˆª&lt;/p&gt;
</summary>
      
    
    
    
    <category term="æ¸¸æˆ" scheme="https://blog.youmingsama.cn/categories/%E6%B8%B8%E6%88%8F/"/>
    
    
    <category term="æ¸¸æˆ" scheme="https://blog.youmingsama.cn/tags/%E6%B8%B8%E6%88%8F/"/>
    
  </entry>
  
  <entry>
    <title>æ‚è°ˆï¼šå¼‚åº¦ä¹‹åˆƒ2</title>
    <link href="https://blog.youmingsama.cn/posts/929895af/"/>
    <id>https://blog.youmingsama.cn/posts/929895af/</id>
    <published>2020-12-08T00:00:00.000Z</published>
    <updated>2023-06-23T07:25:57.098Z</updated>
    
    <content type="html"><![CDATA[<p>youmingsamakkskkksk</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;youmingsamakkskkksk&lt;/p&gt;
</summary>
      
    
    
    
    <category term="æ¸¸æˆ" scheme="https://blog.youmingsama.cn/categories/%E6%B8%B8%E6%88%8F/"/>
    
    
    <category term="æ¸¸æˆ" scheme="https://blog.youmingsama.cn/tags/%E6%B8%B8%E6%88%8F/"/>
    
  </entry>
  
  <entry>
    <title>javaå¤šçº¿ç¨‹åŸç†ç¯‡å¤§æ¦‚</title>
    <link href="https://blog.youmingsama.cn/posts/7126b21b/"/>
    <id>https://blog.youmingsama.cn/posts/7126b21b/</id>
    <published>2020-11-08T00:00:00.000Z</published>
    <updated>2023-06-23T07:25:57.098Z</updated>
    
    <content type="html"><![CDATA[<h3 id="è¿™å¤§æ¦‚æ˜¯ä¼ è¯´ä¸­çš„åŸç†ç¯‡"><a class="markdownIt-Anchor" href="#è¿™å¤§æ¦‚æ˜¯ä¼ è¯´ä¸­çš„åŸç†ç¯‡"></a> è¿™å¤§æ¦‚æ˜¯ä¼ è¯´ä¸­çš„åŸç†ç¯‡</h3><p>å½“ç„¶å…¶ä¸­ä¼šå‚æ‚ä¸€äº›å…¶ä»–çš„ä¸œè¥¿ï¼Œï¼ˆå¤±ç¤¼äº†</p><h3 id="1å…ˆæ¥çœ‹çœ‹javaå†…å­˜æ¨¡å‹"><a class="markdownIt-Anchor" href="#1å…ˆæ¥çœ‹çœ‹javaå†…å­˜æ¨¡å‹"></a> 1.å…ˆæ¥çœ‹çœ‹Javaå†…å­˜æ¨¡å‹</h3><ul><li>çº¿ç¨‹é—´å¦‚ä½•é€šä¿¡ï¼Ÿå³ï¼šçº¿ç¨‹ä¹‹é—´ä»¥ä½•ç§æœºåˆ¶æ¥äº¤æ¢ä¿¡æ¯</li><li>çº¿ç¨‹é—´å¦‚ä½•åŒæ­¥ï¼Ÿå³ï¼šçº¿ç¨‹ä»¥ä½•ç§æœºåˆ¶æ¥æ§åˆ¶ä¸åŒçº¿ç¨‹é—´æ“ä½œå‘ç”Ÿçš„ç›¸å¯¹é¡ºåº</li></ul><p>æœ‰ä¸¤ç§å¹¶å‘æ¨¡å‹å¯ä»¥è§£å†³è¿™ä¸¤ä¸ªé—®é¢˜ï¼š</p><ul><li>æ¶ˆæ¯ä¼ é€’å¹¶å‘æ¨¡å‹</li><li>å…±äº«å†…å­˜å¹¶å‘æ¨¡å‹</li></ul><p>è¿™ä¸¤ç§æ¨¡å‹ä¹‹é—´çš„åŒºåˆ«å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/ing/%E4%B8%A4%E7%A7%8D%E5%B9%B6%E5%8F%91%E6%A8%A1%E5%9E%8B%E7%9A%84%E6%AF%94%E8%BE%831.png" alt="" /></p><p>æˆ‘ä»¬çœ‹å‡ºæ¥äº†<strong>åœ¨Javaä¸­ï¼Œä½¿ç”¨çš„æ˜¯å…±äº«å†…å­˜å¹¶å‘æ¨¡å‹</strong>ã€‚</p><h2 id="javaå†…å­˜æ¨¡å‹çš„æŠ½è±¡ç»“æ„"><a class="markdownIt-Anchor" href="#javaå†…å­˜æ¨¡å‹çš„æŠ½è±¡ç»“æ„"></a> Javaå†…å­˜æ¨¡å‹çš„æŠ½è±¡ç»“æ„</h2><h3 id="è¿è¡Œæ—¶å†…å­˜çš„åˆ’åˆ†"><a class="markdownIt-Anchor" href="#è¿è¡Œæ—¶å†…å­˜çš„åˆ’åˆ†"></a> è¿è¡Œæ—¶å†…å­˜çš„åˆ’åˆ†</h3><p>å…ˆè°ˆä¸€ä¸‹è¿è¡Œæ—¶æ•°æ®åŒºï¼Œä¸‹é¢è¿™å¼ å›¾ç›¸ä¿¡å¤§å®¶ä¸€ç‚¹éƒ½ä¸é™Œç”Ÿï¼š<img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/ing/Java%E8%BF%90%E8%A1%8C%E6%97%B6%E6%95%B0%E6%8D%AE%E5%8C%BA.png" alt="" /></p><p>å¯¹äºæ¯ä¸€ä¸ªçº¿ç¨‹æ¥è¯´ï¼Œæ ˆéƒ½æ˜¯ç§æœ‰çš„ï¼Œè€Œå †æ˜¯å…±æœ‰çš„ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´åœ¨æ ˆä¸­çš„å˜é‡ï¼ˆå±€éƒ¨å˜é‡ã€æ–¹æ³•å®šä¹‰å‚æ•°ã€å¼‚å¸¸å¤„ç†å™¨å‚æ•°ï¼‰ä¸ä¼šåœ¨çº¿ç¨‹ä¹‹é—´å…±äº«ï¼Œä¹Ÿå°±ä¸ä¼šæœ‰å†…å­˜å¯è§æ€§ï¼ˆä¸‹æ–‡ä¼šè¯´åˆ°ï¼‰çš„é—®é¢˜ï¼Œä¹Ÿä¸å—å†…å­˜æ¨¡å‹çš„å½±å“ã€‚è€Œåœ¨å †ä¸­çš„å˜é‡æ˜¯å…±äº«çš„ï¼Œæœ¬æ–‡ç§°ä¸ºå…±äº«å˜é‡ã€‚</p><p>æ‰€ä»¥ï¼Œå†…å­˜å¯è§æ€§æ˜¯é’ˆå¯¹çš„<strong>å…±äº«å˜é‡</strong>ã€‚</p><h3 id="æ—¢ç„¶å †æ˜¯å…±äº«çš„ä¸ºä»€ä¹ˆåœ¨å †ä¸­ä¼šæœ‰å†…å­˜ä¸å¯è§é—®é¢˜"><a class="markdownIt-Anchor" href="#æ—¢ç„¶å †æ˜¯å…±äº«çš„ä¸ºä»€ä¹ˆåœ¨å †ä¸­ä¼šæœ‰å†…å­˜ä¸å¯è§é—®é¢˜"></a> æ—¢ç„¶å †æ˜¯å…±äº«çš„ï¼Œä¸ºä»€ä¹ˆåœ¨å †ä¸­ä¼šæœ‰å†…å­˜ä¸å¯è§é—®é¢˜ï¼Ÿ</h3><p>è¿™æ˜¯å› ä¸ºç°ä»£è®¡ç®—æœºä¸ºäº†é«˜æ•ˆï¼Œå¾€å¾€ä¼šåœ¨é«˜é€Ÿç¼“å­˜åŒºä¸­ç¼“å­˜å…±äº«å˜é‡ï¼Œå› ä¸ºcpuè®¿é—®ç¼“å­˜åŒºæ¯”è®¿é—®å†…å­˜è¦å¿«å¾—å¤šã€‚</p><blockquote><p>çº¿ç¨‹ä¹‹é—´çš„å…±äº«å˜é‡å­˜åœ¨ä¸»å†…å­˜ä¸­ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªç§æœ‰çš„æœ¬åœ°å†…å­˜ï¼Œå­˜å‚¨äº†è¯¥çº¿ç¨‹ä»¥è¯»ã€å†™å…±äº«å˜é‡çš„å‰¯æœ¬ã€‚æœ¬åœ°å†…å­˜æ˜¯Javaå†…å­˜æ¨¡å‹çš„ä¸€ä¸ªæŠ½è±¡æ¦‚å¿µï¼Œå¹¶ä¸çœŸå®å­˜åœ¨ã€‚å®ƒæ¶µç›–äº†ç¼“å­˜ã€å†™ç¼“å†²åŒºã€å¯„å­˜å™¨ç­‰ã€‚</p></blockquote><p>Javaçº¿ç¨‹ä¹‹é—´çš„é€šä¿¡ç”±Javaå†…å­˜æ¨¡å‹ï¼ˆç®€ç§°JMMï¼‰æ§åˆ¶ï¼Œä»æŠ½è±¡çš„è§’åº¦æ¥è¯´ï¼ŒJMMå®šä¹‰äº†çº¿ç¨‹å’Œä¸»å†…å­˜ä¹‹é—´çš„æŠ½è±¡å…³ç³»ã€‚JMMçš„æŠ½è±¡ç¤ºæ„å›¾å¦‚å›¾æ‰€ç¤ºï¼š</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/ing/JMM%E6%8A%BD%E8%B1%A1%E7%A4%BA%E6%84%8F%E5%9B%BE.jpg" alt="" /></p><p>ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼š 1. æ‰€æœ‰çš„å…±äº«å˜é‡éƒ½å­˜åœ¨ä¸»å†…å­˜ä¸­ã€‚ 2. æ¯ä¸ªçº¿ç¨‹éƒ½ä¿å­˜äº†ä¸€ä»½è¯¥çº¿ç¨‹ä½¿ç”¨åˆ°çš„å…±äº«å˜é‡çš„å‰¯æœ¬ã€‚ 3. å¦‚æœçº¿ç¨‹Aä¸çº¿ç¨‹Bä¹‹é—´è¦é€šä¿¡çš„è¯ï¼Œå¿…é¡»ç»å†ä¸‹é¢2ä¸ªæ­¥éª¤ï¼š 1. çº¿ç¨‹Aå°†æœ¬åœ°å†…å­˜Aä¸­æ›´æ–°è¿‡çš„å…±äº«å˜é‡åˆ·æ–°åˆ°ä¸»å†…å­˜ä¸­å»ã€‚ 2. çº¿ç¨‹Båˆ°ä¸»å†…å­˜ä¸­å»è¯»å–çº¿ç¨‹Aä¹‹å‰å·²ç»æ›´æ–°è¿‡çš„å…±äº«å˜é‡ã€‚</p><p><strong>æ‰€ä»¥ï¼Œçº¿ç¨‹Aæ— æ³•ç›´æ¥è®¿é—®çº¿ç¨‹Bçš„å·¥ä½œå†…å­˜ï¼Œçº¿ç¨‹é—´é€šä¿¡å¿…é¡»ç»è¿‡ä¸»å†…å­˜ã€‚</strong></p><p>æ³¨æ„ï¼Œæ ¹æ®JMMçš„è§„å®šï¼Œ<strong>çº¿ç¨‹å¯¹å…±äº«å˜é‡çš„æ‰€æœ‰æ“ä½œéƒ½å¿…é¡»åœ¨è‡ªå·±çš„æœ¬åœ°å†…å­˜ä¸­è¿›è¡Œï¼Œä¸èƒ½ç›´æ¥ä»ä¸»å†…å­˜ä¸­è¯»å–</strong>ã€‚</p><p>æ‰€ä»¥çº¿ç¨‹Bå¹¶ä¸æ˜¯ç›´æ¥å»ä¸»å†…å­˜ä¸­è¯»å–å…±äº«å˜é‡çš„å€¼ï¼Œè€Œæ˜¯å…ˆåœ¨æœ¬åœ°å†…å­˜Bä¸­æ‰¾åˆ°è¿™ä¸ªå…±äº«å˜é‡ï¼Œå‘ç°è¿™ä¸ªå…±äº«å˜é‡å·²ç»è¢«æ›´æ–°äº†ï¼Œç„¶åæœ¬åœ°å†…å­˜Bå»ä¸»å†…å­˜ä¸­è¯»å–è¿™ä¸ªå…±äº«å˜é‡çš„æ–°å€¼ï¼Œå¹¶æ‹·è´åˆ°æœ¬åœ°å†…å­˜Bä¸­ï¼Œæœ€åçº¿ç¨‹Bå†è¯»å–æœ¬åœ°å†…å­˜Bä¸­çš„æ–°å€¼ã€‚</p><p>é‚£ä¹ˆæ€ä¹ˆçŸ¥é“è¿™ä¸ªå…±äº«å˜é‡çš„è¢«å…¶ä»–çº¿ç¨‹æ›´æ–°äº†å‘¢ï¼Ÿè¿™å°±æ˜¯JMMçš„åŠŸåŠ³äº†ï¼Œä¹Ÿæ˜¯JMMå­˜åœ¨çš„å¿…è¦æ€§ä¹‹ä¸€ã€‚<strong>JMMé€šè¿‡æ§åˆ¶ä¸»å†…å­˜ä¸æ¯ä¸ªçº¿ç¨‹çš„æœ¬åœ°å†…å­˜ä¹‹é—´çš„äº¤äº’ï¼Œæ¥æä¾›å†…å­˜å¯è§æ€§ä¿è¯</strong>ã€‚</p><blockquote><p>Javaä¸­çš„volatileå…³é”®å­—å¯ä»¥ä¿è¯å¤šçº¿ç¨‹æ“ä½œå…±äº«å˜é‡çš„å¯è§æ€§ä»¥åŠç¦æ­¢æŒ‡ä»¤é‡æ’åºï¼Œsynchronizedå…³é”®å­—ä¸ä»…ä¿è¯å¯è§æ€§ï¼ŒåŒæ—¶ä¹Ÿä¿è¯äº†åŸå­æ€§ï¼ˆäº’æ–¥æ€§ï¼‰ã€‚åœ¨æ›´åº•å±‚ï¼ŒJMMé€šè¿‡å†…å­˜å±éšœæ¥å®ç°å†…å­˜çš„å¯è§æ€§ä»¥åŠç¦æ­¢é‡æ’åºã€‚ä¸ºäº†ç¨‹åºå‘˜çš„æ–¹ä¾¿ç†è§£ï¼Œæå‡ºäº†happens-beforeï¼Œå®ƒæ›´åŠ çš„ç®€å•æ˜“æ‡‚ï¼Œä»è€Œé¿å…äº†å»ç†è§£å†…å­˜å¯è§æ€§è€Œå»å­¦ä¹ å¤æ‚çš„é‡æ’åºè§„åˆ™ä»¥åŠè¿™äº›è§„åˆ™çš„å…·ä½“å®ç°æ–¹æ³•ã€‚</p></blockquote><h3 id="jmmä¸javaå†…å­˜åŒºåŸŸåˆ’åˆ†çš„åŒºåˆ«ä¸è”ç³»"><a class="markdownIt-Anchor" href="#jmmä¸javaå†…å­˜åŒºåŸŸåˆ’åˆ†çš„åŒºåˆ«ä¸è”ç³»"></a> JMMä¸Javaå†…å­˜åŒºåŸŸåˆ’åˆ†çš„åŒºåˆ«ä¸è”ç³»</h3><p>ä¸Šé¢ä¸¤å°èŠ‚åˆ†åˆ«æåˆ°äº†JMMå’ŒJavaè¿è¡Œæ—¶å†…å­˜åŒºåŸŸçš„åˆ’åˆ†ï¼Œè¿™ä¸¤è€…æ—¢æœ‰å·®åˆ«åˆæœ‰è”ç³»ï¼š</p><ul><li><p>åŒºåˆ«</p><p>ä¸¤è€…æ˜¯ä¸åŒçš„æ¦‚å¿µå±‚æ¬¡ã€‚JMMæ˜¯æŠ½è±¡çš„ï¼Œä»–æ˜¯ç”¨æ¥æè¿°ä¸€ç»„è§„åˆ™ï¼Œé€šè¿‡è¿™ä¸ªè§„åˆ™æ¥æ§åˆ¶å„ä¸ªå˜é‡çš„è®¿é—®æ–¹å¼ï¼Œå›´ç»•åŸå­æ€§ã€æœ‰åºæ€§ã€å¯è§æ€§ç­‰å±•å¼€çš„ã€‚è€ŒJavaè¿è¡Œæ—¶å†…å­˜çš„åˆ’åˆ†æ˜¯å…·ä½“çš„ï¼Œæ˜¯JVMè¿è¡ŒJavaç¨‹åºæ—¶ï¼Œå¿…è¦çš„å†…å­˜åˆ’åˆ†ã€‚</p></li><li><p>è”ç³»</p><p>éƒ½å­˜åœ¨ç§æœ‰æ•°æ®åŒºåŸŸå’Œå…±äº«æ•°æ®åŒºåŸŸã€‚ä¸€èˆ¬æ¥è¯´ï¼ŒJMMä¸­çš„ä¸»å†…å­˜å±äºå…±äº«æ•°æ®åŒºåŸŸï¼Œä»–æ˜¯åŒ…å«äº†å †å’Œæ–¹æ³•åŒºï¼›åŒæ ·ï¼ŒJMMä¸­çš„æœ¬åœ°å†…å­˜å±äºç§æœ‰æ•°æ®åŒºåŸŸï¼ŒåŒ…å«äº†ç¨‹åºè®¡æ•°å™¨ã€æœ¬åœ°æ–¹æ³•æ ˆã€è™šæ‹Ÿæœºæ ˆã€‚</p></li></ul><p><strong>å®é™…ä¸Šï¼Œä»–ä»¬è¡¨è¾¾çš„æ˜¯åŒä¸€ç§å«ä¹‰ï¼Œè¿™é‡Œä¸åšåŒºåˆ†ã€‚</strong></p><h2 id="2é‡æ’åºå’Œhappens-before"><a class="markdownIt-Anchor" href="#2é‡æ’åºå’Œhappens-before"></a> 2.é‡æ’åºå’Œhappens-before</h2><h3 id="ä»€ä¹ˆæ˜¯é‡æ’åº"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆæ˜¯é‡æ’åº"></a> ä»€ä¹ˆæ˜¯é‡æ’åºï¼Ÿ</h3><p>è®¡ç®—æœºåœ¨æ‰§è¡Œç¨‹åºæ—¶ï¼Œä¸ºäº†æé«˜æ€§èƒ½ï¼Œç¼–è¯‘å™¨å’Œå¤„ç†å™¨å¸¸å¸¸ä¼šå¯¹æŒ‡ä»¤åšé‡æ’ã€‚</p><p><strong>ä¸ºä»€ä¹ˆæŒ‡ä»¤é‡æ’åºå¯ä»¥æé«˜æ€§èƒ½ï¼Ÿ</strong></p><p>ç®€å•åœ°è¯´ï¼Œæ¯ä¸€ä¸ªæŒ‡ä»¤éƒ½ä¼šåŒ…å«å¤šä¸ªæ­¥éª¤ï¼Œæ¯ä¸ªæ­¥éª¤å¯èƒ½ä½¿ç”¨ä¸åŒçš„ç¡¬ä»¶ã€‚å› æ­¤ï¼Œ<strong>æµæ°´çº¿æŠ€æœ¯</strong>äº§ç”Ÿäº†ï¼Œå®ƒçš„åŸç†æ˜¯æŒ‡ä»¤1è¿˜æ²¡æœ‰æ‰§è¡Œå®Œï¼Œå°±å¯ä»¥å¼€å§‹æ‰§è¡ŒæŒ‡ä»¤2ï¼Œè€Œä¸ç”¨ç­‰åˆ°æŒ‡ä»¤1æ‰§è¡Œç»“æŸä¹‹åå†æ‰§è¡ŒæŒ‡ä»¤2ï¼Œè¿™æ ·å°±å¤§å¤§æé«˜äº†æ•ˆç‡ã€‚</p><p>ä½†æ˜¯ï¼Œæµæ°´çº¿æŠ€æœ¯æœ€å®³æ€•<strong>ä¸­æ–­</strong>ï¼Œæ¢å¤ä¸­æ–­çš„ä»£ä»·æ˜¯æ¯”è¾ƒå¤§çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦æƒ³å°½åŠæ³•ä¸è®©æµæ°´çº¿ä¸­æ–­ã€‚æŒ‡ä»¤é‡æ’å°±æ˜¯å‡å°‘ä¸­æ–­çš„ä¸€ç§æŠ€æœ¯ã€‚</p><p>æˆ‘ä»¬åˆ†æä¸€ä¸‹ä¸‹é¢è¿™ä¸ªä»£ç çš„æ‰§è¡Œæƒ…å†µï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = b + c;</span><br><span class="line">d = e - f ;</span><br></pre></td></tr></table></figure><p>å…ˆåŠ è½½bã€cï¼ˆ<strong>æ³¨æ„ï¼Œå³æœ‰å¯èƒ½å…ˆåŠ è½½bï¼Œä¹Ÿæœ‰å¯èƒ½å…ˆåŠ è½½c</strong>ï¼‰ï¼Œä½†æ˜¯åœ¨æ‰§è¡Œadd(b,c)çš„æ—¶å€™ï¼Œéœ€è¦ç­‰å¾…bã€cè£…è½½ç»“æŸæ‰èƒ½ç»§ç»­æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯å¢åŠ äº†åœé¡¿ï¼Œé‚£ä¹ˆåé¢çš„æŒ‡ä»¤ä¹Ÿä¼šä¾æ¬¡æœ‰åœé¡¿,è¿™é™ä½äº†è®¡ç®—æœºçš„æ‰§è¡Œæ•ˆç‡ã€‚</p><p>ä¸ºäº†å‡å°‘è¿™ä¸ªåœé¡¿ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆåŠ è½½eå’Œf,ç„¶åå†å»åŠ è½½add(b,c),è¿™æ ·åšå¯¹ç¨‹åºï¼ˆä¸²è¡Œï¼‰æ˜¯æ²¡æœ‰å½±å“çš„,ä½†å´å‡å°‘äº†åœé¡¿ã€‚æ—¢ç„¶add(b,c)éœ€è¦åœé¡¿ï¼Œé‚£è¿˜ä¸å¦‚å»åšä¸€äº›æœ‰æ„ä¹‰çš„äº‹æƒ…ã€‚</p><p>ç»¼ä¸Šæ‰€è¿°ï¼Œ<strong>æŒ‡ä»¤é‡æ’å¯¹äºæé«˜CPUå¤„ç†æ€§èƒ½ååˆ†å¿…è¦ã€‚è™½ç„¶ç”±æ­¤å¸¦æ¥äº†ä¹±åºçš„é—®é¢˜ï¼Œä½†æ˜¯è¿™ç‚¹ç‰ºç‰²æ˜¯å€¼å¾—çš„ã€‚</strong></p><p>æŒ‡ä»¤é‡æ’ä¸€èˆ¬åˆ†ä¸ºä»¥ä¸‹ä¸‰ç§ï¼š</p><ul><li><p><strong>ç¼–è¯‘å™¨ä¼˜åŒ–é‡æ’</strong></p><p>ç¼–è¯‘å™¨åœ¨<strong>ä¸æ”¹å˜å•çº¿ç¨‹ç¨‹åºè¯­ä¹‰</strong>çš„å‰æä¸‹ï¼Œå¯ä»¥é‡æ–°å®‰æ’è¯­å¥çš„æ‰§è¡Œé¡ºåºã€‚</p></li><li><p><strong>æŒ‡ä»¤å¹¶è¡Œé‡æ’</strong></p><p>ç°ä»£å¤„ç†å™¨é‡‡ç”¨äº†æŒ‡ä»¤çº§å¹¶è¡ŒæŠ€æœ¯æ¥å°†å¤šæ¡æŒ‡ä»¤é‡å æ‰§è¡Œã€‚å¦‚æœ<strong>ä¸å­˜åœ¨æ•°æ®ä¾èµ–æ€§</strong>(å³åä¸€ä¸ªæ‰§è¡Œçš„è¯­å¥æ— éœ€ä¾èµ–å‰é¢æ‰§è¡Œçš„è¯­å¥çš„ç»“æœ)ï¼Œå¤„ç†å™¨å¯ä»¥æ”¹å˜è¯­å¥å¯¹åº”çš„æœºå™¨æŒ‡ä»¤çš„æ‰§è¡Œé¡ºåºã€‚</p></li><li><p><strong>å†…å­˜ç³»ç»Ÿé‡æ’</strong></p><p>ç”±äºå¤„ç†å™¨ä½¿ç”¨ç¼“å­˜å’Œè¯»å†™ç¼“å­˜å†²åŒºï¼Œè¿™ä½¿å¾—åŠ è½½(load)å’Œå­˜å‚¨(store)æ“ä½œçœ‹ä¸Šå»å¯èƒ½æ˜¯åœ¨ä¹±åºæ‰§è¡Œï¼Œå› ä¸ºä¸‰çº§ç¼“å­˜çš„å­˜åœ¨ï¼Œå¯¼è‡´å†…å­˜ä¸ç¼“å­˜çš„æ•°æ®åŒæ­¥å­˜åœ¨æ—¶é—´å·®ã€‚</p></li></ul><p><strong>æŒ‡ä»¤é‡æ’å¯ä»¥ä¿è¯ä¸²è¡Œè¯­ä¹‰ä¸€è‡´ï¼Œä½†æ˜¯æ²¡æœ‰ä¹‰åŠ¡ä¿è¯å¤šçº¿ç¨‹é—´çš„è¯­ä¹‰ä¹Ÿä¸€è‡´</strong>ã€‚æ‰€ä»¥åœ¨å¤šçº¿ç¨‹ä¸‹ï¼ŒæŒ‡ä»¤é‡æ’åºå¯èƒ½ä¼šå¯¼è‡´ä¸€äº›é—®é¢˜ã€‚</p><h3 id="é¡ºåºä¸€è‡´æ€§æ¨¡å‹ä¸jmmçš„ä¿è¯"><a class="markdownIt-Anchor" href="#é¡ºåºä¸€è‡´æ€§æ¨¡å‹ä¸jmmçš„ä¿è¯"></a> é¡ºåºä¸€è‡´æ€§æ¨¡å‹ä¸JMMçš„ä¿è¯</h3><p>é¡ºåºä¸€è‡´æ€§æ¨¡å‹æ˜¯ä¸€ä¸ª<strong>ç†è®ºå‚è€ƒæ¨¡å‹</strong>ï¼Œå†…å­˜æ¨¡å‹åœ¨è®¾è®¡çš„æ—¶å€™éƒ½ä¼šä»¥é¡ºåºä¸€è‡´æ€§å†…å­˜æ¨¡å‹ä½œä¸ºå‚è€ƒã€‚</p><h3 id="æ•°æ®ç«äº‰ä¸é¡ºåºä¸€è‡´æ€§"><a class="markdownIt-Anchor" href="#æ•°æ®ç«äº‰ä¸é¡ºåºä¸€è‡´æ€§"></a> æ•°æ®ç«äº‰ä¸é¡ºåºä¸€è‡´æ€§</h3><p>å½“ç¨‹åºæœªæ­£ç¡®åŒæ­¥çš„æ—¶å€™ï¼Œå°±å¯èƒ½å­˜åœ¨æ•°æ®ç«äº‰ã€‚</p><blockquote><p>æ•°æ®ç«äº‰ï¼šåœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­å†™ä¸€ä¸ªå˜é‡ï¼Œåœ¨å¦ä¸€ä¸ªçº¿ç¨‹è¯»åŒä¸€ä¸ªå˜é‡ï¼Œå¹¶ä¸”å†™å’Œè¯»æ²¡æœ‰é€šè¿‡åŒæ­¥æ¥æ’åºã€‚</p></blockquote><p>å¦‚æœç¨‹åºä¸­åŒ…å«äº†æ•°æ®ç«äº‰ï¼Œé‚£ä¹ˆè¿è¡Œçš„ç»“æœå¾€å¾€å……æ»¡äº†<strong>ä¸ç¡®å®šæ€§</strong>ï¼Œæ¯”å¦‚è¯»å‘ç”Ÿåœ¨äº†å†™ä¹‹å‰ï¼Œå¯èƒ½å°±ä¼šè¯»åˆ°é”™è¯¯çš„å€¼ï¼›å¦‚æœä¸€ä¸ªçº¿ç¨‹ç¨‹åºèƒ½å¤Ÿæ­£ç¡®åŒæ­¥ï¼Œé‚£ä¹ˆå°±ä¸å­˜åœ¨æ•°æ®ç«äº‰ã€‚</p><p>Javaå†…å­˜æ¨¡å‹ï¼ˆJMMï¼‰å¯¹äºæ­£ç¡®åŒæ­¥å¤šçº¿ç¨‹ç¨‹åºçš„å†…å­˜ä¸€è‡´æ€§åšäº†ä»¥ä¸‹ä¿è¯ï¼š</p><blockquote><p><strong>å¦‚æœç¨‹åºæ˜¯æ­£ç¡®åŒæ­¥çš„ï¼Œç¨‹åºçš„æ‰§è¡Œå°†å…·æœ‰é¡ºåºä¸€è‡´æ€§</strong>ã€‚ å³ç¨‹åºçš„æ‰§è¡Œç»“æœå’Œè¯¥ç¨‹åºåœ¨é¡ºåºä¸€è‡´æ€§æ¨¡å‹ä¸­æ‰§è¡Œçš„ç»“æœç›¸åŒã€‚</p></blockquote><p>è¿™é‡Œçš„åŒæ­¥åŒ…æ‹¬äº†ä½¿ç”¨<code>volatile</code>ã€<code>final</code>ã€<code>synchronized</code>ç­‰å…³é”®å­—æ¥å®ç°<strong>å¤šçº¿ç¨‹ä¸‹çš„åŒæ­¥</strong>ã€‚</p><p>å¦‚æœç¨‹åºå‘˜æ²¡æœ‰æ­£ç¡®ä½¿ç”¨<code>volatile</code>ã€<code>final</code>ã€<code>synchronized</code>ï¼Œé‚£ä¹ˆå³ä¾¿æ˜¯ä½¿ç”¨äº†åŒæ­¥ï¼ˆå•çº¿ç¨‹ä¸‹çš„åŒæ­¥ï¼‰ï¼ŒJMMä¹Ÿä¸ä¼šæœ‰å†…å­˜å¯è§æ€§çš„ä¿è¯ï¼Œå¯èƒ½ä¼šå¯¼è‡´ä½ çš„ç¨‹åºå‡ºé”™ï¼Œå¹¶ä¸”å…·æœ‰ä¸å¯é‡ç°æ€§ï¼Œå¾ˆéš¾æ’æŸ¥ã€‚</p><p>æ‰€ä»¥å¦‚ä½•æ­£ç¡®ä½¿ç”¨<code>volatile</code>ã€<code>final</code>ã€<code>synchronized</code>ï¼Œæ˜¯æˆ‘ä»¬åº”è¯¥å»äº†è§£çš„ã€‚åé¢ä¼šæœ‰ä¸“é—¨çš„ç« èŠ‚ä»‹ç»è¿™å‡ ä¸ªå…³é”®å­—çš„å†…å­˜è¯­ä¹‰åŠä½¿ç”¨ã€‚</p><h3 id="é¡ºåºä¸€è‡´æ€§æ¨¡å‹"><a class="markdownIt-Anchor" href="#é¡ºåºä¸€è‡´æ€§æ¨¡å‹"></a> é¡ºåºä¸€è‡´æ€§æ¨¡å‹</h3><p>é¡ºåºä¸€è‡´æ€§å†…å­˜æ¨¡å‹æ˜¯ä¸€ä¸ª<strong>ç†æƒ³åŒ–çš„ç†è®ºå‚è€ƒæ¨¡å‹</strong>ï¼Œå®ƒä¸ºæˆ‘ä»¬æä¾›äº†æå¼ºçš„å†…å­˜å¯è§æ€§ä¿è¯ã€‚</p><p>é¡ºåºä¸€è‡´æ€§æ¨¡å‹æœ‰ä¸¤å¤§ç‰¹æ€§ï¼š</p><ul><li>ä¸€ä¸ªçº¿ç¨‹ä¸­çš„æ‰€æœ‰æ“ä½œå¿…é¡»æŒ‰ç…§ç¨‹åºçš„é¡ºåºï¼ˆå³Javaä»£ç çš„é¡ºåºï¼‰æ¥æ‰§è¡Œã€‚</li><li>ä¸ç®¡ç¨‹åºæ˜¯å¦åŒæ­¥ï¼Œæ‰€æœ‰çº¿ç¨‹éƒ½åªèƒ½çœ‹åˆ°ä¸€ä¸ªå•ä¸€çš„æ“ä½œæ‰§è¡Œé¡ºåºã€‚å³åœ¨é¡ºåºä¸€è‡´æ€§æ¨¡å‹ä¸­ï¼Œæ¯ä¸ªæ“ä½œå¿…é¡»æ˜¯<strong>åŸå­æ€§çš„ï¼Œä¸”ç«‹åˆ»å¯¹æ‰€æœ‰çº¿ç¨‹å¯è§</strong>ã€‚</li></ul><blockquote><p>å…³äºåŸå­æ“ä½œè¿™é‡Œå…ˆä¸åšé˜è¿°</p></blockquote><p>ä¸ºäº†ç†è§£è¿™ä¸¤ä¸ªç‰¹æ€§ï¼Œæˆ‘ä»¬ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾æœ‰ä¸¤ä¸ªçº¿ç¨‹Aå’ŒBå¹¶å‘æ‰§è¡Œï¼Œçº¿ç¨‹Aæœ‰3ä¸ªæ“ä½œï¼Œä»–ä»¬åœ¨ç¨‹åºä¸­çš„é¡ºåºæ˜¯A1-&gt;A2-&gt;A3ï¼Œçº¿ç¨‹Bä¹Ÿæœ‰3ä¸ªæ“ä½œï¼ŒB1-&gt;B2-&gt;B3ã€‚</p><p>å‡è®¾<strong>æ­£ç¡®ä½¿ç”¨äº†åŒæ­¥</strong>ï¼ŒAçº¿ç¨‹çš„3ä¸ªæ“ä½œæ‰§è¡Œåé‡Šæ”¾é”ï¼ŒBçº¿ç¨‹è·å–åŒä¸€ä¸ªé”ã€‚é‚£ä¹ˆåœ¨<strong>é¡ºåºä¸€è‡´æ€§æ¨¡å‹</strong>ä¸­çš„æ‰§è¡Œæ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/ing/%E6%AD%A3%E7%A1%AE%E5%90%8C%E6%AD%A5.png" alt="" /></p><p>æ“ä½œçš„æ‰§è¡Œæ•´ä½“ä¸Šæœ‰åºï¼Œå¹¶ä¸”ä¸¤ä¸ªçº¿ç¨‹éƒ½åªèƒ½çœ‹åˆ°è¿™ä¸ªæ‰§è¡Œé¡ºåºã€‚</p><p>å‡è®¾<strong>æ²¡æœ‰ä½¿ç”¨åŒæ­¥</strong>ï¼Œé‚£ä¹ˆåœ¨<strong>é¡ºåºä¸€è‡´æ€§æ¨¡å‹</strong>ä¸­çš„æ‰§è¡Œæ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/ing/%E6%B2%A1%E6%9C%89%E6%AD%A3%E7%A1%AE%E5%90%8C%E6%AD%A5.png" alt="" /></p><p>æ“ä½œçš„æ‰§è¡Œæ•´ä½“ä¸Šæ— åºï¼Œä½†æ˜¯ä¸¤ä¸ªçº¿ç¨‹éƒ½åªèƒ½çœ‹åˆ°è¿™ä¸ªæ‰§è¡Œé¡ºåºã€‚ä¹‹æ‰€ä»¥å¯ä»¥å¾—åˆ°è¿™ä¸ªä¿è¯ï¼Œæ˜¯å› ä¸ºé¡ºåºä¸€è‡´æ€§æ¨¡å‹ä¸­çš„<strong>æ¯ä¸ªæ“ä½œå¿…é¡»ç«‹å³å¯¹ä»»æ„çº¿ç¨‹å¯è§</strong>ã€‚</p><p><strong>ä½†æ˜¯JMMæ²¡æœ‰è¿™æ ·çš„ä¿è¯ã€‚</strong></p><p>æ¯”å¦‚ï¼Œåœ¨å½“å‰çº¿ç¨‹æŠŠå†™è¿‡çš„æ•°æ®ç¼“å­˜åœ¨æœ¬åœ°å†…å­˜ä¸­ï¼Œåœ¨æ²¡æœ‰åˆ·æ–°åˆ°ä¸»å†…å­˜ä¹‹å‰ï¼Œè¿™ä¸ªå†™æ“ä½œä»…å¯¹å½“å‰çº¿ç¨‹å¯è§ï¼›ä»å…¶ä»–çº¿ç¨‹çš„è§’åº¦æ¥è§‚å¯Ÿï¼Œè¿™ä¸ªå†™æ“ä½œæ ¹æœ¬æ²¡æœ‰è¢«å½“å‰çº¿ç¨‹æ‰€æ‰§è¡Œã€‚åªæœ‰å½“å‰çº¿ç¨‹æŠŠæœ¬åœ°å†…å­˜ä¸­å†™è¿‡çš„æ•°æ®åˆ·æ–°åˆ°ä¸»å†…å­˜ä¹‹åï¼Œè¿™ä¸ªå†™æ“ä½œæ‰å¯¹å…¶ä»–çº¿ç¨‹å¯è§ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå½“å‰çº¿ç¨‹å’Œå…¶ä»–çº¿ç¨‹çœ‹åˆ°çš„æ‰§è¡Œé¡ºåºæ˜¯ä¸ä¸€æ ·çš„ã€‚</p><h3 id="jmmä¸­åŒæ­¥ç¨‹åºçš„é¡ºåºä¸€è‡´æ€§æ•ˆæœ"><a class="markdownIt-Anchor" href="#jmmä¸­åŒæ­¥ç¨‹åºçš„é¡ºåºä¸€è‡´æ€§æ•ˆæœ"></a> JMMä¸­åŒæ­¥ç¨‹åºçš„é¡ºåºä¸€è‡´æ€§æ•ˆæœ</h3><p>åœ¨é¡ºåºä¸€è‡´æ€§æ¨¡å‹ä¸­ï¼Œæ‰€æœ‰æ“ä½œå®Œå…¨æŒ‰ç…§ç¨‹åºçš„é¡ºåºä¸²è¡Œæ‰§è¡Œã€‚ä½†æ˜¯JMMä¸­ï¼Œä¸´ç•ŒåŒºå†…ï¼ˆåŒæ­¥å—æˆ–åŒæ­¥æ–¹æ³•ä¸­ï¼‰çš„ä»£ç å¯ä»¥å‘ç”Ÿé‡æ’åºï¼ˆä½†ä¸å…è®¸ä¸´ç•ŒåŒºå†…çš„ä»£ç â€œé€ƒé€¸â€åˆ°ä¸´ç•ŒåŒºä¹‹å¤–ï¼Œå› ä¸ºä¼šç ´åé”çš„å†…å­˜è¯­ä¹‰ï¼‰ã€‚</p><p>è™½ç„¶çº¿ç¨‹Aåœ¨ä¸´ç•ŒåŒºåšäº†é‡æ’åºï¼Œä½†æ˜¯å› ä¸ºé”çš„ç‰¹æ€§ï¼Œçº¿ç¨‹Bæ— æ³•è§‚å¯Ÿåˆ°çº¿ç¨‹Aåœ¨ä¸´ç•ŒåŒºçš„é‡æ’åºã€‚è¿™ç§é‡æ’åºæ—¢æé«˜äº†æ‰§è¡Œæ•ˆç‡ï¼Œåˆæ²¡æœ‰æ”¹å˜ç¨‹åºçš„æ‰§è¡Œç»“æœã€‚</p><p>åŒæ—¶ï¼ŒJMMä¼šåœ¨é€€å‡ºä¸´ç•ŒåŒºå’Œè¿›å…¥ä¸´ç•ŒåŒºåšç‰¹æ®Šçš„å¤„ç†ï¼Œä½¿å¾—åœ¨ä¸´ç•ŒåŒºå†…ç¨‹åºè·å¾—ä¸é¡ºåºä¸€è‡´æ€§æ¨¡å‹ç›¸åŒçš„å†…å­˜è§†å›¾ã€‚</p><p><strong>ç”±æ­¤å¯è§ï¼ŒJMMçš„å…·ä½“å®ç°æ–¹é’ˆæ˜¯ï¼šåœ¨ä¸æ”¹å˜ï¼ˆæ­£ç¡®åŒæ­¥çš„ï¼‰ç¨‹åºæ‰§è¡Œç»“æœçš„å‰æä¸‹ï¼Œå°½é‡ä¸ºç¼–è¯‘æœŸå’Œå¤„ç†å™¨çš„ä¼˜åŒ–æ‰“å¼€æ–¹ä¾¿ä¹‹é—¨</strong>ã€‚</p><h3 id="jmmä¸­æœªåŒæ­¥ç¨‹åºçš„é¡ºåºä¸€è‡´æ€§æ•ˆæœ"><a class="markdownIt-Anchor" href="#jmmä¸­æœªåŒæ­¥ç¨‹åºçš„é¡ºåºä¸€è‡´æ€§æ•ˆæœ"></a> JMMä¸­æœªåŒæ­¥ç¨‹åºçš„é¡ºåºä¸€è‡´æ€§æ•ˆæœ</h3><p>å¯¹äºæœªåŒæ­¥çš„å¤šçº¿ç¨‹ç¨‹åºï¼ŒJMMåªæä¾›<strong>æœ€å°å®‰å…¨æ€§</strong>ï¼šçº¿ç¨‹è¯»å–åˆ°çš„å€¼ï¼Œè¦ä¹ˆæ˜¯ä¹‹å‰æŸä¸ªçº¿ç¨‹å†™å…¥çš„å€¼ï¼Œè¦ä¹ˆæ˜¯é»˜è®¤å€¼ï¼Œä¸ä¼šæ— ä¸­ç”Ÿæœ‰ã€‚</p><p>ä¸ºäº†å®ç°è¿™ä¸ªå®‰å…¨æ€§ï¼ŒJVMåœ¨å †ä¸Šåˆ†é…å¯¹è±¡æ—¶ï¼Œé¦–å…ˆä¼šå¯¹å†…å­˜ç©ºé—´æ¸…é›¶ï¼Œç„¶åæ‰ä¼šåœ¨ä¸Šé¢åˆ†é…å¯¹è±¡ï¼ˆè¿™ä¸¤ä¸ªæ“ä½œæ˜¯åŒæ­¥çš„ï¼‰ã€‚</p><p><strong>JMMæ²¡æœ‰ä¿è¯æœªåŒæ­¥ç¨‹åºçš„æ‰§è¡Œç»“æœä¸è¯¥ç¨‹åºåœ¨é¡ºåºä¸€è‡´æ€§ä¸­æ‰§è¡Œç»“æœä¸€è‡´ã€‚å› ä¸ºå¦‚æœè¦ä¿è¯æ‰§è¡Œç»“æœä¸€è‡´ï¼Œé‚£ä¹ˆJMMéœ€è¦ç¦æ­¢å¤§é‡çš„ä¼˜åŒ–ï¼Œå¯¹ç¨‹åºçš„æ‰§è¡Œæ€§èƒ½ä¼šäº§ç”Ÿå¾ˆå¤§çš„å½±å“ã€‚</strong></p><p>æœªåŒæ­¥ç¨‹åºåœ¨JMMå’Œé¡ºåºä¸€è‡´æ€§å†…å­˜æ¨¡å‹ä¸­çš„æ‰§è¡Œç‰¹æ€§æœ‰å¦‚ä¸‹å·®å¼‚ï¼š 1. é¡ºåºä¸€è‡´æ€§ä¿è¯å•çº¿ç¨‹å†…çš„æ“ä½œä¼šæŒ‰ç¨‹åºçš„é¡ºåºæ‰§è¡Œï¼›JMMä¸ä¿è¯å•çº¿ç¨‹å†…çš„æ“ä½œä¼šæŒ‰ç¨‹åºçš„é¡ºåºæ‰§è¡Œã€‚ï¼ˆå› ä¸ºé‡æ’åºï¼Œä½†æ˜¯JMMä¿è¯å•çº¿ç¨‹ä¸‹çš„é‡æ’åºä¸å½±å“æ‰§è¡Œç»“æœï¼‰ 2. é¡ºåºä¸€è‡´æ€§æ¨¡å‹ä¿è¯æ‰€æœ‰çº¿ç¨‹åªèƒ½çœ‹åˆ°ä¸€è‡´çš„æ“ä½œæ‰§è¡Œé¡ºåºï¼Œè€ŒJMMä¸ä¿è¯æ‰€æœ‰çº¿ç¨‹èƒ½çœ‹åˆ°ä¸€è‡´çš„æ“ä½œæ‰§è¡Œé¡ºåºã€‚ï¼ˆå› ä¸ºJMMä¸ä¿è¯æ‰€æœ‰æ“ä½œç«‹å³å¯è§ï¼‰ 3. JMMä¸ä¿è¯å¯¹64ä½çš„longå‹å’Œdoubleå‹å˜é‡çš„å†™æ“ä½œå…·æœ‰åŸå­æ€§ï¼Œè€Œé¡ºåºä¸€è‡´æ€§æ¨¡å‹ä¿è¯å¯¹æ‰€æœ‰çš„å†…å­˜è¯»å†™æ“ä½œéƒ½å…·æœ‰åŸå­æ€§ã€‚</p><h3 id="happens-before"><a class="markdownIt-Anchor" href="#happens-before"></a> happens-before</h3><h3 id="ä»€ä¹ˆæ˜¯happens-before"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆæ˜¯happens-before"></a> ä»€ä¹ˆæ˜¯happens-before?</h3><p>ä¸€æ–¹é¢ï¼Œç¨‹åºå‘˜éœ€è¦JMMæä¾›ä¸€ä¸ªå¼ºçš„å†…å­˜æ¨¡å‹æ¥ç¼–å†™ä»£ç ï¼›å¦ä¸€æ–¹é¢ï¼Œç¼–è¯‘å™¨å’Œå¤„ç†å™¨å¸Œæœ›JMMå¯¹å®ƒä»¬çš„æŸç¼šè¶Šå°‘è¶Šå¥½ï¼Œè¿™æ ·å®ƒä»¬å°±å¯ä»¥æœ€å¯èƒ½å¤šçš„åšä¼˜åŒ–æ¥æé«˜æ€§èƒ½ï¼Œå¸Œæœ›çš„æ˜¯ä¸€ä¸ªå¼±çš„å†…å­˜æ¨¡å‹ã€‚</p><p>JMMè€ƒè™‘äº†è¿™ä¸¤ç§éœ€æ±‚ï¼Œå¹¶ä¸”æ‰¾åˆ°äº†å¹³è¡¡ç‚¹ï¼Œå¯¹ç¼–è¯‘å™¨å’Œå¤„ç†å™¨æ¥è¯´ï¼Œ<strong>åªè¦ä¸æ”¹å˜ç¨‹åºçš„æ‰§è¡Œç»“æœï¼ˆå•çº¿ç¨‹ç¨‹åºå’Œæ­£ç¡®åŒæ­¥äº†çš„å¤šçº¿ç¨‹ç¨‹åºï¼‰ï¼Œç¼–è¯‘å™¨å’Œå¤„ç†å™¨æ€ä¹ˆä¼˜åŒ–éƒ½è¡Œã€‚</strong></p><p>è€Œå¯¹äºç¨‹åºå‘˜ï¼ŒJMMæä¾›äº†<strong>happens-beforeè§„åˆ™</strong>ï¼ˆJSR-133è§„èŒƒï¼‰ï¼Œæ»¡è¶³äº†ç¨‹åºå‘˜çš„éœ€æ±‚â€”â€”**ç®€å•æ˜“æ‡‚ï¼Œå¹¶ä¸”æä¾›äº†è¶³å¤Ÿå¼ºçš„å†…å­˜å¯è§æ€§ä¿è¯ã€‚**æ¢è¨€ä¹‹ï¼Œç¨‹åºå‘˜åªè¦éµå¾ªhappens-beforeè§„åˆ™ï¼Œé‚£ä»–å†™çš„ç¨‹åºå°±èƒ½ä¿è¯åœ¨JMMä¸­å…·æœ‰å¼ºçš„å†…å­˜å¯è§æ€§ã€‚</p><p>JMMä½¿ç”¨happens-beforeçš„æ¦‚å¿µæ¥å®šåˆ¶ä¸¤ä¸ªæ“ä½œä¹‹é—´çš„æ‰§è¡Œé¡ºåºã€‚è¿™ä¸¤ä¸ªæ“ä½œå¯ä»¥åœ¨ä¸€ä¸ªçº¿ç¨‹ä»¥å†…ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸åŒçš„çº¿ç¨‹ä¹‹é—´ã€‚å› æ­¤ï¼ŒJMMå¯ä»¥é€šè¿‡happens-beforeå…³ç³»å‘ç¨‹åºå‘˜æä¾›è·¨çº¿ç¨‹çš„å†…å­˜å¯è§æ€§ä¿è¯ã€‚</p><p>happens-beforeå…³ç³»çš„å®šä¹‰å¦‚ä¸‹ï¼š 1. å¦‚æœä¸€ä¸ªæ“ä½œhappens-beforeå¦ä¸€ä¸ªæ“ä½œï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªæ“ä½œçš„æ‰§è¡Œç»“æœå°†å¯¹ç¬¬äºŒä¸ªæ“ä½œå¯è§ï¼Œè€Œä¸”ç¬¬ä¸€ä¸ªæ“ä½œçš„æ‰§è¡Œé¡ºåºæ’åœ¨ç¬¬äºŒä¸ªæ“ä½œä¹‹å‰ã€‚ 2. <strong>ä¸¤ä¸ªæ“ä½œä¹‹é—´å­˜åœ¨happens-beforeå…³ç³»ï¼Œå¹¶ä¸æ„å‘³ç€Javaå¹³å°çš„å…·ä½“å®ç°å¿…é¡»è¦æŒ‰ç…§happens-beforeå…³ç³»æŒ‡å®šçš„é¡ºåºæ¥æ‰§è¡Œã€‚å¦‚æœé‡æ’åºä¹‹åçš„æ‰§è¡Œç»“æœï¼Œä¸æŒ‰happens-beforeå…³ç³»æ¥æ‰§è¡Œçš„ç»“æœä¸€è‡´ï¼Œé‚£ä¹ˆJMMä¹Ÿå…è®¸è¿™æ ·çš„é‡æ’åºã€‚</strong></p><p>happens-beforeå…³ç³»æœ¬è´¨ä¸Šå’Œas-if-serialè¯­ä¹‰æ˜¯ä¸€å›äº‹ã€‚</p><p>as-if-serialè¯­ä¹‰ä¿è¯å•çº¿ç¨‹å†…é‡æ’åºåçš„æ‰§è¡Œç»“æœå’Œç¨‹åºä»£ç æœ¬èº«åº”æœ‰çš„ç»“æœæ˜¯ä¸€è‡´çš„ï¼Œhappens-beforeå…³ç³»ä¿è¯æ­£ç¡®åŒæ­¥çš„å¤šçº¿ç¨‹ç¨‹åºçš„æ‰§è¡Œç»“æœä¸è¢«é‡æ’åºæ”¹å˜ã€‚</p><p>æ€»ä¹‹ï¼Œ<strong>å¦‚æœæ“ä½œA happens-beforeæ“ä½œBï¼Œé‚£ä¹ˆæ“ä½œAåœ¨å†…å­˜ä¸Šæ‰€åšçš„æ“ä½œå¯¹æ“ä½œBéƒ½æ˜¯å¯è§çš„ï¼Œä¸ç®¡å®ƒä»¬åœ¨ä¸åœ¨ä¸€ä¸ªçº¿ç¨‹ã€‚</strong></p><h3 id="å¤©ç„¶çš„happens-beforeå…³ç³»"><a class="markdownIt-Anchor" href="#å¤©ç„¶çš„happens-beforeå…³ç³»"></a> å¤©ç„¶çš„happens-beforeå…³ç³»</h3><p>åœ¨Javaä¸­ï¼Œæœ‰ä»¥ä¸‹å¤©ç„¶çš„happens-beforeå…³ç³»ï¼š</p><ul><li>ç¨‹åºé¡ºåºè§„åˆ™ï¼šä¸€ä¸ªçº¿ç¨‹ä¸­çš„æ¯ä¸€ä¸ªæ“ä½œï¼Œhappens-beforeäºè¯¥çº¿ç¨‹ä¸­çš„ä»»æ„åç»­æ“ä½œã€‚</li><li>ç›‘è§†å™¨é”è§„åˆ™ï¼šå¯¹ä¸€ä¸ªé”çš„è§£é”ï¼Œhappens-beforeäºéšåå¯¹è¿™ä¸ªé”çš„åŠ é”ã€‚</li><li>volatileå˜é‡è§„åˆ™ï¼šå¯¹ä¸€ä¸ªvolatileåŸŸçš„å†™ï¼Œhappens-beforeäºä»»æ„åç»­å¯¹è¿™ä¸ªvolatileåŸŸçš„è¯»ã€‚</li><li>ä¼ é€’æ€§ï¼šå¦‚æœA happens-before Bï¼Œä¸”B happens-before Cï¼Œé‚£ä¹ˆA happens-before Cã€‚</li><li>startè§„åˆ™ï¼šå¦‚æœçº¿ç¨‹Aæ‰§è¡Œæ“ä½œThreadB.start()å¯åŠ¨çº¿ç¨‹Bï¼Œé‚£ä¹ˆAçº¿ç¨‹çš„ThreadB.startï¼ˆï¼‰æ“ä½œhappens-beforeäºçº¿ç¨‹Bä¸­çš„ä»»æ„æ“ä½œã€</li><li>joinè§„åˆ™ï¼šå¦‚æœçº¿ç¨‹Aæ‰§è¡Œæ“ä½œThreadB.joinï¼ˆï¼‰å¹¶æˆåŠŸè¿”å›ï¼Œé‚£ä¹ˆçº¿ç¨‹Bä¸­çš„ä»»æ„æ“ä½œhappens-beforeäºçº¿ç¨‹Aä»ThreadB.join()æ“ä½œæˆåŠŸè¿”å›ã€‚</li></ul><p>ä¸¾ä¾‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">int a = 1; // Aæ“ä½œ</span><br><span class="line">int b = 2; // Bæ“ä½œ</span><br><span class="line">int sum = a + b;// C æ“ä½œ</span><br><span class="line">System.out.println(sum);</span><br></pre></td></tr></table></figure><p>æ ¹æ®ä»¥ä¸Šä»‹ç»çš„happens-beforeè§„åˆ™ï¼Œå‡å¦‚åªæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œé‚£ä¹ˆä¸éš¾å¾—å‡ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1&gt; A happens-before B </span><br><span class="line">2&gt; B happens-before C </span><br><span class="line">3&gt; A happens-before C</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼ŒçœŸæ­£åœ¨æ‰§è¡ŒæŒ‡ä»¤çš„æ—¶å€™ï¼Œå…¶å®JVMæœ‰å¯èƒ½å¯¹æ“ä½œA &amp; Bè¿›è¡Œé‡æ’åºï¼Œå› ä¸ºæ— è®ºå…ˆæ‰§è¡ŒAè¿˜æ˜¯Bï¼Œä»–ä»¬éƒ½å¯¹å¯¹æ–¹æ˜¯å¯è§çš„ï¼Œå¹¶ä¸”ä¸å½±å“æ‰§è¡Œç»“æœã€‚</p><p>å¦‚æœè¿™é‡Œå‘ç”Ÿäº†é‡æ’åºï¼Œè¿™åœ¨è§†è§‰ä¸Šè¿èƒŒäº†happens-beforeåŸåˆ™ï¼Œä½†æ˜¯JMMæ˜¯å…è®¸è¿™æ ·çš„é‡æ’åºçš„ã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬åªå…³å¿ƒhappens-beforeè§„åˆ™ï¼Œä¸ç”¨å…³å¿ƒJVMåˆ°åº•æ˜¯æ€æ ·æ‰§è¡Œçš„ã€‚åªè¦ç¡®å®šæ“ä½œA happens-beforeæ“ä½œBå°±è¡Œäº†ã€‚</p><p>é‡æ’åºæœ‰ä¸¤ç±»ï¼ŒJMMå¯¹è¿™ä¸¤ç±»é‡æ’åºæœ‰ä¸åŒçš„ç­–ç•¥ï¼š</p><ul><li>ä¼šæ”¹å˜ç¨‹åºæ‰§è¡Œç»“æœçš„é‡æ’åºï¼Œæ¯”å¦‚ A -&gt; Cï¼ŒJMMè¦æ±‚ç¼–è¯‘å™¨å’Œå¤„ç†å™¨éƒ½ä¸è®¸ç¦æ­¢è¿™ç§é‡æ’åºã€‚</li><li>ä¸ä¼šæ”¹å˜ç¨‹åºæ‰§è¡Œç»“æœçš„é‡æ’åºï¼Œæ¯”å¦‚ A -&gt; Bï¼ŒJMMå¯¹ç¼–è¯‘å™¨å’Œå¤„ç†å™¨ä¸åšè¦æ±‚ï¼Œå…è®¸è¿™ç§é‡æ’åºã€‚</li></ul><h2 id="3volatile"><a class="markdownIt-Anchor" href="#3volatile"></a> 3.Volatile</h2><p>ä¹‹å‰åœ¨æˆ‘ä»¬æœ‰è¯´è¿‡è¦å¥½å¥½æ¥èŠèŠVolatileï¼Œç”±äºä¸Šæ¬¡ç¯‡å¹…æœ‰é™æ‰€ä»¥å°±ä¸äº†äº†ä¹‹äº†ï¼ˆæ¯•ç«Ÿä¸Šæ¬¡å†™äº†ä¸€ä¸‡å¤šå­—å•Š</p><p>å—¯ç°åœ¨æˆ‘ä»¬æ¥çœ‹çœ‹Volatile</p><p>Volatileæ˜¯ä»€ä¹ˆå•Šï¼Œæˆ‘ä»¬ä¸ºä»€ä¹ˆè¦ç”¨Volatileï¼Œä»”ç»†æƒ³æƒ³å•Šå¦‚æœæœ‰æ—¶æˆ‘ä»¬åªæ˜¯ ä¸ºäº†ç®€å•çš„è¯»å†™ä¸€ä¸¤ä¸ªå®ä¾‹å­—æ®µè€Œä½¿ç”¨åŒæ­¥çš„è¯çœ‹èµ·æ¥å¥½åƒæœ‰ç‚¹åˆ’ä¸æ¥ã€‚æ¯•ç«Ÿä»€ä¹ˆåœ°æ–¹èƒ½å‡ºé”™å‘¢ï¼Œå¯æ˜¯ç°ä»£å¤„ç†å™¨å’Œç¼–è¯‘å™¨å‡ºé”™çš„å¯èƒ½éå¸¸å¤§ã€‚</p><p>åŸå› å¦‚ä¸‹ï¼š</p><ul><li>æœ‰å¤„ç†å™¨çš„è®¡ç®—æœºèƒ½å¤Ÿæš‚æ—¶åœ¨å¯„å­˜å™¨æˆ–è€…æœ¬åœ°ç¼“å­˜ä¸­ä¿å­˜å†…å­˜å€¼ï¼Œäºæ˜¯é€ æˆçš„ç»“æœå°±æ˜¯è¿è¡Œåœ¨ä¸åŒçš„å¤„ç†å™¨ä¸Šçš„çº¿ç¨‹å¯èƒ½çœ‹åˆ°çš„æ˜¯åŒä¸€ä¸ªå†…å­˜ä½ç½®ä¼šæœ‰ä¸åŒçš„å€¼ã€‚</li><li>è™½ç„¶æˆ‘ä»¬å¯ä»¥æ”¹å˜æŒ‡ä»¤çš„é¡ºåºä½¿ååé‡è¾¾åˆ°æœ€å¤§åŒ–ï¼Œç¼–è¯‘å™¨ä¸ä¼šé€‰æ‹©å¯èƒ½æ”¹å˜ä»£ç è¯­ä¹‰çš„é¡ºåºï¼Œä½†æ˜¯ç¼–è¯‘å™¨æœ‰ä¸€ä¸ªå‡å®šï¼Œè®¤ä¸ºåªæœ‰åœ¨ä»£ç ä¸­æœ‰æ˜¾å¼ä¿®æ”¹æŒ‡ä»¤æ—¶æ‰ä¼šæ”¹å˜ï¼Œç„¶è€Œï¼Œç‰¹æ®Šæƒ…å†µæ˜¯ï¼Œå†…å­˜å€¼æœ‰å¯èƒ½è¢«çº¿ç¨‹æ”¹å˜ã€‚</li></ul><p>è¿™ç§æ—¶å€™æˆ‘ä»¬ä½¿ç”¨é”æ¥ä¿æŠ¤å¯èƒ½ä¼šè¢«å¤šçº¿ç¨‹è®¿é—®çš„ä»£ç ï¼Œè¿™ä¸ªæ—¶å€™è¿™ç§é—®é¢˜æ˜¾ç„¶ä¸å­˜åœ¨ã€‚Volatileåˆ™ä¸ºå®ä¾‹å­—æ®µçš„åŒæ­¥è®¿é—®ä¾›äº†ä¸€ç§å…é”æœºåˆ¶ã€‚</p><h3 id="å†…å­˜å¯è§æ€§"><a class="markdownIt-Anchor" href="#å†…å­˜å¯è§æ€§"></a> å†…å­˜å¯è§æ€§</h3><p>åœ¨Javaå†…å­˜æ¨¡å‹é‚£ä¸€ç« æˆ‘ä»¬ä»‹ç»äº†JMMæœ‰ä¸€ä¸ªä¸»å†…å­˜ï¼Œæ¯ä¸ªçº¿ç¨‹æœ‰è‡ªå·±ç§æœ‰çš„å·¥ä½œå†…å­˜ï¼Œå·¥ä½œå†…å­˜ä¸­ä¿å­˜äº†ä¸€äº›å˜é‡åœ¨ä¸»å†…å­˜çš„æ‹·è´ã€‚</p><p><strong>å†…å­˜å¯è§æ€§ï¼ŒæŒ‡çš„æ˜¯çº¿ç¨‹ä¹‹é—´çš„å¯è§æ€§ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†å…±äº«å˜é‡æ—¶ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹å¯ä»¥è¯»å–åˆ°è¿™ä¸ªä¿®æ”¹åçš„å€¼</strong>ã€‚</p><p>ä¹‹å‰è¯´äº†ä¸¤ä¸ªæ¦‚å¿µ</p><h3 id="é‡æ’åº"><a class="markdownIt-Anchor" href="#é‡æ’åº"></a> é‡æ’åº</h3><p>ä¸ºä¼˜åŒ–ç¨‹åºæ€§èƒ½ï¼Œå¯¹åŸæœ‰çš„æŒ‡ä»¤æ‰§è¡Œé¡ºåºè¿›è¡Œä¼˜åŒ–é‡æ–°æ’åºã€‚é‡æ’åºå¯èƒ½å‘ç”Ÿåœ¨å¤šä¸ªé˜¶æ®µï¼Œæ¯”å¦‚ç¼–è¯‘é‡æ’åºã€CPUé‡æ’åºç­‰ã€‚</p><h3 id="happens-beforeè§„åˆ™"><a class="markdownIt-Anchor" href="#happens-beforeè§„åˆ™"></a> happens-beforeè§„åˆ™</h3><p>æ˜¯ä¸€ä¸ªç»™ç¨‹åºå‘˜ä½¿ç”¨çš„è§„åˆ™ï¼Œåªè¦ç¨‹åºå‘˜åœ¨å†™ä»£ç çš„æ—¶å€™éµå¾ªhappens-beforeè§„åˆ™ï¼ŒJVMå°±èƒ½ä¿è¯æŒ‡ä»¤åœ¨å¤šçº¿ç¨‹ä¹‹é—´çš„é¡ºåºæ€§ç¬¦åˆç¨‹åºå‘˜çš„é¢„æœŸã€‚</p><p>é‚£ä¹ˆé—®é¢˜æ¥äº†Volatileçš„å‘¢</p><h2 id="volatileçš„å†…å­˜è¯­ä¹‰"><a class="markdownIt-Anchor" href="#volatileçš„å†…å­˜è¯­ä¹‰"></a> volatileçš„å†…å­˜è¯­ä¹‰</h2><p>åœ¨Javaä¸­ï¼Œvolatileå…³é”®å­—æœ‰ç‰¹æ®Šçš„å†…å­˜è¯­ä¹‰ã€‚volatileä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ä¸ªåŠŸèƒ½ï¼š</p><ul><li>ä¿è¯å˜é‡çš„<strong>å†…å­˜å¯è§æ€§</strong></li><li>ç¦æ­¢volatileå˜é‡ä¸æ™®é€šå˜é‡<strong>é‡æ’åº</strong>ï¼ˆJSR133æå‡ºï¼ŒJava 5 å¼€å§‹æ‰æœ‰è¿™ä¸ªâ€œå¢å¼ºçš„volatileå†…å­˜è¯­ä¹‰â€ï¼‰</li></ul><h3 id="å†…å­˜å¯è§æ€§-2"><a class="markdownIt-Anchor" href="#å†…å­˜å¯è§æ€§-2"></a> å†…å­˜å¯è§æ€§</h3><p>ä»¥ä¸€æ®µç¤ºä¾‹ä»£ç å¼€å§‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">VolatileExample</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">volatile</span> <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">writer</span><span class="params">()</span> &#123;</span><br><span class="line">        a = <span class="number">1</span>; <span class="comment">// step 1</span></span><br><span class="line">        flag = <span class="literal">true</span>; <span class="comment">// step 2</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">reader</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (flag) &#123; <span class="comment">// step 3</span></span><br><span class="line">            System.out.println(a); <span class="comment">// step 4</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨è¿™æ®µä»£ç é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨<code>volatile</code>å…³é”®å­—ä¿®é¥°äº†ä¸€ä¸ª<code>boolean</code>ç±»å‹çš„å˜é‡<code>flag</code>ã€‚</p><p>æ‰€è°“å†…å­˜å¯è§æ€§ï¼ŒæŒ‡çš„æ˜¯å½“ä¸€ä¸ªçº¿ç¨‹å¯¹<code>volatile</code>ä¿®é¥°çš„å˜é‡è¿›è¡Œ<strong>å†™æ“ä½œ</strong>ï¼ˆæ¯”å¦‚step 2ï¼‰æ—¶ï¼ŒJMMä¼šç«‹å³æŠŠè¯¥çº¿ç¨‹å¯¹åº”çš„æœ¬åœ°å†…å­˜ä¸­çš„å…±äº«å˜é‡çš„å€¼åˆ·æ–°åˆ°ä¸»å†…å­˜ï¼›å½“ä¸€ä¸ªçº¿ç¨‹å¯¹<code>volatile</code>ä¿®é¥°çš„å˜é‡è¿›è¡Œ<strong>è¯»æ“ä½œ</strong>ï¼ˆæ¯”å¦‚step 3ï¼‰æ—¶ï¼ŒJMMä¼šæŠŠç«‹å³è¯¥çº¿ç¨‹å¯¹åº”çš„æœ¬åœ°å†…å­˜ç½®ä¸ºæ— æ•ˆï¼Œä»ä¸»å†…å­˜ä¸­è¯»å–å…±äº«å˜é‡çš„å€¼ã€‚</p><blockquote><p>åœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œvolatileä¸é”å…·æœ‰ç›¸åŒçš„å†…å­˜æ•ˆæœï¼Œvolatileå˜é‡çš„å†™å’Œé”çš„é‡Šæ”¾å…·æœ‰ç›¸åŒçš„å†…å­˜è¯­ä¹‰ï¼Œvolatileå˜é‡çš„è¯»å’Œé”çš„è·å–å…·æœ‰ç›¸åŒçš„å†…å­˜è¯­ä¹‰ã€‚</p></blockquote><p>å‡è®¾åœ¨æ—¶é—´çº¿ä¸Šï¼Œçº¿ç¨‹Aå…ˆè‡ªè¡Œæ–¹æ³•<code>writer</code>æ–¹æ³•ï¼Œçº¿ç¨‹Båæ‰§è¡Œ<code>reader</code>æ–¹æ³•ã€‚é‚£å¿…ç„¶ä¼šæœ‰ä¸‹å›¾ï¼š</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/ing/volatile%E5%86%85%E5%AD%98%E7%A4%BA%E6%84%8F%E5%9B%BE.jpg" alt="" /></p><p>è€Œå¦‚æœ<code>flag</code>å˜é‡<strong>æ²¡æœ‰</strong>ç”¨<code>volatile</code>ä¿®é¥°ï¼Œåœ¨step 2ï¼Œçº¿ç¨‹Açš„æœ¬åœ°å†…å­˜é‡Œé¢çš„å˜é‡å°±ä¸ä¼šç«‹å³æ›´æ–°åˆ°ä¸»å†…å­˜ï¼Œé‚£éšåçº¿ç¨‹Bä¹ŸåŒæ ·ä¸ä¼šå»ä¸»å†…å­˜æ‹¿æœ€æ–°çš„å€¼ï¼Œä»ç„¶ä½¿ç”¨çº¿ç¨‹Bæœ¬åœ°å†…å­˜ç¼“å­˜çš„å˜é‡çš„å€¼<code>a = 0ï¼Œflag = false</code></p><h3 id="ç¦æ­¢é‡æ’åº"><a class="markdownIt-Anchor" href="#ç¦æ­¢é‡æ’åº"></a> ç¦æ­¢é‡æ’åº</h3><p>åœ¨JSR-133ä¹‹å‰çš„æ—§çš„Javaå†…å­˜æ¨¡å‹ä¸­ï¼Œæ˜¯å…è®¸volatileå˜é‡ä¸æ™®é€šå˜é‡é‡æ’åºçš„ã€‚é‚£ä¸Šé¢çš„æ¡ˆä¾‹ä¸­ï¼Œå¯èƒ½å°±ä¼šè¢«é‡æ’åºæˆä¸‹åˆ—æ—¶åºæ¥æ‰§è¡Œï¼š</p><ol><li>çº¿ç¨‹Aå†™volatileå˜é‡ï¼Œstep 2ï¼Œè®¾ç½®flagä¸ºtrueï¼›</li><li>çº¿ç¨‹Bè¯»åŒä¸€ä¸ªvolatileï¼Œstep 3ï¼Œè¯»å–åˆ°flagä¸ºtrueï¼›</li><li>çº¿ç¨‹Bè¯»æ™®é€šå˜é‡ï¼Œstep 4ï¼Œè¯»å–åˆ° a = 0ï¼›</li><li>çº¿ç¨‹Aä¿®æ”¹æ™®é€šå˜é‡ï¼Œstep 1ï¼Œè®¾ç½® a = 1ï¼›</li></ol><p>å¯è§ï¼Œå¦‚æœvolatileå˜é‡ä¸æ™®é€šå˜é‡å‘ç”Ÿäº†é‡æ’åºï¼Œè™½ç„¶volatileå˜é‡èƒ½ä¿è¯å†…å­˜å¯è§æ€§ï¼Œä¹Ÿå¯èƒ½å¯¼è‡´æ™®é€šå˜é‡è¯»å–é”™è¯¯ã€‚</p><p>æ‰€ä»¥åœ¨æ—§çš„å†…å­˜æ¨¡å‹ä¸­ï¼Œvolatileçš„å†™-è¯»å°±ä¸èƒ½ä¸é”çš„é‡Šæ”¾-è·å–å…·æœ‰ç›¸åŒçš„å†…å­˜è¯­ä¹‰äº†ã€‚ä¸ºäº†æä¾›ä¸€ç§æ¯”é”æ›´è½»é‡çº§çš„<strong>çº¿ç¨‹é—´çš„é€šä¿¡æœºåˆ¶</strong>ï¼Œ<strong>JSR-133</strong>ä¸“å®¶ç»„å†³å®šå¢å¼ºvolatileçš„å†…å­˜è¯­ä¹‰ï¼šä¸¥æ ¼é™åˆ¶ç¼–è¯‘å™¨å’Œå¤„ç†å™¨å¯¹volatileå˜é‡ä¸æ™®é€šå˜é‡çš„é‡æ’åºã€‚</p><p>ç¼–è¯‘å™¨è¿˜å¥½è¯´ï¼ŒJVMæ˜¯æ€ä¹ˆè¿˜èƒ½é™åˆ¶å¤„ç†å™¨çš„é‡æ’åºçš„å‘¢ï¼Ÿå®ƒæ˜¯é€šè¿‡<strong>å†…å­˜å±éšœ</strong>æ¥å®ç°çš„ã€‚</p><p>ä»€ä¹ˆæ˜¯å†…å­˜å±éšœï¼Ÿç¡¬ä»¶å±‚é¢ï¼Œå†…å­˜å±éšœåˆ†ä¸¤ç§ï¼šè¯»å±éšœï¼ˆLoad Barrierï¼‰å’Œå†™å±éšœï¼ˆStore Barrierï¼‰ã€‚å†…å­˜å±éšœæœ‰ä¸¤ä¸ªä½œç”¨ï¼š</p><ol><li>é˜»æ­¢å±éšœä¸¤ä¾§çš„æŒ‡ä»¤é‡æ’åºï¼›</li><li>å¼ºåˆ¶æŠŠå†™ç¼“å†²åŒº/é«˜é€Ÿç¼“å­˜ä¸­çš„è„æ•°æ®ç­‰å†™å›ä¸»å†…å­˜ï¼Œæˆ–è€…è®©ç¼“å­˜ä¸­ç›¸åº”çš„æ•°æ®å¤±æ•ˆã€‚</li></ol><blockquote><p>æ³¨æ„è¿™é‡Œçš„ç¼“å­˜ä¸»è¦æŒ‡çš„æ˜¯CPUç¼“å­˜ï¼Œå¦‚L1ï¼ŒL2ç­‰</p></blockquote><p>ç¼–è¯‘å™¨åœ¨<strong>ç”Ÿæˆå­—èŠ‚ç æ—¶</strong>ï¼Œä¼šåœ¨æŒ‡ä»¤åºåˆ—ä¸­æ’å…¥å†…å­˜å±éšœæ¥ç¦æ­¢ç‰¹å®šç±»å‹çš„å¤„ç†å™¨é‡æ’åºã€‚ç¼–è¯‘å™¨é€‰æ‹©äº†ä¸€ä¸ª<strong>æ¯”è¾ƒä¿å®ˆçš„JMMå†…å­˜å±éšœæ’å…¥ç­–ç•¥</strong>ï¼Œè¿™æ ·å¯ä»¥ä¿è¯åœ¨ä»»ä½•å¤„ç†å™¨å¹³å°ï¼Œä»»ä½•ç¨‹åºä¸­éƒ½èƒ½å¾—åˆ°æ­£ç¡®çš„volatileå†…å­˜è¯­ä¹‰ã€‚è¿™ä¸ªç­–ç•¥æ˜¯ï¼š</p><ul><li>åœ¨æ¯ä¸ªvolatileå†™æ“ä½œå‰æ’å…¥ä¸€ä¸ªStoreStoreå±éšœï¼›</li><li>åœ¨æ¯ä¸ªvolatileå†™æ“ä½œåæ’å…¥ä¸€ä¸ªStoreLoadå±éšœï¼›</li><li>åœ¨æ¯ä¸ªvolatileè¯»æ“ä½œåæ’å…¥ä¸€ä¸ªLoadLoadå±éšœï¼›</li><li>åœ¨æ¯ä¸ªvolatileè¯»æ“ä½œåå†æ’å…¥ä¸€ä¸ªLoadStoreå±éšœã€‚</li></ul><p>å¤§æ¦‚ç¤ºæ„å›¾æ˜¯è¿™ä¸ªæ ·å­ï¼š</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/ing/%E5%86%85%E5%AD%98%E5%B1%8F%E9%9A%9C.png" alt="" /></p><blockquote><p>å†é€ä¸ªè§£é‡Šä¸€ä¸‹è¿™å‡ ä¸ªå±éšœã€‚æ³¨ï¼šä¸‹è¿°Loadä»£è¡¨è¯»æ“ä½œï¼ŒStoreä»£è¡¨å†™æ“ä½œ</p><p><strong>LoadLoadå±éšœ</strong>ï¼šå¯¹äºè¿™æ ·çš„è¯­å¥Load1; LoadLoad; Load2ï¼Œåœ¨Load2åŠåç»­è¯»å–æ“ä½œè¦è¯»å–çš„æ•°æ®è¢«è®¿é—®å‰ï¼Œä¿è¯Load1è¦è¯»å–çš„æ•°æ®è¢«è¯»å–å®Œæ¯•ã€‚<br /><strong>StoreStoreå±éšœ</strong>ï¼šå¯¹äºè¿™æ ·çš„è¯­å¥Store1; StoreStore; Store2ï¼Œåœ¨Store2åŠåç»­å†™å…¥æ“ä½œæ‰§è¡Œå‰ï¼Œè¿™ä¸ªå±éšœä¼šå§Store1å¼ºåˆ¶åˆ·æ–°åˆ°å†…å­˜ï¼Œä¿è¯Store1çš„å†™å…¥æ“ä½œå¯¹å…¶å®ƒå¤„ç†å™¨å¯è§ã€‚<br /><strong>LoadStoreå±éšœ</strong>ï¼šå¯¹äºè¿™æ ·çš„è¯­å¥Load1; LoadStore; Store2ï¼Œåœ¨Store2åŠåç»­å†™å…¥æ“ä½œè¢«åˆ·å‡ºå‰ï¼Œä¿è¯Load1è¦è¯»å–çš„æ•°æ®è¢«è¯»å–å®Œæ¯•ã€‚<br /><strong>StoreLoadå±éšœ</strong>ï¼šå¯¹äºè¿™æ ·çš„è¯­å¥Store1; StoreLoad; Load2ï¼Œåœ¨Load2åŠåç»­æ‰€æœ‰è¯»å–æ“ä½œæ‰§è¡Œå‰ï¼Œä¿è¯Store1çš„å†™å…¥å¯¹æ‰€æœ‰å¤„ç†å™¨å¯è§ã€‚å®ƒçš„å¼€é”€æ˜¯å››ç§å±éšœä¸­æœ€å¤§çš„ï¼ˆå†²åˆ·å†™ç¼“å†²å™¨ï¼Œæ¸…ç©ºæ— æ•ˆåŒ–é˜Ÿåˆ—ï¼‰ã€‚åœ¨å¤§å¤šæ•°å¤„ç†å™¨çš„å®ç°ä¸­ï¼Œè¿™ä¸ªå±éšœæ˜¯ä¸ªä¸‡èƒ½å±éšœï¼Œå…¼å…·å…¶å®ƒä¸‰ç§å†…å­˜å±éšœçš„åŠŸèƒ½</p></blockquote><p>å¯¹äºè¿ç»­å¤šä¸ªvolatileå˜é‡è¯»æˆ–è€…è¿ç»­å¤šä¸ªvolatileå˜é‡å†™ï¼Œç¼–è¯‘å™¨åšäº†ä¸€å®šçš„ä¼˜åŒ–æ¥æé«˜æ€§èƒ½ï¼Œæ¯”å¦‚ï¼š</p><blockquote><p>ç¬¬ä¸€ä¸ªvolatileè¯»;</p><p>LoadLoadå±éšœï¼›</p><p>ç¬¬äºŒä¸ªvolatileè¯»ï¼›</p><p>LoadStoreå±éšœ</p></blockquote><p>å†ä»‹ç»ä¸€ä¸‹volatileä¸æ™®é€šå˜é‡çš„é‡æ’åºè§„åˆ™:</p><ol><li>å¦‚æœç¬¬ä¸€ä¸ªæ“ä½œæ˜¯volatileè¯»ï¼Œé‚£æ— è®ºç¬¬äºŒä¸ªæ“ä½œæ˜¯ä»€ä¹ˆï¼Œéƒ½ä¸èƒ½é‡æ’åºï¼›</li><li>å¦‚æœç¬¬äºŒä¸ªæ“ä½œæ˜¯volatileå†™ï¼Œé‚£æ— è®ºç¬¬ä¸€ä¸ªæ“ä½œæ˜¯ä»€ä¹ˆï¼Œéƒ½ä¸èƒ½é‡æ’åºï¼›</li><li>å¦‚æœç¬¬ä¸€ä¸ªæ“ä½œæ˜¯volatileå†™ï¼Œç¬¬äºŒä¸ªæ“ä½œæ˜¯volatileè¯»ï¼Œé‚£ä¸èƒ½é‡æ’åºã€‚</li></ol><p>ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬åœ¨æ¡ˆä¾‹ä¸­step 1ï¼Œæ˜¯æ™®é€šå˜é‡çš„å†™ï¼Œstep 2æ˜¯volatileå˜é‡çš„å†™ï¼Œé‚£ç¬¦åˆç¬¬2ä¸ªè§„åˆ™ï¼Œè¿™ä¸¤ä¸ªstepsä¸èƒ½é‡æ’åºã€‚è€Œstep 3æ˜¯volatileå˜é‡è¯»ï¼Œstep 4æ˜¯æ™®é€šå˜é‡è¯»ï¼Œç¬¦åˆç¬¬1ä¸ªè§„åˆ™ï¼ŒåŒæ ·ä¸èƒ½é‡æ’åºã€‚</p><p>ä½†å¦‚æœæ˜¯ä¸‹åˆ—æƒ…å†µï¼šç¬¬ä¸€ä¸ªæ“ä½œæ˜¯æ™®é€šå˜é‡è¯»ï¼Œç¬¬äºŒä¸ªæ“ä½œæ˜¯volatileå˜é‡è¯»ï¼Œé‚£æ˜¯å¯ä»¥é‡æ’åºçš„ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å£°æ˜å˜é‡</span></span><br><span class="line"><span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">0</span>; <span class="comment">// å£°æ˜æ™®é€šå˜é‡</span></span><br><span class="line"><span class="keyword">volatile</span> <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="literal">false</span>; <span class="comment">// å£°æ˜volatileå˜é‡</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»¥ä¸‹ä¸¤ä¸ªå˜é‡çš„è¯»æ“ä½œæ˜¯å¯ä»¥é‡æ’åºçš„</span></span><br><span class="line"><span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> a; <span class="comment">// æ™®é€šå˜é‡è¯»</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">j</span> <span class="operator">=</span> flag; <span class="comment">// volatileå˜é‡è¯»</span></span><br></pre></td></tr></table></figure><h3 id="volatileçš„ç”¨é€”"><a class="markdownIt-Anchor" href="#volatileçš„ç”¨é€”"></a> volatileçš„ç”¨é€”</h3><p>ä»volatileçš„å†…å­˜è¯­ä¹‰ä¸Šæ¥çœ‹ï¼Œvolatileå¯ä»¥ä¿è¯å†…å­˜å¯è§æ€§ä¸”ç¦æ­¢é‡æ’åºã€‚</p><p>åœ¨ä¿è¯å†…å­˜å¯è§æ€§è¿™ä¸€ç‚¹ä¸Šï¼Œvolatileæœ‰ç€ä¸é”ç›¸åŒçš„å†…å­˜è¯­ä¹‰ï¼Œæ‰€ä»¥å¯ä»¥ä½œä¸ºä¸€ä¸ªâ€œè½»é‡çº§â€çš„é”æ¥ä½¿ç”¨ã€‚ä½†ç”±äºvolatileä»…ä»…ä¿è¯å¯¹å•ä¸ªvolatileå˜é‡çš„è¯»/å†™å…·æœ‰åŸå­æ€§ï¼Œè€Œé”å¯ä»¥ä¿è¯æ•´ä¸ª<strong>ä¸´ç•ŒåŒºä»£ç </strong>çš„æ‰§è¡Œå…·æœ‰åŸå­æ€§ã€‚æ‰€ä»¥<strong>åœ¨åŠŸèƒ½ä¸Šï¼Œé”æ¯”volatileæ›´å¼ºå¤§ï¼›åœ¨æ€§èƒ½ä¸Šï¼Œvolatileæ›´æœ‰ä¼˜åŠ¿</strong>ã€‚</p><p>åœ¨ç¦æ­¢é‡æ’åºè¿™ä¸€ç‚¹ä¸Šï¼Œvolatileä¹Ÿæ˜¯éå¸¸æœ‰ç”¨çš„ã€‚æ¯”å¦‚æˆ‘ä»¬ç†Ÿæ‚‰çš„å•ä¾‹æ¨¡å¼ï¼Œå…¶ä¸­æœ‰ä¸€ç§å®ç°æ–¹å¼æ˜¯â€œåŒé‡é”æ£€æŸ¥â€ï¼Œæ¯”å¦‚è¿™æ ·çš„ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Singleton instance; <span class="comment">// ä¸ä½¿ç”¨volatileå…³é”®å­—</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// åŒé‡é”æ£€éªŒ</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="literal">null</span>) &#123; <span class="comment">// ç¬¬7è¡Œ</span></span><br><span class="line">            <span class="keyword">synchronized</span> (Singleton.class) &#123;</span><br><span class="line">                <span class="keyword">if</span> (instance == <span class="literal">null</span>) &#123;</span><br><span class="line">                    instance = <span class="keyword">new</span> <span class="title class_">Singleton</span>(); <span class="comment">// ç¬¬10è¡Œ</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœè¿™é‡Œçš„å˜é‡å£°æ˜ä¸ä½¿ç”¨volatileå…³é”®å­—ï¼Œæ˜¯å¯èƒ½ä¼šå‘ç”Ÿé”™è¯¯çš„ã€‚å®ƒå¯èƒ½ä¼šè¢«é‡æ’åºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">instance = new Singleton(); // ç¬¬10è¡Œ</span><br><span class="line"></span><br><span class="line">// å¯ä»¥åˆ†è§£ä¸ºä»¥ä¸‹ä¸‰ä¸ªæ­¥éª¤</span><br><span class="line">1 memory=allocate();// åˆ†é…å†…å­˜ ç›¸å½“äºcçš„malloc</span><br><span class="line">2 ctorInstanc(memory) //åˆå§‹åŒ–å¯¹è±¡</span><br><span class="line">3 s=memory //è®¾ç½®sæŒ‡å‘åˆšåˆ†é…çš„åœ°å€</span><br><span class="line"></span><br><span class="line">// ä¸Šè¿°ä¸‰ä¸ªæ­¥éª¤å¯èƒ½ä¼šè¢«é‡æ’åºä¸º 1-3-2ï¼Œä¹Ÿå°±æ˜¯ï¼š</span><br><span class="line">1 memory=allocate();// åˆ†é…å†…å­˜ ç›¸å½“äºcçš„malloc</span><br><span class="line">3 s=memory //è®¾ç½®sæŒ‡å‘åˆšåˆ†é…çš„åœ°å€</span><br><span class="line">2 ctorInstanc(memory) //åˆå§‹åŒ–å¯¹è±¡</span><br></pre></td></tr></table></figure><p>è€Œä¸€æ—¦å‡è®¾å‘ç”Ÿäº†è¿™æ ·çš„é‡æ’åºï¼Œæ¯”å¦‚çº¿ç¨‹Aåœ¨ç¬¬10è¡Œæ‰§è¡Œäº†æ­¥éª¤1å’Œæ­¥éª¤3ï¼Œä½†æ˜¯æ­¥éª¤2è¿˜æ²¡æœ‰æ‰§è¡Œå®Œã€‚è¿™ä¸ªæ—¶å€™å¦ä¸€ä¸ªçº¿ç¨‹Bæ‰§è¡Œåˆ°äº†ç¬¬7è¡Œï¼Œå®ƒä¼šåˆ¤å®šinstanceä¸ä¸ºç©ºï¼Œç„¶åç›´æ¥è¿”å›äº†ä¸€ä¸ªæœªåˆå§‹åŒ–å®Œæˆçš„instanceï¼</p><p>æ‰€ä»¥JSR-133å¯¹volatileåšäº†å¢å¼ºåï¼Œvolatileçš„ç¦æ­¢é‡æ’åºåŠŸèƒ½è¿˜æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚</p><h2 id="æ€»ä¹‹è¯´äº†åŠå¤©æˆ‘ä»¬ç»ˆäºç£•åˆ°é”äº†"><a class="markdownIt-Anchor" href="#æ€»ä¹‹è¯´äº†åŠå¤©æˆ‘ä»¬ç»ˆäºç£•åˆ°é”äº†"></a> æ€»ä¹‹è¯´äº†åŠå¤©æˆ‘ä»¬ç»ˆäºç£•åˆ°é”äº†</h2><p>é¦–å…ˆéœ€è¦æ˜ç¡®çš„ä¸€ç‚¹æ˜¯ï¼š<strong>Javaå¤šçº¿ç¨‹çš„é”éƒ½æ˜¯åŸºäºå¯¹è±¡çš„</strong>ï¼ŒJavaä¸­çš„æ¯ä¸€ä¸ªå¯¹è±¡éƒ½å¯ä»¥ä½œä¸ºä¸€ä¸ªé”ã€‚</p><p>è¿˜æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬å¸¸å¬åˆ°çš„<strong>ç±»é”</strong>å…¶å®ä¹Ÿæ˜¯å¯¹è±¡é”ã€‚</p><p>Javaç±»åªæœ‰ä¸€ä¸ªClasså¯¹è±¡ï¼ˆå¯ä»¥æœ‰å¤šä¸ªå®ä¾‹å¯¹è±¡ï¼Œå¤šä¸ªå®ä¾‹å…±äº«è¿™ä¸ªClasså¯¹è±¡ï¼‰ï¼Œè€ŒClasså¯¹è±¡ä¹Ÿæ˜¯ç‰¹æ®Šçš„Javaå¯¹è±¡ã€‚æ‰€ä»¥æˆ‘ä»¬å¸¸è¯´çš„ç±»é”ï¼Œå…¶å®å°±æ˜¯Classå¯¹è±¡çš„é”ã€‚</p><h3 id="synchronizedå…³é”®å­—"><a class="markdownIt-Anchor" href="#synchronizedå…³é”®å­—"></a> Synchronizedå…³é”®å­—</h3><p>è¯´åˆ°é”ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šè°ˆåˆ°<code>synchronized</code>è¿™ä¸ªå…³é”®å­—ã€‚å®ƒç¿»è¯‘æˆä¸­æ–‡å°±æ˜¯â€œåŒæ­¥â€çš„æ„æ€ã€‚</p><p>æˆ‘ä»¬é€šå¸¸ä½¿ç”¨<code>synchronized</code>å…³é”®å­—æ¥ç»™ä¸€æ®µä»£ç æˆ–ä¸€ä¸ªæ–¹æ³•ä¸Šé”ã€‚å®ƒé€šå¸¸æœ‰ä»¥ä¸‹ä¸‰ç§å½¢å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…³é”®å­—åœ¨å®ä¾‹æ–¹æ³•ä¸Šï¼Œé”ä¸ºå½“å‰å®ä¾‹</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">instanceLock</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// code</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…³é”®å­—åœ¨é™æ€æ–¹æ³•ä¸Šï¼Œé”ä¸ºå½“å‰Classå¯¹è±¡</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">classLock</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// code</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…³é”®å­—åœ¨ä»£ç å—ä¸Šï¼Œé”ä¸ºæ‹¬å·é‡Œé¢çš„å¯¹è±¡</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">blockLock</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">Object</span> <span class="variable">o</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line">    <span class="keyword">synchronized</span> (o) &#123;</span><br><span class="line">        <span class="comment">// code</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬è¿™é‡Œä»‹ç»ä¸€ä¸‹â€œä¸´ç•ŒåŒºâ€çš„æ¦‚å¿µã€‚æ‰€è°“â€œä¸´ç•ŒåŒºâ€ï¼ŒæŒ‡çš„æ˜¯æŸä¸€å—ä»£ç åŒºåŸŸï¼Œå®ƒåŒä¸€æ—¶åˆ»åªèƒ½ç”±ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå¦‚æœ<code>synchronized</code>å…³é”®å­—åœ¨æ–¹æ³•ä¸Šï¼Œé‚£ä¸´ç•ŒåŒºå°±æ˜¯æ•´ä¸ªæ–¹æ³•å†…éƒ¨ã€‚è€Œå¦‚æœæ˜¯ä½¿ç”¨synchronizedä»£ç å—ï¼Œé‚£ä¸´ç•ŒåŒºå°±æŒ‡çš„æ˜¯ä»£ç å—å†…éƒ¨çš„åŒºåŸŸã€‚</p><p>é€šè¿‡ä¸Šé¢çš„ä¾‹å­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œä¸‹é¢è¿™ä¸¤ä¸ªå†™æ³•å…¶å®æ˜¯ç­‰ä»·çš„ä½œç”¨ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…³é”®å­—åœ¨å®ä¾‹æ–¹æ³•ä¸Šï¼Œé”ä¸ºå½“å‰å®ä¾‹</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">instanceLock</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// code</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…³é”®å­—åœ¨ä»£ç å—ä¸Šï¼Œé”ä¸ºæ‹¬å·é‡Œé¢çš„å¯¹è±¡</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">blockLock</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">synchronized</span> (<span class="built_in">this</span>) &#123;</span><br><span class="line">        <span class="comment">// code</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŒç†ï¼Œä¸‹é¢è¿™ä¸¤ä¸ªæ–¹æ³•ä¹Ÿåº”è¯¥æ˜¯ç­‰ä»·çš„ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…³é”®å­—åœ¨é™æ€æ–¹æ³•ä¸Šï¼Œé”ä¸ºå½“å‰Classå¯¹è±¡</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">classLock</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// code</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…³é”®å­—åœ¨ä»£ç å—ä¸Šï¼Œé”ä¸ºæ‹¬å·é‡Œé¢çš„å¯¹è±¡</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">blockLock</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">synchronized</span> (<span class="built_in">this</span>.getClass()) &#123;</span><br><span class="line">        <span class="comment">// code</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å‡ ç§é”"><a class="markdownIt-Anchor" href="#å‡ ç§é”"></a> å‡ ç§é”</h3><p>Java 6 ä¸ºäº†å‡å°‘è·å¾—é”å’Œé‡Šæ”¾é”å¸¦æ¥çš„æ€§èƒ½æ¶ˆè€—ï¼Œå¼•å…¥äº†â€œåå‘é”â€å’Œâ€œè½»é‡çº§é”â€œã€‚åœ¨Java 6 ä»¥å‰ï¼Œæ‰€æœ‰çš„é”éƒ½æ˜¯â€é‡é‡çº§â€œé”ã€‚æ‰€ä»¥åœ¨Java 6 åŠå…¶ä»¥åï¼Œä¸€ä¸ªå¯¹è±¡å…¶å®æœ‰å››ç§é”çŠ¶æ€ï¼Œå®ƒä»¬çº§åˆ«ç”±ä½åˆ°é«˜ä¾æ¬¡æ˜¯ï¼š</p><ol><li>æ— é”çŠ¶æ€</li><li>åå‘é”çŠ¶æ€</li><li>è½»é‡çº§é”çŠ¶æ€</li><li>é‡é‡çº§é”çŠ¶æ€</li></ol><p>æ— é”å°±æ˜¯æ²¡æœ‰å¯¹èµ„æºè¿›è¡Œé”å®šï¼Œä»»ä½•çº¿ç¨‹éƒ½å¯ä»¥å°è¯•å»ä¿®æ”¹å®ƒï¼Œè¿™é‡Œå°±ä¸å†è¿›è¡Œèµ˜è¿°ã€‚</p><p>å‡ ç§é”ä¼šéšç€ç«äº‰æƒ…å†µé€æ¸å‡çº§ï¼Œé”çš„å‡çº§å¾ˆå®¹æ˜“å‘ç”Ÿï¼Œä½†æ˜¯é”é™çº§å‘ç”Ÿçš„æ¡ä»¶ä¼šæ¯”è¾ƒè‹›åˆ»ï¼Œé”é™çº§å‘ç”Ÿåœ¨Stop The WorldæœŸé—´ï¼Œå½“JVMè¿›å…¥å®‰å…¨ç‚¹çš„æ—¶å€™ï¼Œä¼šæ£€æŸ¥æ˜¯å¦æœ‰é—²ç½®çš„é”ï¼Œç„¶åè¿›è¡Œé™çº§ã€‚</p><blockquote><p>å…³äºé”é™çº§æœ‰ä¸¤ç‚¹è¯´æ˜ï¼š</p><p>1.ä¸åŒäºå¤§éƒ¨åˆ†æ–‡ç« è¯´é”ä¸èƒ½é™çº§ï¼Œå®é™…ä¸ŠHotSpot JVM æ˜¯æ”¯æŒé”é™çº§çš„</p><p>2.ä¸Šé¢æåˆ°çš„Stop The WorldæœŸé—´ï¼Œä»¥åŠå®‰å…¨ç‚¹ï¼Œè¿™äº›çŸ¥è¯†æ˜¯å±äºJVMçš„çŸ¥è¯†èŒƒç•´ï¼Œæœ¬æ–‡ä¸åšç»†è®²ã€‚</p></blockquote><p>ä¸‹é¢åˆ†åˆ«ä»‹ç»è¿™å‡ ç§é”ä»¥åŠå®ƒä»¬ä¹‹é—´çš„å‡çº§ã€‚</p><p>youmingsamaç¼–è¾‘ä¸­</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/ing/huima.png" alt="" /></p><p>å‘å‘å‘youmingsamaæŒç»­ç¼–è¾‘ä¸­ç»˜éº»å¤©ä¸‹ç¬¬ä¸€ï¼ï¼ï¼æ˜¯çš„å‘¢</p><p>ï¼ï¼ï¼ï¼</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;è¿™å¤§æ¦‚æ˜¯ä¼ è¯´ä¸­çš„åŸç†ç¯‡&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#è¿™å¤§æ¦‚æ˜¯ä¼ è¯´ä¸­çš„åŸç†ç¯‡&quot;&gt;&lt;/a&gt; è¿™å¤§æ¦‚æ˜¯ä¼ è¯´ä¸­çš„åŸç†ç¯‡&lt;/h3&gt;
&lt;p&gt;å½“ç„¶å…¶ä¸­ä¼šå‚æ‚ä¸€äº›å…¶ä»–çš„ä¸œè¥¿ï¼Œï¼ˆå¤±ç¤¼äº†&lt;/p&gt;
&lt;h3 id=&quot;1å…ˆæ¥çœ‹çœ‹javaå†…å­˜æ¨¡å‹</summary>
      
    
    
    
    <category term="print*,&quot;hello world!!!&quot;" scheme="https://blog.youmingsama.cn/categories/print-hello-world/"/>
    
    
    <category term="java!!!" scheme="https://blog.youmingsama.cn/tags/java/"/>
    
    <category term="å¤šçº¿ç¨‹" scheme="https://blog.youmingsama.cn/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>golangæ‚è€å¤§å¸ˆæ··ä¹±çš„ç¬”è®°</title>
    <link href="https://blog.youmingsama.cn/posts/8f098f8e/"/>
    <id>https://blog.youmingsama.cn/posts/8f098f8e/</id>
    <published>2020-05-04T00:00:00.000Z</published>
    <updated>2020-05-04T00:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬æ–‡æˆªé€‰è‡³the way to go ä¸­æ–‡ç‰ˆ</p></blockquote><h2 id="ä»å­—ç¬¦ä¸²ä¸­è¯»å–å†…å®¹"><a class="markdownIt-Anchor" href="#ä»å­—ç¬¦ä¸²ä¸­è¯»å–å†…å®¹"></a> ä»å­—ç¬¦ä¸²ä¸­è¯»å–å†…å®¹</h2><p>å‡½æ•° <code>strings.NewReader(str)</code> ç”¨äºç”Ÿæˆä¸€ä¸ª <code>Reader</code> å¹¶è¯»å–å­—ç¬¦ä¸²ä¸­çš„å†…å®¹ï¼Œç„¶åè¿”å›æŒ‡å‘è¯¥ <code>Reader</code> çš„æŒ‡é’ˆï¼Œä»å…¶å®ƒç±»å‹è¯»å–å†…å®¹çš„å‡½æ•°è¿˜æœ‰ï¼š</p><ul><li><code>Read()</code> ä» []byte ä¸­è¯»å–å†…å®¹ã€‚</li><li><code>ReadByte()</code> å’Œ <code>ReadRune()</code> ä»å­—ç¬¦ä¸²ä¸­è¯»å–ä¸‹ä¸€ä¸ª byte æˆ–è€… runeã€‚</li></ul><h2 id="å­—ç¬¦ä¸²ä¸å…¶å®ƒç±»å‹çš„è½¬æ¢"><a class="markdownIt-Anchor" href="#å­—ç¬¦ä¸²ä¸å…¶å®ƒç±»å‹çš„è½¬æ¢"></a> å­—ç¬¦ä¸²ä¸å…¶å®ƒç±»å‹çš„è½¬æ¢</h2><p>ä¸å­—ç¬¦ä¸²ç›¸å…³çš„ç±»å‹è½¬æ¢éƒ½æ˜¯é€šè¿‡ <code>strconv</code> åŒ…å®ç°çš„ã€‚</p><p>è¯¥åŒ…åŒ…å«äº†ä¸€äº›å˜é‡ç”¨äºè·å–ç¨‹åºè¿è¡Œçš„æ“ä½œç³»ç»Ÿå¹³å°ä¸‹ int ç±»å‹æ‰€å çš„ä½æ•°ï¼Œå¦‚ï¼š<code>strconv.IntSize</code>ã€‚</p><p>ä»»ä½•ç±»å‹ <strong>T</strong> è½¬æ¢ä¸ºå­—ç¬¦ä¸²æ€»æ˜¯æˆåŠŸçš„ã€‚</p><p>é’ˆå¯¹ä»æ•°å­—ç±»å‹è½¬æ¢åˆ°å­—ç¬¦ä¸²ï¼ŒGo æä¾›äº†ä»¥ä¸‹å‡½æ•°ï¼š</p><ul><li><code>strconv.Itoa(i int) string</code> è¿”å›æ•°å­— i æ‰€è¡¨ç¤ºçš„å­—ç¬¦ä¸²ç±»å‹çš„åè¿›åˆ¶æ•°ã€‚</li><li><code>strconv.FormatFloat(f float64, fmt byte, prec int, bitSize int) string</code> å°† 64 ä½æµ®ç‚¹å‹çš„æ•°å­—è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œå…¶ä¸­ <code>fmt</code> è¡¨ç¤ºæ ¼å¼ï¼ˆå…¶å€¼å¯ä»¥æ˜¯ <code>'b'</code>ã€<code>'e'</code>ã€<code>'f'</code> æˆ– <code>'g'</code>ï¼‰ï¼Œ<code>prec</code> è¡¨ç¤ºç²¾åº¦ï¼Œ<code>bitSize</code> åˆ™ä½¿ç”¨ 32 è¡¨ç¤º float32ï¼Œç”¨ 64 è¡¨ç¤º float64ã€‚</li></ul><p>å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå…¶å®ƒç±»å‹ <strong>tp</strong> å¹¶ä¸æ€»æ˜¯å¯èƒ½çš„ï¼Œå¯èƒ½ä¼šåœ¨è¿è¡Œæ—¶æŠ›å‡ºé”™è¯¯ <code>parsing &quot;â€¦&quot;: invalid argument</code>ã€‚</p><p>é’ˆå¯¹ä»å­—ç¬¦ä¸²ç±»å‹è½¬æ¢ä¸ºæ•°å­—ç±»å‹ï¼ŒGo æä¾›äº†ä»¥ä¸‹å‡½æ•°ï¼š</p><ul><li><code>strconv.Atoi(s string) (i int, err error)</code> å°†å­—ç¬¦ä¸²è½¬æ¢ä¸º int å‹ã€‚</li><li><code>strconv.ParseFloat(s string, bitSize int) (f float64, err error)</code> å°†å­—ç¬¦ä¸²è½¬æ¢ä¸º float64 å‹ã€‚</li></ul><p>åˆ©ç”¨å¤šè¿”å›å€¼çš„ç‰¹æ€§ï¼Œè¿™äº›å‡½æ•°ä¼šè¿”å› 2 ä¸ªå€¼ï¼Œç¬¬ 1 ä¸ªæ˜¯è½¬æ¢åçš„ç»“æœï¼ˆå¦‚æœè½¬æ¢æˆåŠŸï¼‰ï¼Œç¬¬ 2 ä¸ªæ˜¯å¯èƒ½å‡ºç°çš„é”™è¯¯ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨ä»¥ä¸‹å½¢å¼æ¥è¿›è¡Œä»å­—ç¬¦ä¸²åˆ°å…¶å®ƒç±»å‹çš„è½¬æ¢ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">val, err = strconv.Atoi(s)</span><br></pre></td></tr></table></figure><h1 id="æ—¶é—´å’Œæ—¥æœŸ"><a class="markdownIt-Anchor" href="#æ—¶é—´å’Œæ—¥æœŸ"></a> æ—¶é—´å’Œæ—¥æœŸ</h1><p><code>time</code> åŒ…ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªæ•°æ®ç±»å‹ <code>time.Time</code>ï¼ˆä½œä¸ºå€¼ä½¿ç”¨ï¼‰ä»¥åŠæ˜¾ç¤ºå’Œæµ‹é‡æ—¶é—´å’Œæ—¥æœŸçš„åŠŸèƒ½å‡½æ•°ã€‚</p><p>å½“å‰æ—¶é—´å¯ä»¥ä½¿ç”¨ <code>time.Now()</code> è·å–ï¼Œæˆ–è€…ä½¿ç”¨ <code>t.Day()</code>ã€<code>t.Minute()</code> ç­‰ç­‰æ¥è·å–æ—¶é—´çš„ä¸€éƒ¨åˆ†ï¼›ä½ ç”šè‡³å¯ä»¥è‡ªå®šä¹‰æ—¶é—´æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ï¼š <code>fmt.Printf(&quot;%02d.%02d.%4d\n&quot;, t.Day(), t.Month(), t.Year())</code> å°†ä¼šè¾“å‡º <code>21.07.2011</code>ã€‚</p><p>Duration ç±»å‹è¡¨ç¤ºä¸¤ä¸ªè¿ç»­æ—¶åˆ»æ‰€ç›¸å·®çš„çº³ç§’æ•°ï¼Œç±»å‹ä¸º int64ã€‚Location ç±»å‹æ˜ å°„æŸä¸ªæ—¶åŒºçš„æ—¶é—´ï¼ŒUTC è¡¨ç¤ºé€šç”¨åè°ƒä¸–ç•Œæ—¶é—´ã€‚</p><p>åŒ…ä¸­çš„ä¸€ä¸ªé¢„å®šä¹‰å‡½æ•° <code>func (t Time) Format(layout string) string</code> å¯ä»¥æ ¹æ®ä¸€ä¸ªæ ¼å¼åŒ–å­—ç¬¦ä¸²æ¥å°†ä¸€ä¸ªæ—¶é—´ t è½¬æ¢ä¸ºç›¸åº”æ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸€äº›é¢„å®šä¹‰çš„æ ¼å¼ï¼Œå¦‚ï¼š<code>time.ANSIC</code> æˆ– <code>time.RFC822</code>ã€‚</p><p>ä¸€èˆ¬çš„æ ¼å¼åŒ–è®¾è®¡æ˜¯é€šè¿‡å¯¹äºä¸€ä¸ªæ ‡å‡†æ—¶é—´çš„æ ¼å¼åŒ–æè¿°æ¥å±•ç°çš„ï¼Œè¿™å¬èµ·æ¥å¾ˆå¥‡æ€ªï¼Œä½†çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­ä½ å°±ä¼šä¸€ç›®äº†ç„¶ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fmt.Println(t.Format(&quot;02 Jan 2006 15:04&quot;)) </span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">21 Jul 2011 10:31</span><br></pre></td></tr></table></figure><p>å…¶å®ƒæœ‰å…³æ—¶é—´æ“ä½œçš„æ–‡æ¡£è¯·å‚é˜… <a href="http://golang.org/pkg/time/">å®˜æ–¹æ–‡æ¡£</a></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> week time.Duration</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    t := time.Now()</span><br><span class="line">    fmt.Println(t) <span class="comment">// e.g. Wed Dec 21 09:52:14 +0100 RST 2011</span></span><br><span class="line">    fmt.Printf(<span class="string">&quot;%02d.%02d.%4d\n&quot;</span>, t.Day(), t.Month(), t.Year())</span><br><span class="line">    <span class="comment">// 21.12.2011</span></span><br><span class="line">    t = time.Now().UTC()</span><br><span class="line">    fmt.Println(t) <span class="comment">// Wed Dec 21 08:52:14 +0000 UTC 2011</span></span><br><span class="line">    fmt.Println(time.Now()) <span class="comment">// Wed Dec 21 09:52:14 +0100 RST 2011</span></span><br><span class="line">    <span class="comment">// calculating times:</span></span><br><span class="line">    week = <span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span> * <span class="number">7</span> * <span class="number">1e9</span> <span class="comment">// must be in nanosec</span></span><br><span class="line">    week_from_now := t.Add(time.Duration(week))</span><br><span class="line">    fmt.Println(week_from_now) <span class="comment">// Wed Dec 28 08:52:14 +0000 UTC 2011</span></span><br><span class="line">    <span class="comment">// formatting times:</span></span><br><span class="line">    fmt.Println(t.Format(time.RFC822)) <span class="comment">// 21 Dec 11 0852 UTC</span></span><br><span class="line">    fmt.Println(t.Format(time.ANSIC)) <span class="comment">// Wed Dec 21 08:56:34 2011</span></span><br><span class="line">    <span class="comment">// The time must be 2006-01-02 15:04:05</span></span><br><span class="line">    fmt.Println(t.Format(<span class="string">&quot;02 Jan 2006 15:04&quot;</span>)) <span class="comment">// 21 Dec 2011 08:52</span></span><br><span class="line">    s := t.Format(<span class="string">&quot;20060102&quot;</span>)</span><br><span class="line">    fmt.Println(t, <span class="string">&quot;=&gt;&quot;</span>, s)</span><br><span class="line">    <span class="comment">// Wed Dec 21 08:52:14 +0000 UTC 2011 =&gt; 20111221</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºçš„ç»“æœå·²ç»å†™åœ¨æ¯è¡Œ <code>//</code> çš„åé¢ã€‚</p><p>å¦‚æœä½ éœ€è¦åœ¨åº”ç”¨ç¨‹åºåœ¨ç»è¿‡ä¸€å®šæ—¶é—´æˆ–å‘¨æœŸæ‰§è¡ŒæŸé¡¹ä»»åŠ¡ï¼ˆäº‹ä»¶å¤„ç†çš„ç‰¹ä¾‹ï¼‰ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ <code>time.After</code> æˆ–è€… <code>time.Ticker</code> å¦å¤–ï¼Œ<code>time.Sleepï¼ˆd Durationï¼‰</code> å¯ä»¥å®ç°å¯¹æŸä¸ªè¿›ç¨‹ï¼ˆå®è´¨ä¸Šæ˜¯ goroutineï¼‰æ—¶é•¿ä¸º d çš„æš‚åœã€‚</p><h1 id="æµ‹è¯•å¤šè¿”å›å€¼å‡½æ•°çš„é”™è¯¯"><a class="markdownIt-Anchor" href="#æµ‹è¯•å¤šè¿”å›å€¼å‡½æ•°çš„é”™è¯¯"></a> æµ‹è¯•å¤šè¿”å›å€¼å‡½æ•°çš„é”™è¯¯</h1><p>Go è¯­è¨€çš„å‡½æ•°ç»å¸¸ä½¿ç”¨ä¸¤ä¸ªè¿”å›å€¼æ¥è¡¨ç¤ºæ‰§è¡Œæ˜¯å¦æˆåŠŸï¼šè¿”å›æŸä¸ªå€¼ä»¥åŠ true è¡¨ç¤ºæˆåŠŸï¼›è¿”å›é›¶å€¼ï¼ˆæˆ– nilï¼‰å’Œ false è¡¨ç¤ºå¤±è´¥ï¼ˆç¬¬ 4.4 èŠ‚ï¼‰ã€‚å½“ä¸ä½¿ç”¨ true æˆ– false çš„æ—¶å€™ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€ä¸ª error ç±»å‹çš„å˜é‡æ¥ä»£æ›¿ä½œä¸ºç¬¬äºŒä¸ªè¿”å›å€¼ï¼šæˆåŠŸæ‰§è¡Œçš„è¯ï¼Œerror çš„å€¼ä¸º nilï¼Œå¦åˆ™å°±ä¼šåŒ…å«ç›¸åº”çš„é”™è¯¯ä¿¡æ¯ï¼ˆGo è¯­è¨€ä¸­çš„é”™è¯¯ç±»å‹ä¸º error: <code>var err error</code>ï¼Œæˆ‘ä»¬å°†ä¼šåœ¨ç¬¬ 13 ç« è¿›è¡Œæ›´å¤šåœ°è®¨è®ºï¼‰ã€‚è¿™æ ·ä¸€æ¥ï¼Œå°±å¾ˆæ˜æ˜¾éœ€è¦ç”¨ä¸€ä¸ª if è¯­å¥æ¥æµ‹è¯•æ‰§è¡Œç»“æœï¼›ç”±äºå…¶ç¬¦å·çš„åŸå› ï¼Œè¿™æ ·çš„å½¢å¼åˆç§°ä¹‹ä¸º comma,ok æ¨¡å¼ï¼ˆpatternï¼‰ã€‚</p><p>åœ¨ç¬¬ 4.7 èŠ‚çš„ç¨‹åº <code>string_conversion.go</code> ä¸­ï¼Œå‡½æ•° <code>strconv.Atoi</code> çš„ä½œç”¨æ˜¯å°†ä¸€ä¸ªå­—ç¬¦ä¸²è½¬æ¢ä¸ºä¸€ä¸ªæ•´æ•°ã€‚ä¹‹å‰æˆ‘ä»¬å¿½ç•¥äº†ç›¸å…³çš„é”™è¯¯æ£€æŸ¥ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">anInt, _ = strconv.Atoi(origStr)</span><br></pre></td></tr></table></figure><p>å¦‚æœ origStr ä¸èƒ½è¢«è½¬æ¢ä¸ºæ•´æ•°ï¼ŒanInt çš„å€¼ä¼šå˜æˆ 0 è€Œ <code>_</code> æ— è§†äº†é”™è¯¯ï¼Œç¨‹åºä¼šç»§ç»­è¿è¡Œã€‚</p><p>è¿™æ ·åšæ˜¯éå¸¸ä¸å¥½çš„ï¼šç¨‹åºåº”è¯¥åœ¨æœ€æ¥è¿‘çš„ä½ç½®æ£€æŸ¥æ‰€æœ‰ç›¸å…³çš„é”™è¯¯ï¼Œè‡³å°‘éœ€è¦æš—ç¤ºç”¨æˆ·æœ‰é”™è¯¯å‘ç”Ÿå¹¶å¯¹å‡½æ•°è¿›è¡Œè¿”å›ï¼Œç”šè‡³ä¸­æ–­ç¨‹åºã€‚</p><p>æˆ‘ä»¬åœ¨ç¬¬äºŒä¸ªç‰ˆæœ¬ä¸­å¯¹ä»£ç è¿›è¡Œäº†æ”¹è¿›ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;strconv&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> orig <span class="type">string</span> = <span class="string">&quot;ABC&quot;</span></span><br><span class="line">    <span class="comment">// var an int</span></span><br><span class="line">    <span class="keyword">var</span> newS <span class="type">string</span></span><br><span class="line">    <span class="comment">// var err error</span></span><br><span class="line"></span><br><span class="line">    fmt.Printf(<span class="string">&quot;The size of ints is: %d\n&quot;</span>, strconv.IntSize)  </span><br><span class="line">    <span class="comment">// anInt, err = strconv.Atoi(origStr)</span></span><br><span class="line">    an, err := strconv.Atoi(orig)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;orig %s is not an integer - exiting with error\n&quot;</span>, orig)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125; </span><br><span class="line">    fmt.Printf(<span class="string">&quot;The integer is %d\n&quot;</span>, an)</span><br><span class="line">    an = an + <span class="number">5</span></span><br><span class="line">    newS = strconv.Itoa(an)</span><br><span class="line">    fmt.Printf(<span class="string">&quot;The new string is: %s\n&quot;</span>, newS)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯æµ‹è¯• err å˜é‡æ˜¯å¦åŒ…å«ä¸€ä¸ªçœŸæ­£çš„é”™è¯¯ï¼ˆ<code>if err != nil</code>ï¼‰çš„ä¹ æƒ¯ç”¨æ³•ã€‚å¦‚æœç¡®å®å­˜åœ¨é”™è¯¯ï¼Œåˆ™ä¼šæ‰“å°ç›¸åº”çš„é”™è¯¯ä¿¡æ¯ç„¶åé€šè¿‡ return æå‰ç»“æŸå‡½æ•°çš„æ‰§è¡Œã€‚æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨æºå¸¦è¿”å›å€¼çš„ return å½¢å¼ï¼Œä¾‹å¦‚ <code>return err</code>ã€‚è¿™æ ·ä¸€æ¥ï¼Œå‡½æ•°çš„è°ƒç”¨è€…å°±å¯ä»¥æ£€æŸ¥å‡½æ•°æ‰§è¡Œè¿‡ç¨‹ä¸­æ˜¯å¦å­˜åœ¨é”™è¯¯äº†ã€‚</p><p><strong>ä¹ æƒ¯ç”¨æ³•</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">value, err := pack1.Function1(param1)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;An error occured in pack1.Function1 with parameter %v&quot;</span>, param1)</span><br><span class="line">    <span class="keyword">return</span> err</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æœªå‘ç”Ÿé”™è¯¯ï¼Œç»§ç»­æ‰§è¡Œï¼š</span></span><br></pre></td></tr></table></figure><p>ç”±äºæœ¬ä¾‹çš„å‡½æ•°è°ƒç”¨è€…å±äº main å‡½æ•°ï¼Œæ‰€ä»¥ç¨‹åºä¼šç›´æ¥åœæ­¢è¿è¡Œã€‚</p><p>å¦‚æœæˆ‘ä»¬æƒ³è¦åœ¨é”™è¯¯å‘ç”Ÿçš„åŒæ—¶ç»ˆæ­¢ç¨‹åºçš„è¿è¡Œï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>os</code> åŒ…çš„ <code>Exit</code> å‡½æ•°ï¼š</p><p><strong>ä¹ æƒ¯ç”¨æ³•</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;Program stopping with error %v&quot;</span>, err)</span><br><span class="line">    os.Exit(<span class="number">1</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ï¼ˆæ­¤å¤„çš„é€€å‡ºä»£ç  1 å¯ä»¥ä½¿ç”¨å¤–éƒ¨è„šæœ¬è·å–åˆ°ï¼‰</p><p>æœ‰æ—¶å€™ï¼Œä½ ä¼šå‘ç°è¿™ç§ä¹ æƒ¯ç”¨æ³•è¢«è¿ç»­é‡å¤åœ°ä½¿ç”¨åœ¨æŸæ®µä»£ç ä¸­ã€‚</p><p>å½“æ²¡æœ‰é”™è¯¯å‘ç”Ÿæ—¶ï¼Œä»£ç ç»§ç»­è¿è¡Œå°±æ˜¯å”¯ä¸€è¦åšçš„äº‹æƒ…ï¼Œæ‰€ä»¥ if è¯­å¥å—åé¢ä¸éœ€è¦ä½¿ç”¨ else åˆ†æ”¯ã€‚</p><p>ç¤ºä¾‹ 2ï¼šæˆ‘ä»¬å°è¯•é€šè¿‡ <code>os.Open</code> æ–¹æ³•æ‰“å¼€ä¸€ä¸ªåä¸º <code>name</code> çš„åªè¯»æ–‡ä»¶ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">f, err := os.Open(name)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> err</span><br><span class="line">&#125;</span><br><span class="line">doSomething(f) <span class="comment">// å½“æ²¡æœ‰é”™è¯¯å‘ç”Ÿæ—¶ï¼Œæ–‡ä»¶å¯¹è±¡è¢«ä¼ å…¥åˆ°æŸä¸ªå‡½æ•°ä¸­</span></span><br><span class="line">doSomething</span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹ 3ï¼šå¯ä»¥å°†é”™è¯¯çš„è·å–æ”¾ç½®åœ¨ if è¯­å¥çš„åˆå§‹åŒ–éƒ¨åˆ†ï¼š</p><p><strong>ä¹ æƒ¯ç”¨æ³•</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> err := file.Chmod(<span class="number">0664</span>); err != <span class="literal">nil</span> &#123;</span><br><span class="line">    fmt.Println(err)</span><br><span class="line">    <span class="keyword">return</span> err</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹ 4ï¼šæˆ–è€…å°† ok-pattern çš„è·å–æ”¾ç½®åœ¨ if è¯­å¥çš„åˆå§‹åŒ–éƒ¨åˆ†ï¼Œç„¶åè¿›è¡Œåˆ¤æ–­ï¼š</p><p><strong>ä¹ æƒ¯ç”¨æ³•</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> value, ok := readData(); ok &#123;</span><br><span class="line">â€¦</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„äº‹é¡¹</strong></p><p>å¦‚æœæ‚¨åƒä¸‹é¢ä¸€æ ·ï¼Œæ²¡æœ‰ä¸ºå¤šè¿”å›å€¼çš„å‡½æ•°å‡†å¤‡è¶³å¤Ÿçš„å˜é‡æ¥å­˜æ”¾ç»“æœï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">mySqrt</span><span class="params">(f <span class="type">float64</span>)</span></span> (v <span class="type">float64</span>, ok <span class="type">bool</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> f &lt; <span class="number">0</span> &#123; <span class="keyword">return</span> &#125; <span class="comment">// error case</span></span><br><span class="line">    <span class="keyword">return</span> math.Sqrt(f),<span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    t := mySqrt(<span class="number">25.0</span>)</span><br><span class="line">    fmt.Println(t)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‚¨ä¼šå¾—åˆ°ä¸€ä¸ªç¼–è¯‘é”™è¯¯ï¼š<code>multiple-value mySqrt() in single-value context</code>ã€‚</p><p>æ­£ç¡®çš„åšæ³•æ˜¯ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">t, ok := mySqrt(<span class="number">25.0</span>)</span><br><span class="line"><span class="keyword">if</span> ok &#123; fmt.Println(t) &#125;</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„äº‹é¡¹ 2</strong></p><p>å½“æ‚¨å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´æ•°æ—¶ï¼Œä¸”ç¡®å®šè½¬æ¢ä¸€å®šèƒ½å¤ŸæˆåŠŸæ—¶ï¼Œå¯ä»¥å°† <code>Atoi</code> å‡½æ•°è¿›è¡Œä¸€å±‚å¿½ç•¥é”™è¯¯çš„å°è£…ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">atoi</span> <span class="params">(s <span class="type">string</span>)</span></span> (n <span class="type">int</span>) &#123;</span><br><span class="line">    n, _ = strconv.Atoi(s)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®é™…ä¸Šï¼Œ<code>fmt</code> åŒ…æœ€ç®€å•çš„æ‰“å°å‡½æ•°ä¹Ÿæœ‰ 2 ä¸ªè¿”å›å€¼ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">count, err := fmt.Println(x) <span class="comment">// number of bytes printed, nil or 0, error</span></span><br></pre></td></tr></table></figure><p>å½“æ‰“å°åˆ°æ§åˆ¶å°æ—¶ï¼Œå¯ä»¥å°†è¯¥å‡½æ•°è¿”å›çš„é”™è¯¯å¿½ç•¥ï¼›ä½†å½“è¾“å‡ºåˆ°æ–‡ä»¶æµã€ç½‘ç»œæµç­‰å…·æœ‰ä¸ç¡®å®šå› ç´ çš„è¾“å‡ºå¯¹è±¡æ—¶ï¼Œåº”è¯¥å§‹ç»ˆæ£€æŸ¥æ˜¯å¦æœ‰é”™è¯¯å‘ç”Ÿ</p><h2 id="or-range-ç»“æ„"><a class="markdownIt-Anchor" href="#or-range-ç»“æ„"></a> or-range ç»“æ„</h2><p>è¿™æ˜¯ Go ç‰¹æœ‰çš„ä¸€ç§çš„è¿­ä»£ç»“æ„ï¼Œæ‚¨ä¼šå‘ç°å®ƒåœ¨è®¸å¤šæƒ…å†µä¸‹éƒ½éå¸¸æœ‰ç”¨ã€‚å®ƒå¯ä»¥è¿­ä»£ä»»ä½•ä¸€ä¸ªé›†åˆï¼ˆåŒ…æ‹¬æ•°ç»„å’Œ mapï¼Œè¯¦è§ç¬¬ 7 å’Œ 8 ç« ï¼‰ã€‚è¯­æ³•ä¸Šå¾ˆç±»ä¼¼å…¶å®ƒè¯­è¨€ä¸­ foreach è¯­å¥ï¼Œä½†æ‚¨ä¾æ—§å¯ä»¥è·å¾—æ¯æ¬¡è¿­ä»£æ‰€å¯¹åº”çš„ç´¢å¼•ã€‚ä¸€èˆ¬å½¢å¼ä¸ºï¼š<code>for ix, val := range coll &#123; &#125;</code>ã€‚</p><p>è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>val</code> å§‹ç»ˆä¸ºé›†åˆä¸­å¯¹åº”ç´¢å¼•çš„å€¼æ‹·è´ï¼Œå› æ­¤å®ƒä¸€èˆ¬åªå…·æœ‰åªè¯»æ€§è´¨ï¼Œå¯¹å®ƒæ‰€åšçš„ä»»ä½•ä¿®æ”¹éƒ½ä¸ä¼šå½±å“åˆ°é›†åˆä¸­åŸæœ‰çš„å€¼ï¼ˆ<strong>è¯‘è€…æ³¨ï¼šå¦‚æœ <code>val</code> ä¸ºæŒ‡é’ˆï¼Œåˆ™ä¼šäº§ç”ŸæŒ‡é’ˆçš„æ‹·è´ï¼Œä¾æ—§å¯ä»¥ä¿®æ”¹é›†åˆä¸­çš„åŸå€¼</strong>ï¼‰ã€‚ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯ Unicode ç¼–ç çš„å­—ç¬¦ï¼ˆæˆ–ç§°ä¹‹ä¸º <code>rune</code>ï¼‰é›†åˆï¼Œå› æ­¤æ‚¨ä¹Ÿå¯ä»¥ç”¨å®ƒè¿­ä»£å­—ç¬¦ä¸²ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for pos, char := range str &#123;</span><br><span class="line">...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¯ä¸ª rune å­—ç¬¦å’Œç´¢å¼•åœ¨ for-range å¾ªç¯ä¸­æ˜¯ä¸€ä¸€å¯¹åº”çš„ã€‚å®ƒèƒ½å¤Ÿè‡ªåŠ¨æ ¹æ® UTF-8 è§„åˆ™è¯†åˆ« Unicode ç¼–ç çš„å­—ç¬¦ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    str := <span class="string">&quot;Go is a beautiful language!&quot;</span></span><br><span class="line">    fmt.Printf(<span class="string">&quot;The length of str is: %d\n&quot;</span>, <span class="built_in">len</span>(str))</span><br><span class="line">    <span class="keyword">for</span> pos, char := <span class="keyword">range</span> str &#123;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;Character on position %d is: %c \n&quot;</span>, pos, char)</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println()</span><br><span class="line">    str2 := <span class="string">&quot;Chinese: æ—¥æœ¬èª&quot;</span></span><br><span class="line">    fmt.Printf(<span class="string">&quot;The length of str2 is: %d\n&quot;</span>, <span class="built_in">len</span>(str2))</span><br><span class="line">    <span class="keyword">for</span> pos, char := <span class="keyword">range</span> str2 &#123;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;character %c starts at byte position %d\n&quot;</span>, char, pos)</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println()</span><br><span class="line">    fmt.Println(<span class="string">&quot;index int(rune) rune    char bytes&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> index, <span class="type">rune</span> := <span class="keyword">range</span> str2 &#123;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;%-2d      %d      %U &#x27;%c&#x27; % X\n&quot;</span>, index, <span class="type">rune</span>, <span class="type">rune</span>, <span class="type">rune</span>, []<span class="type">byte</span>(<span class="type">string</span>(<span class="type">rune</span>)))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">The length of str is: 27</span><br><span class="line">Character on position 0 is: G </span><br><span class="line">Character on position 1 is: o </span><br><span class="line">Character on position 2 is:   </span><br><span class="line">Character on position 3 is: i </span><br><span class="line">Character on position 4 is: s </span><br><span class="line">Character on position 5 is:   </span><br><span class="line">Character on position 6 is: a </span><br><span class="line">Character on position 7 is:   </span><br><span class="line">Character on position 8 is: b </span><br><span class="line">Character on position 9 is: e </span><br><span class="line">Character on position 10 is: a </span><br><span class="line">Character on position 11 is: u </span><br><span class="line">Character on position 12 is: t </span><br><span class="line">Character on position 13 is: i </span><br><span class="line">Character on position 14 is: f </span><br><span class="line">Character on position 15 is: u </span><br><span class="line">Character on position 16 is: l </span><br><span class="line">Character on position 17 is:   </span><br><span class="line">Character on position 18 is: l </span><br><span class="line">Character on position 19 is: a </span><br><span class="line">Character on position 20 is: n </span><br><span class="line">Character on position 21 is: g </span><br><span class="line">Character on position 22 is: u </span><br><span class="line">Character on position 23 is: a </span><br><span class="line">Character on position 24 is: g </span><br><span class="line">Character on position 25 is: e </span><br><span class="line">Character on position 26 is: ! </span><br><span class="line"></span><br><span class="line">The length of str2 is: 18</span><br><span class="line">character C starts at byte position 0</span><br><span class="line">character h starts at byte position 1</span><br><span class="line">character i starts at byte position 2</span><br><span class="line">character n starts at byte position 3</span><br><span class="line">character e starts at byte position 4</span><br><span class="line">character s starts at byte position 5</span><br><span class="line">character e starts at byte position 6</span><br><span class="line">character : starts at byte position 7</span><br><span class="line">character   starts at byte position 8</span><br><span class="line">character æ—¥ starts at byte position 9</span><br><span class="line">character æœ¬ starts at byte position 12</span><br><span class="line">character èª starts at byte position 15</span><br><span class="line"></span><br><span class="line">index int(rune) rune    char bytes</span><br><span class="line">0       67      U+0043 &#x27;C&#x27; 43</span><br><span class="line">1       104      U+0068 &#x27;h&#x27; 68</span><br><span class="line">2       105      U+0069 &#x27;i&#x27; 69</span><br><span class="line">3       110      U+006E &#x27;n&#x27; 6E</span><br><span class="line">4       101      U+0065 &#x27;e&#x27; 65</span><br><span class="line">5       115      U+0073 &#x27;s&#x27; 73</span><br><span class="line">6       101      U+0065 &#x27;e&#x27; 65</span><br><span class="line">7       58      U+003A &#x27;:&#x27; 3A</span><br><span class="line">8       32      U+0020 &#x27; &#x27; 20</span><br><span class="line">9       26085      U+65E5 &#x27;æ—¥&#x27; E6 97 A5</span><br><span class="line">12      26412      U+672C &#x27;æœ¬&#x27; E6 9C AC</span><br><span class="line">15      35486      U+8A9E &#x27;èª&#x27; E8 AA 9E</span><br></pre></td></tr></table></figure><p>è¯·å°†è¾“å‡ºç»“æœå’Œè¿›è¡Œå¯¹æ¯”ã€‚</p><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå¸¸ç”¨è‹±æ–‡å­—ç¬¦ä½¿ç”¨ 1 ä¸ªå­—èŠ‚è¡¨ç¤ºï¼Œè€Œæ±‰å­—ï¼ˆä¸¥æ ¼æ¥è¯´ï¼Œâ€œChinese: æ—¥æœ¬èªâ€çš„Chineseåº”è¯¥æ˜¯Japanese**ï¼‰ä½¿ç”¨ 3 ä¸ªå­—ç¬¦è¡¨ç¤ºã€‚</p><h2 id="å‘½åçš„è¿”å›å€¼named-return-variables"><a class="markdownIt-Anchor" href="#å‘½åçš„è¿”å›å€¼named-return-variables"></a> å‘½åçš„è¿”å›å€¼ï¼ˆnamed return variablesï¼‰</h2><p>å¦‚ä¸‹ é‡Œçš„å‡½æ•°å¸¦æœ‰ä¸€ä¸ª <code>int</code> å‚æ•°ï¼Œè¿”å›ä¸¤ä¸ª <code>int</code> å€¼ï¼›å…¶ä¸­ä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼åœ¨å‡½æ•°è°ƒç”¨æ—¶å°±å·²ç»è¢«èµ‹äºˆäº†ä¸€ä¸ªåˆå§‹é›¶å€¼ã€‚</p><p><code>getX2AndX3</code> ä¸ <code>getX2AndX3_2</code> ä¸¤ä¸ªå‡½æ•°æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨éå‘½åè¿”å›å€¼ä¸å‘½åè¿”å›å€¼çš„ç‰¹æ€§ã€‚å½“éœ€è¦è¿”å›å¤šä¸ªéå‘½åè¿”å›å€¼æ—¶ï¼Œéœ€è¦ä½¿ç”¨ <code>()</code> æŠŠå®ƒä»¬æ‹¬èµ·æ¥ï¼Œæ¯”å¦‚ <code>(int, int)</code>ã€‚</p><p>å‘½åè¿”å›å€¼ä½œä¸ºç»“æœå½¢å‚ï¼ˆresult parametersï¼‰è¢«åˆå§‹åŒ–ä¸ºç›¸åº”ç±»å‹çš„é›¶å€¼ï¼Œå½“éœ€è¦è¿”å›çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªéœ€è¦ä¸€æ¡ç®€å•çš„ä¸å¸¦å‚æ•°çš„returnè¯­å¥ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå³ä½¿åªæœ‰ä¸€ä¸ªå‘½åè¿”å›å€¼ï¼Œä¹Ÿéœ€è¦ä½¿ç”¨ <code>()</code> æ‹¬èµ·æ¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import &quot;fmt&quot;</span><br><span class="line"></span><br><span class="line">var num int = 10</span><br><span class="line">var numx2, numx3 int</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">    numx2, numx3 = getX2AndX3(num)</span><br><span class="line">    PrintValues()</span><br><span class="line">    numx2, numx3 = getX2AndX3_2(num)</span><br><span class="line">    PrintValues()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func PrintValues() &#123;</span><br><span class="line">    fmt.Printf(&quot;num = %d, 2x num = %d, 3x num = %d\n&quot;, num, numx2, numx3)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func getX2AndX3(input int) (int, int) &#123;</span><br><span class="line">    return 2 * input, 3 * input</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func getX2AndX3_2(input int) (x2 int, x3 int) &#123;</span><br><span class="line">    x2 = 2 * input</span><br><span class="line">    x3 = 3 * input</span><br><span class="line">    // return x2, x3</span><br><span class="line">    return</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">num = 10, 2x num = 20, 3x num = 30    </span><br><span class="line">num = 10, 2x num = 20, 3x num = 30 </span><br></pre></td></tr></table></figure><p>è­¦å‘Šï¼š</p><ul><li>return æˆ– return var éƒ½æ˜¯å¯ä»¥çš„ã€‚</li><li>ä¸è¿‡ <code>return var = expression</code>ï¼ˆè¡¨è¾¾å¼ï¼‰ ä¼šå¼•å‘ä¸€ä¸ªç¼–è¯‘é”™è¯¯ï¼š<code>syntax error: unexpected =, expecting semicolon or newline or &#125;</code>ã€‚</li></ul><p>å³ä½¿å‡½æ•°ä½¿ç”¨äº†å‘½åè¿”å›å€¼ï¼Œä½ ä¾æ—§å¯ä»¥æ— è§†å®ƒè€Œè¿”å›æ˜ç¡®çš„å€¼ã€‚</p><p>ä»»ä½•ä¸€ä¸ªéå‘½åè¿”å›å€¼ï¼ˆä½¿ç”¨éå‘½åè¿”å›å€¼æ˜¯å¾ˆç³Ÿçš„ç¼–ç¨‹ä¹ æƒ¯ï¼‰åœ¨ <code>return</code> è¯­å¥é‡Œé¢éƒ½è¦æ˜ç¡®æŒ‡å‡ºåŒ…å«è¿”å›å€¼çš„å˜é‡æˆ–æ˜¯ä¸€ä¸ªå¯è®¡ç®—çš„å€¼ï¼ˆå°±åƒä¸Šé¢è­¦å‘Šæ‰€æŒ‡å‡ºçš„é‚£æ ·ï¼‰ã€‚</p><p><strong>å°½é‡ä½¿ç”¨å‘½åè¿”å›å€¼ï¼šä¼šä½¿ä»£ç æ›´æ¸…æ™°ã€æ›´ç®€çŸ­ï¼ŒåŒæ—¶æ›´åŠ å®¹æ˜“è¯»æ‡‚ã€‚</strong></p><h2 id="æ”¹å˜å¤–éƒ¨å˜é‡outside-variable"><a class="markdownIt-Anchor" href="#æ”¹å˜å¤–éƒ¨å˜é‡outside-variable"></a> æ”¹å˜å¤–éƒ¨å˜é‡ï¼ˆoutside variableï¼‰</h2><p>ä¼ é€’æŒ‡é’ˆç»™å‡½æ•°ä¸ä½†å¯ä»¥èŠ‚çœå†…å­˜ï¼ˆå› ä¸ºæ²¡æœ‰å¤åˆ¶å˜é‡çš„å€¼ï¼‰ï¼Œè€Œä¸”èµ‹äºˆäº†å‡½æ•°ç›´æ¥ä¿®æ”¹å¤–éƒ¨å˜é‡çš„èƒ½åŠ›ï¼Œæ‰€ä»¥è¢«ä¿®æ”¹çš„å˜é‡ä¸å†éœ€è¦ä½¿ç”¨ <code>return</code> è¿”å›ã€‚å¦‚ä¸‹çš„ä¾‹å­ï¼Œ<code>reply</code> æ˜¯ä¸€ä¸ªæŒ‡å‘ <code>int</code> å˜é‡çš„æŒ‡é’ˆï¼Œé€šè¿‡è¿™ä¸ªæŒ‡é’ˆï¼Œæˆ‘ä»¬åœ¨å‡½æ•°å†…ä¿®æ”¹äº†è¿™ä¸ª <code>int</code> å˜é‡çš„æ•°å€¼ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">    &quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">// this function changes reply:</span><br><span class="line">func Multiply(a, b int, reply *int) &#123;</span><br><span class="line">    *reply = a * b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">    n := 0</span><br><span class="line">    reply := &amp;n</span><br><span class="line">    Multiply(10, 5, reply)</span><br><span class="line">    fmt.Println(&quot;Multiply:&quot;, *reply) // Multiply: 50</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä»…ä»…æ˜¯ä¸ªæŒ‡å¯¼æ€§çš„ä¾‹å­ï¼Œå½“éœ€è¦åœ¨å‡½æ•°å†…æ”¹å˜ä¸€ä¸ªå ç”¨å†…å­˜æ¯”è¾ƒå¤§çš„å˜é‡æ—¶ï¼Œæ€§èƒ½ä¼˜åŠ¿å°±æ›´åŠ æ˜æ˜¾äº†ã€‚ç„¶è€Œï¼Œå¦‚æœä¸å°å¿ƒä½¿ç”¨çš„è¯ï¼Œä¼ é€’ä¸€ä¸ªæŒ‡é’ˆå¾ˆå®¹æ˜“å¼•å‘ä¸€äº›ä¸ç¡®å®šçš„äº‹ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬è¦ååˆ†å°å¿ƒé‚£äº›å¯ä»¥æ”¹å˜å¤–éƒ¨å˜é‡çš„å‡½æ•°ï¼Œåœ¨å¿…è¦æ—¶ï¼Œéœ€è¦æ·»åŠ æ³¨é‡Šä»¥ä¾¿å…¶ä»–äººèƒ½å¤Ÿæ›´åŠ æ¸…æ¥šçš„çŸ¥é“å‡½æ•°é‡Œé¢åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆã€‚</p><h1 id="defer-å’Œè¿½è¸ª"><a class="markdownIt-Anchor" href="#defer-å’Œè¿½è¸ª"></a> defer å’Œè¿½è¸ª</h1><p>å…³é”®å­— defer å…è®¸æˆ‘ä»¬æ¨è¿Ÿåˆ°å‡½æ•°è¿”å›ä¹‹å‰ï¼ˆæˆ–ä»»æ„ä½ç½®æ‰§è¡Œ <code>return</code> è¯­å¥ä¹‹åï¼‰ä¸€åˆ»æ‰æ‰§è¡ŒæŸä¸ªè¯­å¥æˆ–å‡½æ•°ï¼ˆä¸ºä»€ä¹ˆè¦åœ¨è¿”å›ä¹‹åæ‰æ‰§è¡Œè¿™äº›è¯­å¥ï¼Ÿå› ä¸º <code>return</code> è¯­å¥åŒæ ·å¯ä»¥åŒ…å«ä¸€äº›æ“ä½œï¼Œè€Œä¸æ˜¯å•çº¯åœ°è¿”å›æŸä¸ªå€¼ï¼‰ã€‚</p><p>å…³é”®å­— defer çš„ç”¨æ³•ç±»ä¼¼äºé¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€ Java å’Œ C# çš„ <code>finally</code> è¯­å¥å—ï¼Œå®ƒä¸€èˆ¬ç”¨äºé‡Šæ”¾æŸäº›å·²åˆ†é…çš„èµ„æºã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    function1()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">function1</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;In function1 at the top\n&quot;</span>)</span><br><span class="line">    <span class="keyword">defer</span> function2()</span><br><span class="line">    fmt.Printf(<span class="string">&quot;In function1 at the bottom!\n&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">function2</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;Function2: Deferred until the end of the calling function!&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">In Function1 at the top</span><br><span class="line">In Function1 at the bottom!</span><br><span class="line">Function2: Deferred until the end of the calling function!</span><br></pre></td></tr></table></figure><p>è¯·å°† defer å…³é”®å­—å»æ‰å¹¶å¯¹æ¯”è¾“å‡ºç»“æœã€‚</p><p>ä½¿ç”¨ defer çš„è¯­å¥åŒæ ·å¯ä»¥æ¥å—å‚æ•°ï¼Œä¸‹é¢è¿™ä¸ªä¾‹å­å°±ä¼šåœ¨æ‰§è¡Œ defer è¯­å¥æ—¶æ‰“å° <code>0</code>ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">a</span><span class="params">()</span></span> &#123;</span><br><span class="line">    i := <span class="number">0</span></span><br><span class="line">    <span class="keyword">defer</span> fmt.Println(i)</span><br><span class="line">    i++</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“æœ‰å¤šä¸ª defer è¡Œä¸ºè¢«æ³¨å†Œæ—¶ï¼Œå®ƒä»¬ä¼šä»¥é€†åºæ‰§è¡Œï¼ˆç±»ä¼¼æ ˆï¼Œå³åè¿›å…ˆå‡ºï¼‰ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">f</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">5</span>; i++ &#123;</span><br><span class="line">        <span class="keyword">defer</span> fmt.Printf(<span class="string">&quot;%d &quot;</span>, i)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä»£ç å°†ä¼šè¾“å‡ºï¼š<code>4 3 2 1 0</code>ã€‚</p><p>å…³é”®å­— defer å…è®¸æˆ‘ä»¬è¿›è¡Œä¸€äº›å‡½æ•°æ‰§è¡Œå®Œæˆåçš„æ”¶å°¾å·¥ä½œï¼Œä¾‹å¦‚ï¼š</p><ol><li>å…³é—­æ–‡ä»¶æµ</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// open a file  </span><br><span class="line">defer file.Close()</span><br></pre></td></tr></table></figure><ol><li>è§£é”ä¸€ä¸ªåŠ é”çš„èµ„æº</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mu.Lock()  </span><br><span class="line">defer mu.Unlock() </span><br></pre></td></tr></table></figure><ol><li>æ‰“å°æœ€ç»ˆæŠ¥å‘Š</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">printHeader()  </span><br><span class="line">defer printFooter()</span><br></pre></td></tr></table></figure><ol><li>å…³é—­æ•°æ®åº“é“¾æ¥</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// open a database connection  </span><br><span class="line">defer disconnectFromDB()</span><br></pre></td></tr></table></figure><p>åˆç†ä½¿ç”¨ defer è¯­å¥èƒ½å¤Ÿä½¿å¾—ä»£ç æ›´åŠ ç®€æ´ã€‚</p><p>ä»¥ä¸‹ä»£ç æ¨¡æ‹Ÿäº†ä¸Šé¢æè¿°çš„ç¬¬ 4 ç§æƒ…å†µï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    doDBOperations()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">connectToDB</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;ok, connected to db&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">disconnectFromDB</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;ok, disconnected from db&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">doDBOperations</span><span class="params">()</span></span> &#123;</span><br><span class="line">    connectToDB()</span><br><span class="line">    fmt.Println(<span class="string">&quot;Defering the database disconnect.&quot;</span>)</span><br><span class="line">    <span class="keyword">defer</span> disconnectFromDB() <span class="comment">//function called here with defer</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;Doing some DB operations ...&quot;</span>)</span><br><span class="line">    fmt.Println(<span class="string">&quot;Oops! some crash or network error ...&quot;</span>)</span><br><span class="line">    fmt.Println(<span class="string">&quot;Returning from function here!&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="comment">//terminate the program</span></span><br><span class="line">    <span class="comment">// deferred function executed here just before actually returning, even if</span></span><br><span class="line">    <span class="comment">// there is a return or abnormal termination before</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ok, connected to db</span><br><span class="line">Defering the database disconnect.</span><br><span class="line">Doing some DB operations ...</span><br><span class="line">Oops! some crash or network error ...</span><br><span class="line">Returning from function here!</span><br><span class="line">ok, disconnected from db</span><br></pre></td></tr></table></figure><p><strong>ä½¿ç”¨ defer è¯­å¥å®ç°ä»£ç è¿½è¸ª</strong></p><p>ä¸€ä¸ªåŸºç¡€ä½†ååˆ†å®ç”¨çš„å®ç°ä»£ç æ‰§è¡Œè¿½è¸ªçš„æ–¹æ¡ˆå°±æ˜¯åœ¨è¿›å…¥å’Œç¦»å¼€æŸä¸ªå‡½æ•°æ‰“å°ç›¸å…³çš„æ¶ˆæ¯ï¼Œå³å¯ä»¥æç‚¼ä¸ºä¸‹é¢ä¸¤ä¸ªå‡½æ•°ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">trace</span><span class="params">(s <span class="type">string</span>)</span></span> &#123; fmt.Println(<span class="string">&quot;entering:&quot;</span>, s) &#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">untrace</span><span class="params">(s <span class="type">string</span>)</span></span> &#123; fmt.Println(<span class="string">&quot;leaving:&quot;</span>, s) &#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸‹ä»£ç å±•ç¤ºäº†ä½•æ—¶è°ƒç”¨è¿™ä¸¤ä¸ªå‡½æ•°ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">trace</span><span class="params">(s <span class="type">string</span>)</span></span>   &#123; fmt.Println(<span class="string">&quot;entering:&quot;</span>, s) &#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">untrace</span><span class="params">(s <span class="type">string</span>)</span></span> &#123; fmt.Println(<span class="string">&quot;leaving:&quot;</span>, s) &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">a</span><span class="params">()</span></span> &#123;</span><br><span class="line">    trace(<span class="string">&quot;a&quot;</span>)</span><br><span class="line">    <span class="keyword">defer</span> untrace(<span class="string">&quot;a&quot;</span>)</span><br><span class="line">    fmt.Println(<span class="string">&quot;in a&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">b</span><span class="params">()</span></span> &#123;</span><br><span class="line">    trace(<span class="string">&quot;b&quot;</span>)</span><br><span class="line">    <span class="keyword">defer</span> untrace(<span class="string">&quot;b&quot;</span>)</span><br><span class="line">    fmt.Println(<span class="string">&quot;in b&quot;</span>)</span><br><span class="line">    a()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    b()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">entering: b</span><br><span class="line">in b</span><br><span class="line">entering: a</span><br><span class="line">in a</span><br><span class="line">leaving: a</span><br><span class="line">leaving: b</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä»£ç è¿˜å¯ä»¥ä¿®æ”¹ä¸ºæ›´åŠ ç®€ä¾¿çš„ç‰ˆæœ¬</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">trace</span><span class="params">(s <span class="type">string</span>)</span></span> <span class="type">string</span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;entering:&quot;</span>, s)</span><br><span class="line">    <span class="keyword">return</span> s</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">un</span><span class="params">(s <span class="type">string</span>)</span></span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;leaving:&quot;</span>, s)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">a</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">defer</span> un(trace(<span class="string">&quot;a&quot;</span>))</span><br><span class="line">    fmt.Println(<span class="string">&quot;in a&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">b</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">defer</span> un(trace(<span class="string">&quot;b&quot;</span>))</span><br><span class="line">    fmt.Println(<span class="string">&quot;in b&quot;</span>)</span><br><span class="line">    a()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    b()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ä½¿ç”¨ defer è¯­å¥æ¥è®°å½•å‡½æ•°çš„å‚æ•°ä¸è¿”å›å€¼</strong></p><p>ä¸‹é¢çš„ä»£ç å±•ç¤ºäº†å¦ä¸€ç§åœ¨è°ƒè¯•æ—¶ä½¿ç”¨ defer è¯­å¥çš„æ‰‹æ³•ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;io&quot;</span></span><br><span class="line">    <span class="string">&quot;log&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">func1</span><span class="params">(s <span class="type">string</span>)</span></span> (n <span class="type">int</span>, err <span class="type">error</span>) &#123;</span><br><span class="line">    <span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">        log.Printf(<span class="string">&quot;func1(%q) = %d, %v&quot;</span>, s, n, err)</span><br><span class="line">    &#125;()</span><br><span class="line">    <span class="keyword">return</span> <span class="number">7</span>, io.EOF</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    func1(<span class="string">&quot;Go&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Output: 2011/10/04 10:46:11 func1(&quot;Go&quot;) = 7, EOF</span><br></pre></td></tr></table></figure><h1 id="å°†å‡½æ•°ä½œä¸ºå‚æ•°"><a class="markdownIt-Anchor" href="#å°†å‡½æ•°ä½œä¸ºå‚æ•°"></a> å°†å‡½æ•°ä½œä¸ºå‚æ•°</h1><p>å‡½æ•°å¯ä»¥ä½œä¸ºå…¶å®ƒå‡½æ•°çš„å‚æ•°è¿›è¡Œä¼ é€’ï¼Œç„¶ååœ¨å…¶å®ƒå‡½æ•°å†…è°ƒç”¨æ‰§è¡Œï¼Œä¸€èˆ¬ç§°ä¹‹ä¸ºå›è°ƒã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªå°†å‡½æ•°ä½œä¸ºå‚æ•°çš„ç®€å•ä¾‹å­ï¼ˆfunction_parameter.goï¼‰ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    callback(<span class="number">1</span>, Add)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Add</span><span class="params">(a, b <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;The sum of %d and %d is: %d\n&quot;</span>, a, b, a+b)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">callback</span><span class="params">(y <span class="type">int</span>, f <span class="keyword">func</span>(<span class="type">int</span>, <span class="type">int</span>)</span></span>) &#123;</span><br><span class="line">    f(y, <span class="number">2</span>) <span class="comment">// this becomes Add(1, 2)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The sum of 1 and 2 is: 3</span><br></pre></td></tr></table></figure><h1 id="å°†å‡½æ•°ä½œä¸ºè¿”å›å€¼"><a class="markdownIt-Anchor" href="#å°†å‡½æ•°ä½œä¸ºè¿”å›å€¼"></a> å°†å‡½æ•°ä½œä¸ºè¿”å›å€¼</h1><p>åœ¨ç¨‹åº <code>function_return.go</code> ä¸­æˆ‘ä»¬å°†ä¼šçœ‹åˆ°å‡½æ•° Add2 å’Œ Adder å‡ä¼šè¿”å›ç­¾åä¸º <code>func(b int) int</code> çš„å‡½æ•°ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">func Add2() (func(b int) int)</span><br><span class="line">func Adder(a int) (func(b int) int)</span><br></pre></td></tr></table></figure><p>å‡½æ•° Add2 ä¸æ¥å—ä»»ä½•å‚æ•°ï¼Œä½†å‡½æ•° Adder æ¥å—ä¸€ä¸ª int ç±»å‹çš„æ•´æ•°ä½œä¸ºå‚æ•°ã€‚</p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥å°† Adder è¿”å›çš„å‡½æ•°å­˜åˆ°å˜é‡ä¸­ï¼ˆfunction_return.goï¼‰ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import &quot;fmt&quot;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">    // make an Add2 function, give it a name p2, and call it:</span><br><span class="line">    p2 := Add2()</span><br><span class="line">    fmt.Printf(&quot;Call Add2 for 3 gives: %v\n&quot;, p2(3))</span><br><span class="line">    // make a special Adder function, a gets value 2:</span><br><span class="line">    TwoAdder := Adder(2)</span><br><span class="line">    fmt.Printf(&quot;The result is: %v\n&quot;, TwoAdder(3))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func Add2() func(b int) int &#123;</span><br><span class="line">    return func(b int) int &#123;</span><br><span class="line">        return b + 2</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func Adder(a int) func(b int) int &#123;</span><br><span class="line">    return func(b int) int &#123;</span><br><span class="line">        return a + b</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Call Add2 for 3 gives: 5</span><br><span class="line">The result is: 5</span><br></pre></td></tr></table></figure><p>ä¸‹ä¾‹ä¸ºä¸€ä¸ªç•¥å¾®ä¸åŒçš„å®ç°ï¼ˆfunction_closure.goï¼‰ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import &quot;fmt&quot;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">    var f = Adder()</span><br><span class="line">    fmt.Print(f(1), &quot; - &quot;)</span><br><span class="line">    fmt.Print(f(20), &quot; - &quot;)</span><br><span class="line">    fmt.Print(f(300))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func Adder() func(int) int &#123;</span><br><span class="line">    var x int</span><br><span class="line">    return func(delta int) int &#123;</span><br><span class="line">        x += delta</span><br><span class="line">        return x</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‡½æ•° Adder() ç°åœ¨è¢«èµ‹å€¼åˆ°å˜é‡ f ä¸­ï¼ˆç±»å‹ä¸º <code>func(int) int</code>ï¼‰ã€‚</p><p>è¾“å‡ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 - 21 - 321</span><br></pre></td></tr></table></figure><p>ä¸‰æ¬¡è°ƒç”¨å‡½æ•° f çš„è¿‡ç¨‹ä¸­å‡½æ•° Adder() ä¸­å˜é‡ delta çš„å€¼åˆ†åˆ«ä¸ºï¼š1ã€20 å’Œ 300ã€‚</p><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåœ¨å¤šæ¬¡è°ƒç”¨ä¸­ï¼Œå˜é‡ x çš„å€¼æ˜¯è¢«ä¿ç•™çš„ï¼Œå³ <code>0 + 1 = 1</code>ï¼Œç„¶å <code>1 + 20 = 21</code>ï¼Œæœ€å <code>21 + 300 = 321</code>ï¼šé—­åŒ…å‡½æ•°ä¿å­˜å¹¶ç§¯ç´¯å…¶ä¸­çš„å˜é‡çš„å€¼ï¼Œä¸ç®¡å¤–éƒ¨å‡½æ•°é€€å‡ºä¸å¦ï¼Œå®ƒéƒ½èƒ½å¤Ÿç»§ç»­æ“ä½œå¤–éƒ¨å‡½æ•°ä¸­çš„å±€éƒ¨å˜é‡ã€‚</p><p>è¿™äº›å±€éƒ¨å˜é‡åŒæ ·å¯ä»¥æ˜¯å‚æ•°ï¼Œä¾‹å¦‚ä¹‹å‰ä¾‹å­ä¸­çš„ <code>Adder(as int)</code>ã€‚</p><p>è¿™äº›ä¾‹å­æ¸…æ¥šåœ°å±•ç¤ºäº†å¦‚ä½•åœ¨ Go è¯­è¨€ä¸­ä½¿ç”¨é—­åŒ…ã€‚</p><p>åœ¨é—­åŒ…ä¸­ä½¿ç”¨åˆ°çš„å˜é‡å¯ä»¥æ˜¯åœ¨é—­åŒ…å‡½æ•°ä½“å†…å£°æ˜çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯åœ¨å¤–éƒ¨å‡½æ•°å£°æ˜çš„ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var g int</span><br><span class="line">go func(i int) &#123;</span><br><span class="line">    s := 0</span><br><span class="line">    for j := 0; j &lt; i; j++ &#123; s += j &#125;</span><br><span class="line">    g = s</span><br><span class="line">&#125;(1000) // Passes argument 1000 to the function literal.</span><br></pre></td></tr></table></figure><p>è¿™æ ·é—­åŒ…å‡½æ•°å°±èƒ½å¤Ÿè¢«åº”ç”¨åˆ°æ•´ä¸ªé›†åˆçš„å…ƒç´ ä¸Šï¼Œå¹¶ä¿®æ”¹å®ƒä»¬çš„å€¼ã€‚ç„¶åè¿™äº›å˜é‡å°±å¯ä»¥ç”¨äºè¡¨ç¤ºæˆ–è®¡ç®—å…¨å±€æˆ–å¹³å‡å€¼ã€‚</p><h1 id="é€šè¿‡å†…å­˜ç¼“å­˜æ¥æå‡æ€§èƒ½"><a class="markdownIt-Anchor" href="#é€šè¿‡å†…å­˜ç¼“å­˜æ¥æå‡æ€§èƒ½"></a> é€šè¿‡å†…å­˜ç¼“å­˜æ¥æå‡æ€§èƒ½</h1><p>å½“åœ¨è¿›è¡Œå¤§é‡çš„è®¡ç®—æ—¶ï¼Œæå‡æ€§èƒ½æœ€ç›´æ¥æœ‰æ•ˆçš„ä¸€ç§æ–¹å¼å°±æ˜¯é¿å…é‡å¤è®¡ç®—ã€‚é€šè¿‡åœ¨å†…å­˜ä¸­ç¼“å­˜å’Œé‡å¤åˆ©ç”¨ç›¸åŒè®¡ç®—çš„ç»“æœï¼Œç§°ä¹‹ä¸ºå†…å­˜ç¼“å­˜ã€‚æœ€æ˜æ˜¾çš„ä¾‹å­å°±æ˜¯ç”Ÿæˆæ–æ³¢é‚£å¥‘æ•°åˆ—çš„ç¨‹åºï¼ˆè¯¦è§ç¬¬ 6.6 å’Œ 6.11 èŠ‚ï¼‰ï¼š</p><p>è¦è®¡ç®—æ•°åˆ—ä¸­ç¬¬ n ä¸ªæ•°å­—ï¼Œéœ€è¦å…ˆå¾—åˆ°ä¹‹å‰ä¸¤ä¸ªæ•°çš„å€¼ï¼Œä½†å¾ˆæ˜æ˜¾ç»å¤§å¤šæ•°æƒ…å†µä¸‹å‰ä¸¤ä¸ªæ•°çš„å€¼éƒ½æ˜¯å·²ç»è®¡ç®—è¿‡çš„ã€‚å³æ¯ä¸ªæ›´åé¢çš„æ•°éƒ½æ˜¯åŸºäºä¹‹å‰è®¡ç®—ç»“æœçš„é‡å¤è®¡ç®—ã€‚</p><p>è€Œæˆ‘ä»¬è¦åšå°±æ˜¯å°†ç¬¬ n ä¸ªæ•°çš„å€¼å­˜åœ¨æ•°ç»„ä¸­ç´¢å¼•ä¸º n çš„ä½ç½®ï¼ˆè¯¦è§ç¬¬ 7 ç« ï¼‰ï¼Œç„¶ååœ¨æ•°ç»„ä¸­æŸ¥æ‰¾æ˜¯å¦å·²ç»è®¡ç®—è¿‡ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™å†è¿›è¡Œè®¡ç®—ã€‚</p><p>ç¨‹åº Listing 6.17 - fibonacci_memoization.go å°±æ˜¯ä¾ç…§è¿™ä¸ªåŸåˆ™å®ç°çš„ï¼Œä¸‹é¢æ˜¯è®¡ç®—åˆ°ç¬¬ 40 ä½æ•°å­—çš„æ€§èƒ½å¯¹æ¯”ï¼š</p><ul><li>æ™®é€šå†™æ³•ï¼š4.730270 ç§’</li><li>å†…å­˜ç¼“å­˜ï¼š0.001000 ç§’</li></ul><p>å†…å­˜ç¼“å­˜çš„ä¼˜åŠ¿æ˜¾è€Œæ˜“è§ï¼Œè€Œä¸”æ‚¨è¿˜å¯ä»¥å°†å®ƒåº”ç”¨åˆ°å…¶å®ƒç±»å‹çš„è®¡ç®—ä¸­ï¼Œä¾‹å¦‚ä½¿ç”¨ mapï¼ˆè¯¦è§ç¬¬ 7 ç« ï¼‰è€Œä¸æ˜¯æ•°ç»„æˆ–åˆ‡ç‰‡ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">    &quot;fmt&quot;</span><br><span class="line">    &quot;time&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">const LIM = 41</span><br><span class="line"></span><br><span class="line">var fibs [LIM]uint64</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">    var result uint64 = 0</span><br><span class="line">    start := time.Now()</span><br><span class="line">    for i := 0; i &lt; LIM; i++ &#123;</span><br><span class="line">        result = fibonacci(i)</span><br><span class="line">        fmt.Printf(&quot;fibonacci(%d) is: %d\n&quot;, i, result)</span><br><span class="line">    &#125;</span><br><span class="line">    end := time.Now()</span><br><span class="line">    delta := end.Sub(start)</span><br><span class="line">    fmt.Printf(&quot;longCalculation took this amount of time: %s\n&quot;, delta)</span><br><span class="line">&#125;</span><br><span class="line">func fibonacci(n int) (res uint64) &#123;</span><br><span class="line">    // memoization: check if fibonacci(n) is already known in array:</span><br><span class="line">    if fibs[n] != 0 &#123;</span><br><span class="line">        res = fibs[n]</span><br><span class="line">        return</span><br><span class="line">    &#125;</span><br><span class="line">    if n &lt;= 1 &#123;</span><br><span class="line">        res = 1</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        res = fibonacci(n-1) + fibonacci(n-2)</span><br><span class="line">    &#125;</span><br><span class="line">    fibs[n] = res</span><br><span class="line">    return</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å†…å­˜ç¼“å­˜çš„æŠ€æœ¯åœ¨ä½¿ç”¨è®¡ç®—æˆæœ¬ç›¸å¯¹æ˜‚è´µçš„å‡½æ•°æ—¶éå¸¸æœ‰ç”¨ï¼ˆä¸ä»…é™äºä¾‹å­ä¸­çš„é€’å½’ï¼‰ï¼Œè­¬å¦‚å¤§é‡è¿›è¡Œç›¸åŒå‚æ•°çš„è¿ç®—ã€‚è¿™ç§æŠ€æœ¯è¿˜å¯ä»¥åº”ç”¨äºçº¯å‡½æ•°ä¸­ï¼Œå³ç›¸åŒè¾“å…¥å¿…å®šè·å¾—ç›¸åŒè¾“å‡ºçš„å‡½æ•°ã€‚</p><h1 id="å£°æ˜-åˆå§‹åŒ–å’Œ-make"><a class="markdownIt-Anchor" href="#å£°æ˜-åˆå§‹åŒ–å’Œ-make"></a> å£°æ˜ã€åˆå§‹åŒ–å’Œ make</h1><h2 id="æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#æ¦‚å¿µ"></a> æ¦‚å¿µ</h2><p>map æ˜¯å¼•ç”¨ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å£°æ˜ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var map1 map[keytype]valuetype</span><br><span class="line">var map1 map[string]int</span><br></pre></td></tr></table></figure><p>ï¼ˆ<code>[keytype]</code> å’Œ <code>valuetype</code> ä¹‹é—´å…è®¸æœ‰ç©ºæ ¼ï¼Œä½†æ˜¯ gofmt ç§»é™¤äº†ç©ºæ ¼ï¼‰</p><p>åœ¨å£°æ˜çš„æ—¶å€™ä¸éœ€è¦çŸ¥é“ map çš„é•¿åº¦ï¼Œmap æ˜¯å¯ä»¥åŠ¨æ€å¢é•¿çš„ã€‚</p><p>æœªåˆå§‹åŒ–çš„ map çš„å€¼æ˜¯ nilã€‚</p><p>key å¯ä»¥æ˜¯ä»»æ„å¯ä»¥ç”¨ == æˆ–è€… != æ“ä½œç¬¦æ¯”è¾ƒçš„ç±»å‹ï¼Œæ¯”å¦‚ stringã€intã€floatã€‚æ‰€ä»¥æ•°ç»„ã€åˆ‡ç‰‡å’Œç»“æ„ä½“ä¸èƒ½ä½œä¸º key (è¯‘è€…æ³¨ï¼šå«æœ‰æ•°ç»„åˆ‡ç‰‡çš„ç»“æ„ä½“ä¸èƒ½ä½œä¸º keyï¼ŒåªåŒ…å«å†…å»ºç±»å‹çš„ struct æ˜¯å¯ä»¥ä½œä¸º key çš„ï¼‰ï¼Œä½†æ˜¯æŒ‡é’ˆå’Œæ¥å£ç±»å‹å¯ä»¥ã€‚å¦‚æœè¦ç”¨ç»“æ„ä½“ä½œä¸º key å¯ä»¥æä¾› <code>Key()</code> å’Œ <code>Hash()</code> æ–¹æ³•ï¼Œè¿™æ ·å¯ä»¥é€šè¿‡ç»“æ„ä½“çš„åŸŸè®¡ç®—å‡ºå”¯ä¸€çš„æ•°å­—æˆ–è€…å­—ç¬¦ä¸²çš„ keyã€‚</p><p>value å¯ä»¥æ˜¯ä»»æ„ç±»å‹çš„ï¼›é€šè¿‡ä½¿ç”¨ç©ºæ¥å£ç±»å‹ï¼ˆè¯¦è§ç¬¬ 11.9 èŠ‚ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥å­˜å‚¨ä»»æ„å€¼ï¼Œä½†æ˜¯ä½¿ç”¨è¿™ç§ç±»å‹ä½œä¸ºå€¼æ—¶éœ€è¦å…ˆåšä¸€æ¬¡ç±»å‹æ–­è¨€ï¼ˆè¯¦è§ç¬¬ 11.3 èŠ‚ï¼‰ã€‚</p><p>map ä¼ é€’ç»™å‡½æ•°çš„ä»£ä»·å¾ˆå°ï¼šåœ¨ 32 ä½æœºå™¨ä¸Šå  4 ä¸ªå­—èŠ‚ï¼Œ64 ä½æœºå™¨ä¸Šå  8 ä¸ªå­—èŠ‚ï¼Œæ— è®ºå®é™…ä¸Šå­˜å‚¨äº†å¤šå°‘æ•°æ®ã€‚é€šè¿‡ key åœ¨ map ä¸­å¯»æ‰¾å€¼æ˜¯å¾ˆå¿«çš„ï¼Œæ¯”çº¿æ€§æŸ¥æ‰¾å¿«å¾—å¤šï¼Œä½†æ˜¯ä»ç„¶æ¯”ä»æ•°ç»„å’Œåˆ‡ç‰‡çš„ç´¢å¼•ä¸­ç›´æ¥è¯»å–è¦æ…¢ 100 å€ï¼›æ‰€ä»¥å¦‚æœä½ å¾ˆåœ¨ä¹æ€§èƒ½çš„è¯è¿˜æ˜¯å»ºè®®ç”¨åˆ‡ç‰‡æ¥è§£å†³é—®é¢˜ã€‚</p><p>map ä¹Ÿå¯ä»¥ç”¨å‡½æ•°ä½œä¸ºè‡ªå·±çš„å€¼ï¼Œè¿™æ ·å°±å¯ä»¥ç”¨æ¥åšåˆ†æ”¯ç»“æ„ï¼ˆè¯¦è§ç¬¬ 5 ç« ï¼‰ï¼škey ç”¨æ¥é€‰æ‹©è¦æ‰§è¡Œçš„å‡½æ•°ã€‚</p><p>å¦‚æœ key1 æ˜¯ map1 çš„keyï¼Œé‚£ä¹ˆ <code>map1[key1]</code> å°±æ˜¯å¯¹åº” key1 çš„å€¼ï¼Œå°±å¦‚åŒæ•°ç»„ç´¢å¼•ç¬¦å·ä¸€æ ·ï¼ˆæ•°ç»„å¯ä»¥è§†ä¸ºä¸€ç§ç®€å•å½¢å¼çš„ mapï¼Œkey æ˜¯ä» 0 å¼€å§‹çš„æ•´æ•°ï¼‰ã€‚</p><p>key1 å¯¹åº”çš„å€¼å¯ä»¥é€šè¿‡èµ‹å€¼ç¬¦å·æ¥è®¾ç½®ä¸º val1ï¼š<code>map1[key1] = val1</code>ã€‚</p><p>ä»¤ <code>v := map1[key1]</code> å¯ä»¥å°† key1 å¯¹åº”çš„å€¼èµ‹å€¼ç»™ vï¼›å¦‚æœ map ä¸­æ²¡æœ‰ key1 å­˜åœ¨ï¼Œé‚£ä¹ˆ v å°†è¢«èµ‹å€¼ä¸º map1 çš„å€¼ç±»å‹çš„ç©ºå€¼ã€‚</p><p>å¸¸ç”¨çš„ <code>len(map1)</code> æ–¹æ³•å¯ä»¥è·å¾— map ä¸­çš„ pair æ•°ç›®ï¼Œè¿™ä¸ªæ•°ç›®æ˜¯å¯ä»¥ä¼¸ç¼©çš„ï¼Œå› ä¸º map-pairs åœ¨è¿è¡Œæ—¶å¯ä»¥åŠ¨æ€æ·»åŠ å’Œåˆ é™¤ã€‚</p><p>ç¤ºä¾‹ 8.1 <a href="https://github.com/unknwon/the-way-to-go_ZH_CN/blob/master/eBook/examples/chapter_8/make_maps.go">make_maps.go</a></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> mapLit <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span></span><br><span class="line">    <span class="comment">//var mapCreated map[string]float32</span></span><br><span class="line">    <span class="keyword">var</span> mapAssigned <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span></span><br><span class="line"></span><br><span class="line">    mapLit = <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>&#123;<span class="string">&quot;one&quot;</span>: <span class="number">1</span>, <span class="string">&quot;two&quot;</span>: <span class="number">2</span>&#125;</span><br><span class="line">    mapCreated := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">float32</span>)</span><br><span class="line">    mapAssigned = mapLit</span><br><span class="line"></span><br><span class="line">    mapCreated[<span class="string">&quot;key1&quot;</span>] = <span class="number">4.5</span></span><br><span class="line">    mapCreated[<span class="string">&quot;key2&quot;</span>] = <span class="number">3.14159</span></span><br><span class="line">    mapAssigned[<span class="string">&quot;two&quot;</span>] = <span class="number">3</span></span><br><span class="line"></span><br><span class="line">    fmt.Printf(<span class="string">&quot;Map literal at \&quot;one\&quot; is: %d\n&quot;</span>, mapLit[<span class="string">&quot;one&quot;</span>])</span><br><span class="line">    fmt.Printf(<span class="string">&quot;Map created at \&quot;key2\&quot; is: %f\n&quot;</span>, mapCreated[<span class="string">&quot;key2&quot;</span>])</span><br><span class="line">    fmt.Printf(<span class="string">&quot;Map assigned at \&quot;two\&quot; is: %d\n&quot;</span>, mapLit[<span class="string">&quot;two&quot;</span>])</span><br><span class="line">    fmt.Printf(<span class="string">&quot;Map literal at \&quot;ten\&quot; is: %d\n&quot;</span>, mapLit[<span class="string">&quot;ten&quot;</span>])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Map literal at &quot;one&quot; is: 1</span><br><span class="line">Map created at &quot;key2&quot; is: 3.141590</span><br><span class="line">Map assigned at &quot;two&quot; is: 3</span><br><span class="line">Mpa literal at &quot;ten&quot; is: 0</span><br></pre></td></tr></table></figure><p>mapLit è¯´æ˜äº† <code>map literals</code> çš„ä½¿ç”¨æ–¹æ³•ï¼š map å¯ä»¥ç”¨ <code>&#123;key1: val1, key2: val2&#125;</code> çš„æè¿°æ–¹æ³•æ¥åˆå§‹åŒ–ï¼Œå°±åƒæ•°ç»„å’Œç»“æ„ä½“ä¸€æ ·ã€‚</p><p>map æ˜¯ <strong>å¼•ç”¨ç±»å‹</strong> çš„ï¼š å†…å­˜ç”¨ make æ–¹æ³•æ¥åˆ†é…ã€‚</p><p>map çš„åˆå§‹åŒ–ï¼š<code>var map1 = make(map[keytype]valuetype)</code>ã€‚</p><p>æˆ–è€…ç®€å†™ä¸ºï¼š<code>map1 := make(map[keytype]valuetype)</code>ã€‚</p><p>ä¸Šé¢ä¾‹å­ä¸­çš„ mapCreated å°±æ˜¯ç”¨è¿™ç§æ–¹å¼åˆ›å»ºçš„ï¼š<code>mapCreated := make(map[string]float32)</code>ã€‚</p><p>ç›¸å½“äºï¼š<code>mapCreated := map[string]float32&#123;&#125;</code>ã€‚</p><p>mapAssigned ä¹Ÿæ˜¯ mapList çš„å¼•ç”¨ï¼Œå¯¹ mapAssigned çš„ä¿®æ”¹ä¹Ÿä¼šå½±å“åˆ° mapLit çš„å€¼ã€‚</p><p><strong>ä¸è¦ä½¿ç”¨ newï¼Œæ°¸è¿œç”¨ make æ¥æ„é€  map</strong></p><p><strong>æ³¨æ„</strong> å¦‚æœä½ é”™è¯¯çš„ä½¿ç”¨ new() åˆ†é…äº†ä¸€ä¸ªå¼•ç”¨å¯¹è±¡ï¼Œä½ ä¼šè·å¾—ä¸€ä¸ªç©ºå¼•ç”¨çš„æŒ‡é’ˆï¼Œç›¸å½“äºå£°æ˜äº†ä¸€ä¸ªæœªåˆå§‹åŒ–çš„å˜é‡å¹¶ä¸”å–äº†å®ƒçš„åœ°å€ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mapCreated := new(map[string]float32)</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥å½“æˆ‘ä»¬è°ƒç”¨ï¼š<code>mapCreated[&quot;key1&quot;] = 4.5</code> çš„æ—¶å€™ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">invalid operation: mapCreated[&quot;key1&quot;] (index of type *map[string]float32).</span><br></pre></td></tr></table></figure><p>ä¸ºäº†è¯´æ˜å€¼å¯ä»¥æ˜¯ä»»æ„ç±»å‹çš„ï¼Œè¿™é‡Œç»™å‡ºäº†ä¸€ä¸ªä½¿ç”¨ <code>func() int</code> ä½œä¸ºå€¼çš„ mapï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    mf := <span class="keyword">map</span>[<span class="type">int</span>]<span class="function"><span class="keyword">func</span><span class="params">()</span></span> <span class="type">int</span>&#123;</span><br><span class="line">        <span class="number">1</span>: <span class="function"><span class="keyword">func</span><span class="params">()</span></span> <span class="type">int</span> &#123; <span class="keyword">return</span> <span class="number">10</span> &#125;,</span><br><span class="line">        <span class="number">2</span>: <span class="function"><span class="keyword">func</span><span class="params">()</span></span> <span class="type">int</span> &#123; <span class="keyword">return</span> <span class="number">20</span> &#125;,</span><br><span class="line">        <span class="number">5</span>: <span class="function"><span class="keyword">func</span><span class="params">()</span></span> <span class="type">int</span> &#123; <span class="keyword">return</span> <span class="number">50</span> &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(mf)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœä¸ºï¼š<code>map[1:0x10903be0 5:0x10903ba0 2:0x10903bc0]</code>: æ•´å½¢éƒ½è¢«æ˜ å°„åˆ°å‡½æ•°åœ°å€ã€‚</p><h2 id="map-å®¹é‡"><a class="markdownIt-Anchor" href="#map-å®¹é‡"></a> map å®¹é‡</h2><p>å’Œæ•°ç»„ä¸åŒï¼Œmap å¯ä»¥æ ¹æ®æ–°å¢çš„ key-value å¯¹åŠ¨æ€çš„ä¼¸ç¼©ï¼Œå› æ­¤å®ƒä¸å­˜åœ¨å›ºå®šé•¿åº¦æˆ–è€…æœ€å¤§é™åˆ¶ã€‚ä½†æ˜¯ä½ ä¹Ÿå¯ä»¥é€‰æ‹©æ ‡æ˜ map çš„åˆå§‹å®¹é‡ <code>capacity</code>ï¼Œå°±åƒè¿™æ ·ï¼š<code>make(map[keytype]valuetype, cap)</code>ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">map2 := make(map[string]float32, 100)</span><br></pre></td></tr></table></figure><p>å½“ map å¢é•¿åˆ°å®¹é‡ä¸Šé™çš„æ—¶å€™ï¼Œå¦‚æœå†å¢åŠ æ–°çš„ key-value å¯¹ï¼Œmap çš„å¤§å°ä¼šè‡ªåŠ¨åŠ  1ã€‚æ‰€ä»¥å‡ºäºæ€§èƒ½çš„è€ƒè™‘ï¼Œå¯¹äºå¤§çš„ map æˆ–è€…ä¼šå¿«é€Ÿæ‰©å¼ çš„ mapï¼Œå³ä½¿åªæ˜¯å¤§æ¦‚çŸ¥é“å®¹é‡ï¼Œä¹Ÿæœ€å¥½å…ˆæ ‡æ˜ã€‚</p><p>è¿™é‡Œæœ‰ä¸€ä¸ª map çš„å…·ä½“ä¾‹å­ï¼Œå³å°†éŸ³é˜¶å’Œå¯¹åº”çš„éŸ³é¢‘æ˜ å°„èµ·æ¥ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">noteFrequency := map[string]float32 &#123;</span><br><span class="line">    &quot;C0&quot;: 16.35, &quot;D0&quot;: 18.35, &quot;E0&quot;: 20.60, &quot;F0&quot;: 21.83,</span><br><span class="line">    &quot;G0&quot;: 24.50, &quot;A0&quot;: 27.50, &quot;B0&quot;: 30.87, &quot;A4&quot;: 440&#125;</span><br></pre></td></tr></table></figure><h2 id="ç”¨åˆ‡ç‰‡ä½œä¸º-map-çš„å€¼"><a class="markdownIt-Anchor" href="#ç”¨åˆ‡ç‰‡ä½œä¸º-map-çš„å€¼"></a> ç”¨åˆ‡ç‰‡ä½œä¸º map çš„å€¼</h2><p>æ—¢ç„¶ä¸€ä¸ª key åªèƒ½å¯¹åº”ä¸€ä¸ª valueï¼Œè€Œ value åˆæ˜¯ä¸€ä¸ªåŸå§‹ç±»å‹ï¼Œé‚£ä¹ˆå¦‚æœä¸€ä¸ª key è¦å¯¹åº”å¤šä¸ªå€¼æ€ä¹ˆåŠï¼Ÿä¾‹å¦‚ï¼Œå½“æˆ‘ä»¬è¦å¤„ç†unixæœºå™¨ä¸Šçš„æ‰€æœ‰è¿›ç¨‹ï¼Œä»¥çˆ¶è¿›ç¨‹ï¼ˆpid ä¸ºæ•´å½¢ï¼‰ä½œä¸º keyï¼Œæ‰€æœ‰çš„å­è¿›ç¨‹ï¼ˆä»¥æ‰€æœ‰å­è¿›ç¨‹çš„ pid ç»„æˆçš„åˆ‡ç‰‡ï¼‰ä½œä¸º valueã€‚é€šè¿‡å°† value å®šä¹‰ä¸º <code>[]int</code> ç±»å‹æˆ–è€…å…¶ä»–ç±»å‹çš„åˆ‡ç‰‡ï¼Œå°±å¯ä»¥ä¼˜é›…çš„è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p>è¿™é‡Œæœ‰ä¸€äº›å®šä¹‰è¿™ç§ map çš„ä¾‹å­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mp1 := make(map[int][]int)</span><br><span class="line">mp2 := make(map[int]*[]int)</span><br></pre></td></tr></table></figure><h1 id="åˆ‡ç‰‡"><a class="markdownIt-Anchor" href="#åˆ‡ç‰‡"></a> åˆ‡ç‰‡</h1><h2 id="721-æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#721-æ¦‚å¿µ"></a> 7.2.1 æ¦‚å¿µ</h2><p>åˆ‡ç‰‡ï¼ˆsliceï¼‰æ˜¯å¯¹æ•°ç»„ä¸€ä¸ªè¿ç»­ç‰‡æ®µçš„å¼•ç”¨ï¼ˆè¯¥æ•°ç»„æˆ‘ä»¬ç§°ä¹‹ä¸ºç›¸å…³æ•°ç»„ï¼Œé€šå¸¸æ˜¯åŒ¿åçš„ï¼‰ï¼Œæ‰€ä»¥åˆ‡ç‰‡æ˜¯ä¸€ä¸ªå¼•ç”¨ç±»å‹ï¼ˆå› æ­¤æ›´ç±»ä¼¼äº C/C++ ä¸­çš„æ•°ç»„ç±»å‹ï¼Œæˆ–è€… Python ä¸­çš„ list ç±»å‹ï¼‰ã€‚è¿™ä¸ªç‰‡æ®µå¯ä»¥æ˜¯æ•´ä¸ªæ•°ç»„ï¼Œæˆ–è€…æ˜¯ç”±èµ·å§‹å’Œç»ˆæ­¢ç´¢å¼•æ ‡è¯†çš„ä¸€äº›é¡¹çš„å­é›†ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç»ˆæ­¢ç´¢å¼•æ ‡è¯†çš„é¡¹ä¸åŒ…æ‹¬åœ¨åˆ‡ç‰‡å†…ã€‚åˆ‡ç‰‡æä¾›äº†ä¸€ä¸ªç›¸å…³æ•°ç»„çš„åŠ¨æ€çª—å£ã€‚</p><p>åˆ‡ç‰‡æ˜¯å¯ç´¢å¼•çš„ï¼Œå¹¶ä¸”å¯ä»¥ç”± <code>len()</code> å‡½æ•°è·å–é•¿åº¦ã€‚</p><p>ç»™å®šé¡¹çš„åˆ‡ç‰‡ç´¢å¼•å¯èƒ½æ¯”ç›¸å…³æ•°ç»„çš„ç›¸åŒå…ƒç´ çš„ç´¢å¼•å°ã€‚å’Œæ•°ç»„ä¸åŒçš„æ˜¯ï¼Œåˆ‡ç‰‡çš„é•¿åº¦å¯ä»¥åœ¨è¿è¡Œæ—¶ä¿®æ”¹ï¼Œæœ€å°ä¸º 0 æœ€å¤§ä¸ºç›¸å…³æ•°ç»„çš„é•¿åº¦ï¼šåˆ‡ç‰‡æ˜¯ä¸€ä¸ª <strong>é•¿åº¦å¯å˜çš„æ•°ç»„</strong>ã€‚</p><p>åˆ‡ç‰‡æä¾›äº†è®¡ç®—å®¹é‡çš„å‡½æ•° <code>cap()</code> å¯ä»¥æµ‹é‡åˆ‡ç‰‡æœ€é•¿å¯ä»¥è¾¾åˆ°å¤šå°‘ï¼šå®ƒç­‰äºåˆ‡ç‰‡çš„é•¿åº¦ + æ•°ç»„é™¤åˆ‡ç‰‡ä¹‹å¤–çš„é•¿åº¦ã€‚å¦‚æœ s æ˜¯ä¸€ä¸ªåˆ‡ç‰‡ï¼Œ<code>cap(s)</code> å°±æ˜¯ä» <code>s[0]</code> åˆ°æ•°ç»„æœ«å°¾çš„æ•°ç»„é•¿åº¦ã€‚åˆ‡ç‰‡çš„é•¿åº¦æ°¸è¿œä¸ä¼šè¶…è¿‡å®ƒçš„å®¹é‡ï¼Œæ‰€ä»¥å¯¹äº åˆ‡ç‰‡ s æ¥è¯´è¯¥ä¸ç­‰å¼æ°¸è¿œæˆç«‹ï¼š<code>0 &lt;= len(s) &lt;= cap(s)</code>ã€‚</p><p>å¤šä¸ªåˆ‡ç‰‡å¦‚æœè¡¨ç¤ºåŒä¸€ä¸ªæ•°ç»„çš„ç‰‡æ®µï¼Œå®ƒä»¬å¯ä»¥å…±äº«æ•°æ®ï¼›å› æ­¤ä¸€ä¸ªåˆ‡ç‰‡å’Œç›¸å…³æ•°ç»„çš„å…¶ä»–åˆ‡ç‰‡æ˜¯å…±äº«å­˜å‚¨çš„ï¼Œç›¸åï¼Œä¸åŒçš„æ•°ç»„æ€»æ˜¯ä»£è¡¨ä¸åŒçš„å­˜å‚¨ã€‚æ•°ç»„å®é™…ä¸Šæ˜¯åˆ‡ç‰‡çš„æ„å»ºå—ã€‚</p><p><strong>ä¼˜ç‚¹</strong> å› ä¸ºåˆ‡ç‰‡æ˜¯å¼•ç”¨ï¼Œæ‰€ä»¥å®ƒä»¬ä¸éœ€è¦ä½¿ç”¨é¢å¤–çš„å†…å­˜å¹¶ä¸”æ¯”ä½¿ç”¨æ•°ç»„æ›´æœ‰æ•ˆç‡ï¼Œæ‰€ä»¥åœ¨ Go ä»£ç ä¸­ åˆ‡ç‰‡æ¯”æ•°ç»„æ›´å¸¸ç”¨ã€‚</p><p>å£°æ˜åˆ‡ç‰‡çš„æ ¼å¼æ˜¯ï¼š <code>var identifier []type</code>ï¼ˆä¸éœ€è¦è¯´æ˜é•¿åº¦ï¼‰ã€‚</p><p>ä¸€ä¸ªåˆ‡ç‰‡åœ¨æœªåˆå§‹åŒ–ä¹‹å‰é»˜è®¤ä¸º nilï¼Œé•¿åº¦ä¸º 0ã€‚</p><p>åˆ‡ç‰‡çš„åˆå§‹åŒ–æ ¼å¼æ˜¯ï¼š<code>var slice1 []type = arr1[start:end]</code>ã€‚</p><p>è¿™è¡¨ç¤º slice1 æ˜¯ç”±æ•°ç»„ arr1 ä» start ç´¢å¼•åˆ° <code>end-1</code> ç´¢å¼•ä¹‹é—´çš„å…ƒç´ æ„æˆçš„å­é›†ï¼ˆåˆ‡åˆ†æ•°ç»„ï¼Œstart:end è¢«ç§°ä¸º slice è¡¨è¾¾å¼ï¼‰ã€‚æ‰€ä»¥ <code>slice1[0]</code> å°±ç­‰äº <code>arr1[start]</code>ã€‚è¿™å¯ä»¥åœ¨ arr1 è¢«å¡«å……å‰å°±å®šä¹‰å¥½ã€‚</p><p>å¦‚æœæŸä¸ªäººå†™ï¼š<code>var slice1 []type = arr1[:]</code> é‚£ä¹ˆ slice1 å°±ç­‰äºå®Œæ•´çš„ arr1 æ•°ç»„ï¼ˆæ‰€ä»¥è¿™ç§è¡¨ç¤ºæ–¹å¼æ˜¯ <code>arr1[0:len(arr1)]</code> çš„ä¸€ç§ç¼©å†™ï¼‰ã€‚å¦å¤–ä¸€ç§è¡¨è¿°æ–¹å¼æ˜¯ï¼š<code>slice1 = &amp;arr1</code>ã€‚</p><p><code>arr1[2:]</code> å’Œ <code>arr1[2:len(arr1)]</code> ç›¸åŒï¼Œéƒ½åŒ…å«äº†æ•°ç»„ä»ç¬¬ä¸‰ä¸ªåˆ°æœ€åçš„æ‰€æœ‰å…ƒç´ ã€‚</p><p><code>arr1[:3]</code> å’Œ <code>arr1[0:3]</code> ç›¸åŒï¼ŒåŒ…å«äº†ä»ç¬¬ä¸€ä¸ªåˆ°ç¬¬ä¸‰ä¸ªå…ƒç´ ï¼ˆä¸åŒ…æ‹¬ç¬¬å››ä¸ªï¼‰ã€‚</p><p>å¦‚æœä½ æƒ³å»æ‰ slice1 çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œåªè¦ <code>slice1 = slice1[:len(slice1)-1]</code>ã€‚</p><p>ä¸€ä¸ªç”±æ•°å­— 1ã€2ã€3 ç»„æˆçš„åˆ‡ç‰‡å¯ä»¥è¿™ä¹ˆç”Ÿæˆï¼š<code>s := [3]int&#123;1,2,3&#125;[:]</code>(æ³¨: åº”å…ˆç”¨<code>s := [3]int&#123;1, 2, 3&#125;</code>ç”Ÿæˆæ•°ç»„, å†ä½¿ç”¨<code>s[:]</code>è½¬æˆåˆ‡ç‰‡) ç”šè‡³æ›´ç®€å•çš„ <code>s := []int&#123;1,2,3&#125;</code>ã€‚</p><p><code>s2 := s[:]</code> æ˜¯ç”¨åˆ‡ç‰‡ç»„æˆçš„åˆ‡ç‰‡ï¼Œæ‹¥æœ‰ç›¸åŒçš„å…ƒç´ ï¼Œä½†æ˜¯ä»ç„¶æŒ‡å‘ç›¸åŒçš„ç›¸å…³æ•°ç»„ã€‚</p><p>ä¸€ä¸ªåˆ‡ç‰‡ s å¯ä»¥è¿™æ ·æ‰©å±•åˆ°å®ƒçš„å¤§å°ä¸Šé™ï¼š<code>s = s[:cap(s)]</code>ï¼Œå¦‚æœå†æ‰©å¤§çš„è¯å°±ä¼šå¯¼è‡´è¿è¡Œæ—¶é”™è¯¯ï¼ˆå‚è§ç¬¬ 7.7 èŠ‚ï¼‰ã€‚</p><p>å¯¹äºæ¯ä¸€ä¸ªåˆ‡ç‰‡ï¼ˆåŒ…æ‹¬ stringï¼‰ï¼Œä»¥ä¸‹çŠ¶æ€æ€»æ˜¯æˆç«‹çš„ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s == s[:i] + s[i:] // iæ˜¯ä¸€ä¸ªæ•´æ•°ä¸”: 0 &lt;= i &lt;= len(s)</span><br><span class="line">len(s) &lt;= cap(s)</span><br></pre></td></tr></table></figure><p>åˆ‡ç‰‡ä¹Ÿå¯ä»¥ç”¨ç±»ä¼¼æ•°ç»„çš„æ–¹å¼åˆå§‹åŒ–ï¼š<code>var x = []int&#123;2, 3, 5, 7, 11&#125;</code>ã€‚è¿™æ ·å°±åˆ›å»ºäº†ä¸€ä¸ªé•¿åº¦ä¸º 5 çš„æ•°ç»„å¹¶ä¸”åˆ›å»ºäº†ä¸€ä¸ªç›¸å…³åˆ‡ç‰‡ã€‚</p><p>åˆ‡ç‰‡åœ¨å†…å­˜ä¸­çš„ç»„ç»‡æ–¹å¼å®é™…ä¸Šæ˜¯ä¸€ä¸ªæœ‰ 3 ä¸ªåŸŸçš„ç»“æ„ä½“ï¼šæŒ‡å‘ç›¸å…³æ•°ç»„çš„æŒ‡é’ˆï¼Œåˆ‡ç‰‡é•¿åº¦ä»¥åŠåˆ‡ç‰‡å®¹é‡ã€‚ä¸‹å›¾ç»™å‡ºäº†ä¸€ä¸ªé•¿åº¦ä¸º 2ï¼Œå®¹é‡ä¸º 4 çš„åˆ‡ç‰‡yã€‚</p><ul><li><code>y[0] = 3</code> ä¸” <code>y[1] = 5</code>ã€‚</li><li>åˆ‡ç‰‡ <code>y[0:4]</code> ç”± å…ƒç´  3ï¼Œ5ï¼Œ7 å’Œ 11 ç»„æˆã€‚</li></ul><p><a href="https://github.com/unknwon/the-way-to-go_ZH_CN/blob/master/eBook/images/7.2_fig7.2.png?raw=true"><img src="https://github.com/unknwon/the-way-to-go_ZH_CN/raw/master/eBook/images/7.2_fig7.2.png?raw=true" alt="img" /></a></p><p>ç¤ºä¾‹ 7.7 <a href="https://github.com/unknwon/the-way-to-go_ZH_CN/blob/master/eBook/examples/chapter_7/array_slices.go">array_slices.go</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line">import &quot;fmt&quot;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">    var arr1 [6]int</span><br><span class="line">    var slice1 []int = arr1[2:5] // item at index 5 not included!</span><br><span class="line"></span><br><span class="line">    // load the array with integers: 0,1,2,3,4,5</span><br><span class="line">    for i := 0; i &lt; len(arr1); i++ &#123;</span><br><span class="line">        arr1[i] = i</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // print the slice</span><br><span class="line">    for i := 0; i &lt; len(slice1); i++ &#123;</span><br><span class="line">        fmt.Printf(&quot;Slice at %d is %d\n&quot;, i, slice1[i])</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fmt.Printf(&quot;The length of arr1 is %d\n&quot;, len(arr1))</span><br><span class="line">    fmt.Printf(&quot;The length of slice1 is %d\n&quot;, len(slice1))</span><br><span class="line">    fmt.Printf(&quot;The capacity of slice1 is %d\n&quot;, cap(slice1))</span><br><span class="line"></span><br><span class="line">    // grow the slice</span><br><span class="line">    slice1 = slice1[0:4]</span><br><span class="line">    for i := 0; i &lt; len(slice1); i++ &#123;</span><br><span class="line">        fmt.Printf(&quot;Slice at %d is %d\n&quot;, i, slice1[i])</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Printf(&quot;The length of slice1 is %d\n&quot;, len(slice1))</span><br><span class="line">    fmt.Printf(&quot;The capacity of slice1 is %d\n&quot;, cap(slice1))</span><br><span class="line"></span><br><span class="line">    // grow the slice beyond capacity</span><br><span class="line">    //slice1 = slice1[0:7 ] // panic: runtime error: slice bound out of range</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Slice at 0 is 2  </span><br><span class="line">Slice at 1 is 3  </span><br><span class="line">Slice at 2 is 4  </span><br><span class="line">The length of arr1 is 6  </span><br><span class="line">The length of slice1 is 3  </span><br><span class="line">The capacity of slice1 is 4  </span><br><span class="line">Slice at 0 is 2  </span><br><span class="line">Slice at 1 is 3  </span><br><span class="line">Slice at 2 is 4  </span><br><span class="line">Slice at 3 is 5  </span><br><span class="line">The length of slice1 is 4  </span><br><span class="line">The capacity of slice1 is 4  </span><br></pre></td></tr></table></figure><p>å¦‚æœ s2 æ˜¯ä¸€ä¸ª sliceï¼Œä½ å¯ä»¥å°† s2 å‘åç§»åŠ¨ä¸€ä½ <code>s2 = s2[1:]</code>ï¼Œä½†æ˜¯æœ«å°¾æ²¡æœ‰ç§»åŠ¨ã€‚åˆ‡ç‰‡åªèƒ½å‘åç§»åŠ¨ï¼Œ<code>s2 = s2[-1:]</code> ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚åˆ‡ç‰‡ä¸èƒ½è¢«é‡æ–°åˆ†ç‰‡ä»¥è·å–æ•°ç»„çš„å‰ä¸€ä¸ªå…ƒç´ ã€‚</p><p><strong>æ³¨æ„</strong> ç»å¯¹ä¸è¦ç”¨æŒ‡é’ˆæŒ‡å‘ sliceã€‚åˆ‡ç‰‡æœ¬èº«å·²ç»æ˜¯ä¸€ä¸ªå¼•ç”¨ç±»å‹ï¼Œæ‰€ä»¥å®ƒæœ¬èº«å°±æ˜¯ä¸€ä¸ªæŒ‡é’ˆ!!</p><p>é—®é¢˜ 7.2ï¼š ç»™å®šåˆ‡ç‰‡ <code>b:= []byte&#123;'g', 'o', 'l', 'a', 'n', 'g'&#125;</code>ï¼Œé‚£ä¹ˆ <code>b[1:4]</code>ã€<code>b[:2]</code>ã€<code>b[2:]</code> å’Œ <code>b[:]</code> åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</p><h2 id="722-å°†åˆ‡ç‰‡ä¼ é€’ç»™å‡½æ•°"><a class="markdownIt-Anchor" href="#722-å°†åˆ‡ç‰‡ä¼ é€’ç»™å‡½æ•°"></a> 7.2.2 å°†åˆ‡ç‰‡ä¼ é€’ç»™å‡½æ•°</h2><p>å¦‚æœä½ æœ‰ä¸€ä¸ªå‡½æ•°éœ€è¦å¯¹æ•°ç»„åšæ“ä½œï¼Œä½ å¯èƒ½æ€»æ˜¯éœ€è¦æŠŠå‚æ•°å£°æ˜ä¸ºåˆ‡ç‰‡ã€‚å½“ä½ è°ƒç”¨è¯¥å‡½æ•°æ—¶ï¼ŒæŠŠæ•°ç»„åˆ†ç‰‡ï¼Œåˆ›å»ºä¸ºä¸€ä¸ª åˆ‡ç‰‡å¼•ç”¨å¹¶ä¼ é€’ç»™è¯¥å‡½æ•°ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªè®¡ç®—æ•°ç»„å…ƒç´ å’Œçš„æ–¹æ³•:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">func sum(a []int) int &#123;</span><br><span class="line">    s := 0</span><br><span class="line">    for i := 0; i &lt; len(a); i++ &#123;</span><br><span class="line">        s += a[i]</span><br><span class="line">    &#125;</span><br><span class="line">    return s</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">    var arr = [5]int&#123;0, 1, 2, 3, 4&#125;</span><br><span class="line">    sum(arr[:])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="723-ç”¨-make-åˆ›å»ºä¸€ä¸ªåˆ‡ç‰‡"><a class="markdownIt-Anchor" href="#723-ç”¨-make-åˆ›å»ºä¸€ä¸ªåˆ‡ç‰‡"></a> 7.2.3 ç”¨ make() åˆ›å»ºä¸€ä¸ªåˆ‡ç‰‡</h2><p>å½“ç›¸å…³æ•°ç»„è¿˜æ²¡æœ‰å®šä¹‰æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ make() å‡½æ•°æ¥åˆ›å»ºä¸€ä¸ªåˆ‡ç‰‡ åŒæ—¶åˆ›å»ºå¥½ç›¸å…³æ•°ç»„ï¼š<code>var slice1 []type = make([]type, len)</code>ã€‚</p><p>ä¹Ÿå¯ä»¥ç®€å†™ä¸º <code>slice1 := make([]type, len)</code>ï¼Œè¿™é‡Œ <code>len</code> æ˜¯æ•°ç»„çš„é•¿åº¦å¹¶ä¸”ä¹Ÿæ˜¯ <code>slice</code> çš„åˆå§‹é•¿åº¦ã€‚</p><p>æ‰€ä»¥å®šä¹‰ <code>s2 := make([]int, 10)</code>ï¼Œé‚£ä¹ˆ <code>cap(s2) == len(s2) == 10</code>ã€‚</p><p>make æ¥å— 2 ä¸ªå‚æ•°ï¼šå…ƒç´ çš„ç±»å‹ä»¥åŠåˆ‡ç‰‡çš„å…ƒç´ ä¸ªæ•°ã€‚</p><p>å¦‚æœä½ æƒ³åˆ›å»ºä¸€ä¸ª slice1ï¼Œå®ƒä¸å ç”¨æ•´ä¸ªæ•°ç»„ï¼Œè€Œåªæ˜¯å ç”¨ä»¥ len ä¸ºä¸ªæ•°ä¸ªé¡¹ï¼Œé‚£ä¹ˆåªè¦ï¼š<code>slice1 := make([]type, len, cap)</code>ã€‚</p><p>make çš„ä½¿ç”¨æ–¹å¼æ˜¯ï¼š<code>func make([]T, len, cap)</code>ï¼Œå…¶ä¸­ cap æ˜¯å¯é€‰å‚æ•°ã€‚</p><p>æ‰€ä»¥ä¸‹é¢ä¸¤ç§æ–¹æ³•å¯ä»¥ç”Ÿæˆç›¸åŒçš„åˆ‡ç‰‡:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">make([]int, 50, 100)</span><br><span class="line">new([100]int)[0:50]</span><br></pre></td></tr></table></figure><p>ä¸‹å›¾æè¿°äº†ä½¿ç”¨ make æ–¹æ³•ç”Ÿæˆçš„åˆ‡ç‰‡çš„å†…å­˜ç»“æ„ï¼š[<img src="https://github.com/unknwon/the-way-to-go_ZH_CN/raw/master/eBook/images/7.2_fig7.2.1.png?raw=true" alt="img" /></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line">import &quot;fmt&quot;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">    var slice1 []int = make([]int, 10)</span><br><span class="line">    // load the array/slice:</span><br><span class="line">    for i := 0; i &lt; len(slice1); i++ &#123;</span><br><span class="line">        slice1[i] = 5 * i</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // print the slice:</span><br><span class="line">    for i := 0; i &lt; len(slice1); i++ &#123;</span><br><span class="line">        fmt.Printf(&quot;Slice at %d is %d\n&quot;, i, slice1[i])</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Printf(&quot;\nThe length of slice1 is %d\n&quot;, len(slice1))</span><br><span class="line">    fmt.Printf(&quot;The capacity of slice1 is %d\n&quot;, cap(slice1))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Slice at 0 is 0  </span><br><span class="line">Slice at 1 is 5  </span><br><span class="line">Slice at 2 is 10  </span><br><span class="line">Slice at 3 is 15  </span><br><span class="line">Slice at 4 is 20  </span><br><span class="line">Slice at 5 is 25  </span><br><span class="line">Slice at 6 is 30  </span><br><span class="line">Slice at 7 is 35  </span><br><span class="line">Slice at 8 is 40  </span><br><span class="line">Slice at 9 is 45  </span><br><span class="line"></span><br><span class="line">The length of slice1 is 10  </span><br><span class="line">The capacity of slice1 is 10  </span><br></pre></td></tr></table></figure><p>å› ä¸ºå­—ç¬¦ä¸²æ˜¯çº¯ç²¹ä¸å¯å˜çš„å­—èŠ‚æ•°ç»„ï¼Œå®ƒä»¬ä¹Ÿå¯ä»¥è¢«åˆ‡åˆ†æˆ åˆ‡ç‰‡ã€‚</p><p>ç»ƒä¹  7.4ï¼š fobinacci_funcarray.go: ä¸ºç»ƒä¹  7.3 å†™ä¸€ä¸ªæ–°çš„ç‰ˆæœ¬ï¼Œä¸»å‡½æ•°è°ƒç”¨ä¸€ä¸ªä½¿ç”¨åºåˆ—ä¸ªæ•°ä½œä¸ºå‚æ•°çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°è¿”å›ä¸€ä¸ªå¤§å°ä¸ºåºåˆ—ä¸ªæ•°çš„ Fibonacci åˆ‡ç‰‡ã€‚</p><h2 id="724-new-å’Œ-make-çš„åŒºåˆ«"><a class="markdownIt-Anchor" href="#724-new-å’Œ-make-çš„åŒºåˆ«"></a> 7.2.4 new() å’Œ make() çš„åŒºåˆ«</h2><p>çœ‹èµ·æ¥äºŒè€…æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œéƒ½åœ¨å †ä¸Šåˆ†é…å†…å­˜ï¼Œä½†æ˜¯å®ƒä»¬çš„è¡Œä¸ºä¸åŒï¼Œé€‚ç”¨äºä¸åŒçš„ç±»å‹ã€‚</p><ul><li>new(T) ä¸ºæ¯ä¸ªæ–°çš„ç±»å‹Tåˆ†é…ä¸€ç‰‡å†…å­˜ï¼Œåˆå§‹åŒ–ä¸º 0 å¹¶ä¸”è¿”å›ç±»å‹ä¸º*Tçš„å†…å­˜åœ°å€ï¼šè¿™ç§æ–¹æ³• <strong>è¿”å›ä¸€ä¸ªæŒ‡å‘ç±»å‹ä¸º Tï¼Œå€¼ä¸º 0 çš„åœ°å€çš„æŒ‡é’ˆ</strong>ï¼Œå®ƒé€‚ç”¨äºå€¼ç±»å‹å¦‚æ•°ç»„å’Œç»“æ„ä½“ï¼ˆå‚è§ç¬¬ 10 ç« ï¼‰ï¼›å®ƒç›¸å½“äº <code>&amp;T&#123;&#125;</code>ã€‚</li><li>make(T) <strong>è¿”å›ä¸€ä¸ªç±»å‹ä¸º T çš„åˆå§‹å€¼</strong>ï¼Œå®ƒåªé€‚ç”¨äº3ç§å†…å»ºçš„å¼•ç”¨ç±»å‹ï¼šåˆ‡ç‰‡ã€map å’Œ channelï¼ˆå‚è§ç¬¬ 8 ç« ï¼Œç¬¬ 13 ç« ï¼‰ã€‚</li></ul><p>æ¢è¨€ä¹‹ï¼Œnew å‡½æ•°åˆ†é…å†…å­˜ï¼Œmake å‡½æ•°åˆå§‹åŒ–ï¼›ä¸‹å›¾ç»™å‡ºäº†åŒºåˆ«ï¼š</p><p><a href="https://github.com/unknwon/the-way-to-go_ZH_CN/blob/master/eBook/images/7.2_fig7.3.png?raw=true"><img src="https://github.com/unknwon/the-way-to-go_ZH_CN/raw/master/eBook/images/7.2_fig7.3.png?raw=true" alt="img" /></a></p><p>åœ¨å›¾ 7.3 çš„ç¬¬ä¸€å¹…å›¾ä¸­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var p *[]int = new([]int) // *p == nil; with len and cap 0</span><br><span class="line">p := new([]int)</span><br></pre></td></tr></table></figure><p>åœ¨ç¬¬äºŒå¹…å›¾ä¸­ï¼Œ <code>p := make([]int, 0)</code> ï¼Œåˆ‡ç‰‡ å·²ç»è¢«åˆå§‹åŒ–ï¼Œä½†æ˜¯æŒ‡å‘ä¸€ä¸ªç©ºçš„æ•°ç»„ã€‚</p><p>ä»¥ä¸Šä¸¤ç§æ–¹å¼å®ç”¨æ€§éƒ½ä¸é«˜ã€‚ä¸‹é¢çš„æ–¹æ³•ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var v []int = make([]int, 10, 50)</span><br></pre></td></tr></table></figure><p>æˆ–è€…</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">v := make([]int, 10, 50)</span><br></pre></td></tr></table></figure><p>è¿™æ ·åˆ†é…ä¸€ä¸ªæœ‰ 50 ä¸ª int å€¼çš„æ•°ç»„ï¼Œå¹¶ä¸”åˆ›å»ºäº†ä¸€ä¸ªé•¿åº¦ä¸º 10ï¼Œå®¹é‡ä¸º 50 çš„ åˆ‡ç‰‡ vï¼Œè¯¥ åˆ‡ç‰‡ æŒ‡å‘æ•°ç»„çš„å‰ 10 ä¸ªå…ƒç´ ã€‚</p><p><strong>é—®é¢˜ 7.3</strong> ç»™å®š <code>s := make([]byte, 5)</code>ï¼Œlen(s) å’Œ cap(s) åˆ†åˆ«æ˜¯å¤šå°‘ï¼Ÿ<code>s = s[2:4]</code>ï¼Œlen(s) å’Œ cap(s) åˆåˆ†åˆ«æ˜¯å¤šå°‘ï¼Ÿ<br /><strong>é—®é¢˜ 7.4</strong> å‡è®¾ <code>s1 := []byte&#123;'p', 'o', 'e', 'm'&#125;</code> ä¸” <code>s2 := s1[2:]</code>ï¼Œs2 çš„å€¼æ˜¯å¤šå°‘ï¼Ÿå¦‚æœæˆ‘ä»¬æ‰§è¡Œ <code>s2[1] = 't'</code>ï¼Œs1 å’Œ s2 ç°åœ¨çš„å€¼åˆåˆ†åˆ«æ˜¯å¤šå°‘ï¼Ÿ</p><p><em>è¯‘è€…æ³¨ï¼šå¦‚ä½•ç†è§£newã€makeã€sliceã€mapã€channelçš„å…³ç³»</em></p><p><em>1.sliceã€mapä»¥åŠchanneléƒ½æ˜¯golangå†…å»ºçš„ä¸€ç§å¼•ç”¨ç±»å‹ï¼Œä¸‰è€…åœ¨å†…å­˜ä¸­å­˜åœ¨å¤šä¸ªç»„æˆéƒ¨åˆ†ï¼Œ éœ€è¦å¯¹å†…å­˜ç»„æˆéƒ¨åˆ†åˆå§‹åŒ–åæ‰èƒ½ä½¿ç”¨ï¼Œè€Œmakeå°±æ˜¯å¯¹ä¸‰è€…è¿›è¡Œåˆå§‹åŒ–çš„ä¸€ç§æ“ä½œæ–¹å¼</em></p><p><em>2. new è·å–çš„æ˜¯å­˜å‚¨æŒ‡å®šå˜é‡å†…å­˜åœ°å€çš„ä¸€ä¸ªå˜é‡ï¼Œå¯¹äºå˜é‡å†…éƒ¨ç»“æ„å¹¶ä¸ä¼šæ‰§è¡Œç›¸åº”çš„åˆå§‹åŒ–æ“ä½œï¼Œ æ‰€ä»¥sliceã€mapã€channeléœ€è¦makeè¿›è¡Œåˆå§‹åŒ–å¹¶è·å–å¯¹åº”çš„å†…å­˜åœ°å€ï¼Œè€Œénewç®€å•çš„è·å–å†…å­˜åœ°å€</em></p><h2 id="725-å¤šç»´-åˆ‡ç‰‡"><a class="markdownIt-Anchor" href="#725-å¤šç»´-åˆ‡ç‰‡"></a> 7.2.5 å¤šç»´ åˆ‡ç‰‡</h2><p>å’Œæ•°ç»„ä¸€æ ·ï¼Œåˆ‡ç‰‡é€šå¸¸ä¹Ÿæ˜¯ä¸€ç»´çš„ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥ç”±ä¸€ç»´ç»„åˆæˆé«˜ç»´ã€‚é€šè¿‡åˆ†ç‰‡çš„åˆ†ç‰‡ï¼ˆæˆ–è€…åˆ‡ç‰‡çš„æ•°ç»„ï¼‰ï¼Œé•¿åº¦å¯ä»¥ä»»æ„åŠ¨æ€å˜åŒ–ï¼Œæ‰€ä»¥ Go è¯­è¨€çš„å¤šç»´åˆ‡ç‰‡å¯ä»¥ä»»æ„åˆ‡åˆ†ã€‚è€Œä¸”ï¼Œå†…å±‚çš„åˆ‡ç‰‡å¿…é¡»å•ç‹¬åˆ†é…ï¼ˆé€šè¿‡ make å‡½æ•°ï¼‰ã€‚</p><h2 id="726-bytes-åŒ…"><a class="markdownIt-Anchor" href="#726-bytes-åŒ…"></a> 7.2.6 bytes åŒ…</h2><p>ç±»å‹ <code>[]byte</code> çš„åˆ‡ç‰‡ååˆ†å¸¸è§ï¼ŒGo è¯­è¨€æœ‰ä¸€ä¸ª bytes åŒ…ä¸“é—¨ç”¨æ¥è§£å†³è¿™ç§ç±»å‹çš„æ“ä½œæ–¹æ³•ã€‚</p><p>bytes åŒ…å’Œå­—ç¬¦ä¸²åŒ…ååˆ†ç±»ä¼¼ï¼ˆå‚è§ç¬¬ 4.7 èŠ‚ï¼‰ã€‚è€Œä¸”å®ƒè¿˜åŒ…å«ä¸€ä¸ªååˆ†æœ‰ç”¨çš„ç±»å‹ Buffer:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import &quot;bytes&quot;</span><br><span class="line"></span><br><span class="line">type Buffer struct &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯ä¸€ä¸ªé•¿åº¦å¯å˜çš„ bytes çš„ bufferï¼Œæä¾› Read å’Œ Write æ–¹æ³•ï¼Œå› ä¸ºè¯»å†™é•¿åº¦æœªçŸ¥çš„ bytes æœ€å¥½ä½¿ç”¨ bufferã€‚</p><p>Buffer å¯ä»¥è¿™æ ·å®šä¹‰ï¼š<code>var buffer bytes.Buffer</code>ã€‚</p><p>æˆ–è€…ä½¿ç”¨ new è·å¾—ä¸€ä¸ªæŒ‡é’ˆï¼š<code>var r *bytes.Buffer = new(bytes.Buffer)</code>ã€‚</p><p>æˆ–è€…é€šè¿‡å‡½æ•°ï¼š<code>func NewBuffer(buf []byte) *Buffer</code>ï¼Œåˆ›å»ºä¸€ä¸ª Buffer å¯¹è±¡å¹¶ä¸”ç”¨ buf åˆå§‹åŒ–å¥½ï¼›NewBuffer æœ€å¥½ç”¨åœ¨ä» buf è¯»å–çš„æ—¶å€™ä½¿ç”¨ã€‚</p><p><strong>é€šè¿‡ buffer ä¸²è”å­—ç¬¦ä¸²</strong></p><p>ç±»ä¼¼äº Java çš„ StringBuilder ç±»ã€‚</p><p>åœ¨ä¸‹é¢çš„ä»£ç æ®µä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ª bufferï¼Œé€šè¿‡ <code>buffer.WriteString(s)</code> æ–¹æ³•å°†å­—ç¬¦ä¸² s è¿½åŠ åˆ°åé¢ï¼Œæœ€åå†é€šè¿‡ <code>buffer.String()</code> æ–¹æ³•è½¬æ¢ä¸º stringï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var buffer bytes.Buffer</span><br><span class="line">for &#123;</span><br><span class="line">    if s, ok := getNextString(); ok &#123; //method getNextString() not shown here</span><br><span class="line">        buffer.WriteString(s)</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        break</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">fmt.Print(buffer.String(), &quot;\n&quot;)</span><br></pre></td></tr></table></figure><p>è¿™ç§å®ç°æ–¹å¼æ¯”ä½¿ç”¨ <code>+=</code> è¦æ›´èŠ‚çœå†…å­˜å’Œ CPUï¼Œå°¤å…¶æ˜¯è¦ä¸²è”çš„å­—ç¬¦ä¸²æ•°ç›®ç‰¹åˆ«å¤šçš„æ—¶å€™ã€‚</p><h2 id="ä¿®æ”¹å­—ç¬¦ä¸²ä¸­çš„æŸä¸ªå­—ç¬¦"><a class="markdownIt-Anchor" href="#ä¿®æ”¹å­—ç¬¦ä¸²ä¸­çš„æŸä¸ªå­—ç¬¦"></a> ä¿®æ”¹å­—ç¬¦ä¸²ä¸­çš„æŸä¸ªå­—ç¬¦</h2><p>Go è¯­è¨€ä¸­çš„å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ <code>str[index]</code> è¿™æ ·çš„è¡¨è¾¾å¼æ˜¯ä¸å¯ä»¥è¢«æ”¾åœ¨ç­‰å·å·¦ä¾§çš„ã€‚å¦‚æœå°è¯•è¿è¡Œ <code>str[i] = 'D'</code> ä¼šå¾—åˆ°é”™è¯¯ï¼š<code>cannot assign to str[i]</code>ã€‚</p><p>å› æ­¤ï¼Œæ‚¨å¿…é¡»å…ˆå°†å­—ç¬¦ä¸²è½¬æ¢æˆå­—èŠ‚æ•°ç»„ï¼Œç„¶åå†é€šè¿‡ä¿®æ”¹æ•°ç»„ä¸­çš„å…ƒç´ å€¼æ¥è¾¾åˆ°ä¿®æ”¹å­—ç¬¦ä¸²çš„ç›®çš„ï¼Œæœ€åå°†å­—èŠ‚æ•°ç»„è½¬æ¢å›å­—ç¬¦ä¸²æ ¼å¼ã€‚</p><p>ä¾‹å¦‚ï¼Œå°†å­—ç¬¦ä¸² â€œhelloâ€ è½¬æ¢ä¸º â€œcelloâ€ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">s := &quot;hello&quot;</span><br><span class="line">c := []byte(s)</span><br><span class="line">c[0] = &#x27;c&#x27;</span><br><span class="line">s2 := string(c) // s2 == &quot;cello&quot;</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥ï¼Œæ‚¨å¯ä»¥é€šè¿‡æ“ä½œåˆ‡ç‰‡æ¥å®Œæˆå¯¹å­—ç¬¦ä¸²çš„æ“ä½œã€‚</p><h2 id="765-å­—èŠ‚æ•°ç»„å¯¹æ¯”å‡½æ•°"><a class="markdownIt-Anchor" href="#765-å­—èŠ‚æ•°ç»„å¯¹æ¯”å‡½æ•°"></a> 7.6.5 å­—èŠ‚æ•°ç»„å¯¹æ¯”å‡½æ•°</h2><p>ä¸‹é¢çš„ <code>Compare</code> å‡½æ•°ä¼šè¿”å›ä¸¤ä¸ªå­—èŠ‚æ•°ç»„å­—å…¸é¡ºåºçš„æ•´æ•°å¯¹æ¯”ç»“æœï¼Œå³ <code>0 if a == b, -1 if a &lt; b, 1 if a &gt; b</code>ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Compare</span><span class="params">(a, b[]<span class="type">byte</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> i:=<span class="number">0</span>; i &lt; <span class="built_in">len</span>(a) &amp;&amp; i &lt; <span class="built_in">len</span>(b); i++ &#123;</span><br><span class="line">        <span class="keyword">switch</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> a[i] &gt; b[i]:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">        <span class="keyword">case</span> a[i] &lt; b[i]:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ•°ç»„çš„é•¿åº¦å¯èƒ½ä¸åŒ</span></span><br><span class="line">    <span class="keyword">switch</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="built_in">len</span>(a) &lt; <span class="built_in">len</span>(b):</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">    <span class="keyword">case</span> <span class="built_in">len</span>(a) &gt; <span class="built_in">len</span>(b):</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span> <span class="comment">// æ•°ç»„ç›¸ç­‰</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æœç´¢åŠæ’åºåˆ‡ç‰‡å’Œæ•°ç»„"><a class="markdownIt-Anchor" href="#æœç´¢åŠæ’åºåˆ‡ç‰‡å’Œæ•°ç»„"></a> æœç´¢åŠæ’åºåˆ‡ç‰‡å’Œæ•°ç»„</h2><p>æ ‡å‡†åº“æä¾›äº† <code>sort</code> åŒ…æ¥å®ç°å¸¸è§çš„æœç´¢å’Œæ’åºæ“ä½œã€‚æ‚¨å¯ä»¥ä½¿ç”¨ <code>sort</code> åŒ…ä¸­çš„å‡½æ•° <code>func Ints(a []int)</code> æ¥å®ç°å¯¹ int ç±»å‹çš„åˆ‡ç‰‡æ’åºã€‚ä¾‹å¦‚ <code>sort.Ints(arri)</code>ï¼Œå…¶ä¸­å˜é‡ arri å°±æ˜¯éœ€è¦è¢«å‡åºæ’åºçš„æ•°ç»„æˆ–åˆ‡ç‰‡ã€‚ä¸ºäº†æ£€æŸ¥æŸä¸ªæ•°ç»„æ˜¯å¦å·²ç»è¢«æ’åºï¼Œå¯ä»¥é€šè¿‡å‡½æ•° <code>IntsAreSorted(a []int) bool</code> æ¥æ£€æŸ¥ï¼Œå¦‚æœè¿”å› true åˆ™è¡¨ç¤ºå·²ç»è¢«æ’åºã€‚</p><p>ç±»ä¼¼çš„ï¼Œå¯ä»¥ä½¿ç”¨å‡½æ•° <code>func Float64s(a []float64)</code> æ¥æ’åº float64 çš„å…ƒç´ ï¼Œæˆ–ä½¿ç”¨å‡½æ•° <code>func Strings(a []string)</code> æ’åºå­—ç¬¦ä¸²å…ƒç´ ã€‚</p><p>æƒ³è¦åœ¨æ•°ç»„æˆ–åˆ‡ç‰‡ä¸­æœç´¢ä¸€ä¸ªå…ƒç´ ï¼Œè¯¥æ•°ç»„æˆ–åˆ‡ç‰‡å¿…é¡»å…ˆè¢«æ’åºï¼ˆå› ä¸ºæ ‡å‡†åº“çš„æœç´¢ç®—æ³•ä½¿ç”¨çš„æ˜¯äºŒåˆ†æ³•ï¼‰ã€‚ç„¶åï¼Œæ‚¨å°±å¯ä»¥ä½¿ç”¨å‡½æ•° <code>func SearchInts(a []int, n int) int</code> è¿›è¡Œæœç´¢ï¼Œå¹¶è¿”å›å¯¹åº”ç»“æœçš„ç´¢å¼•å€¼ã€‚</p><p>å½“ç„¶ï¼Œè¿˜å¯ä»¥æœç´¢ float64 å’Œå­—ç¬¦ä¸²ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">func SearchFloat64s(a []float64, x float64) int</span><br><span class="line">func SearchStrings(a []string, x string) int</span><br></pre></td></tr></table></figure><p>æ‚¨å¯ä»¥é€šè¿‡æŸ¥çœ‹ <a href="http://golang.org/pkg/sort/">å®˜æ–¹æ–‡æ¡£</a> æ¥è·å–æ›´è¯¦ç»†çš„ä¿¡æ¯ã€‚</p><p>è¿™å°±æ˜¯å¦‚ä½•ä½¿ç”¨ <code>sort</code> åŒ…çš„æ–¹æ³•ï¼Œæˆ‘ä»¬ä¼šåœ¨ç¬¬ 11.6 èŠ‚å¯¹å®ƒçš„ç»†èŠ‚è¿›è¡Œæ·±å…¥ï¼Œå¹¶å®ç°ä¸€ä¸ªå±äºæˆ‘ä»¬è‡ªå·±çš„ç‰ˆæœ¬ã€‚</p><h2 id="append-å‡½æ•°å¸¸è§æ“ä½œ"><a class="markdownIt-Anchor" href="#append-å‡½æ•°å¸¸è§æ“ä½œ"></a> append å‡½æ•°å¸¸è§æ“ä½œ</h2><p>æˆ‘ä»¬åœ¨ç¬¬ 7.5 èŠ‚æåˆ°çš„ append éå¸¸æœ‰ç”¨ï¼Œå®ƒèƒ½å¤Ÿç”¨äºå„ç§æ–¹é¢çš„æ“ä½œï¼š</p><ol><li><p>å°†åˆ‡ç‰‡ b çš„å…ƒç´ è¿½åŠ åˆ°åˆ‡ç‰‡ a ä¹‹åï¼š<code>a = append(a, b...)</code></p></li><li><p>å¤åˆ¶åˆ‡ç‰‡ a çš„å…ƒç´ åˆ°æ–°çš„åˆ‡ç‰‡ b ä¸Šï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">b = make([]T, len(a))</span><br><span class="line">copy(b, a)</span><br></pre></td></tr></table></figure></li><li><p>åˆ é™¤ä½äºç´¢å¼• i çš„å…ƒç´ ï¼š<code>a = append(a[:i], a[i+1:]...)</code></p></li><li><p>åˆ‡é™¤åˆ‡ç‰‡ a ä¸­ä»ç´¢å¼• i è‡³ j ä½ç½®çš„å…ƒç´ ï¼š<code>a = append(a[:i], a[j:]...)</code></p></li><li><p>ä¸ºåˆ‡ç‰‡ a æ‰©å±• j ä¸ªå…ƒç´ é•¿åº¦ï¼š<code>a = append(a, make([]T, j)...)</code></p></li><li><p>åœ¨ç´¢å¼• i çš„ä½ç½®æ’å…¥å…ƒç´  xï¼š<code>a = append(a[:i], append([]T&#123;x&#125;, a[i:]...)...)</code></p></li><li><p>åœ¨ç´¢å¼• i çš„ä½ç½®æ’å…¥é•¿åº¦ä¸º j çš„æ–°åˆ‡ç‰‡ï¼š<code>a = append(a[:i], append(make([]T, j), a[i:]...)...)</code></p></li><li><p>åœ¨ç´¢å¼• i çš„ä½ç½®æ’å…¥åˆ‡ç‰‡ b çš„æ‰€æœ‰å…ƒç´ ï¼š<code>a = append(a[:i], append(b, a[i:]...)...)</code></p></li><li><p>å–å‡ºä½äºåˆ‡ç‰‡ a æœ€æœ«å°¾çš„å…ƒç´  xï¼š<code>x, a = a[len(a)-1], a[:len(a)-1]</code></p></li><li><p>å°†å…ƒç´  x è¿½åŠ åˆ°åˆ‡ç‰‡ aï¼š<code>a = append(a, x)</code></p></li></ol><p>å› æ­¤ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨åˆ‡ç‰‡å’Œ append æ“ä½œæ¥è¡¨ç¤ºä»»æ„å¯å˜é•¿åº¦çš„åºåˆ—ã€‚</p><p>ä»æ•°å­¦çš„è§’åº¦æ¥çœ‹ï¼Œåˆ‡ç‰‡ç›¸å½“äºå‘é‡ï¼Œå¦‚æœéœ€è¦çš„è¯å¯ä»¥å®šä¹‰ä¸€ä¸ªå‘é‡ä½œä¸ºåˆ‡ç‰‡çš„åˆ«åæ¥è¿›è¡Œæ“ä½œã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬æ–‡æˆªé€‰è‡³the way to go ä¸­æ–‡ç‰ˆ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;ä»å­—ç¬¦ä¸²ä¸­è¯»å–å†…å®¹&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#ä»å­—ç¬¦ä¸²ä¸­è¯»å–å†…å®¹&quot;&gt;&lt;/a&gt; ä»å­—ç¬¦ä¸²ä¸­è¯»å–å†…å®¹&lt;/h</summary>
      
    
    
    
    <category term="print*,&quot;hello world!!!&quot;" scheme="https://blog.youmingsama.cn/categories/print-hello-world/"/>
    
    
    <category term="golang" scheme="https://blog.youmingsama.cn/tags/golang/"/>
    
  </entry>
  
  <entry>
    <title>ä»é›¶å¼€å§‹çš„goè¯­è¨€ç”Ÿæ´»</title>
    <link href="https://blog.youmingsama.cn/posts/ce3ef34b/"/>
    <id>https://blog.youmingsama.cn/posts/ce3ef34b/</id>
    <published>2020-04-29T00:00:00.000Z</published>
    <updated>2020-05-04T00:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å˜é‡çš„åˆå§‹åŒ–"><a class="markdownIt-Anchor" href="#å˜é‡çš„åˆå§‹åŒ–"></a> å˜é‡çš„åˆå§‹åŒ–</h2><p>å˜é‡å£°æ˜å¯ä»¥åŒ…å«åˆå§‹å€¼ï¼Œæ¯ä¸ªå˜é‡å¯¹åº”ä¸€ä¸ªã€‚</p><p>å¦‚æœåˆå§‹åŒ–å€¼å·²å­˜åœ¨ï¼Œåˆ™å¯ä»¥çœç•¥ç±»å‹ï¼›å˜é‡ä¼šä»åˆå§‹å€¼ä¸­è·å¾—ç±»å‹ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> i, j  = <span class="number">1</span>, <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> c, python, java  = <span class="literal">true</span>, <span class="literal">false</span>, <span class="string">&quot;no!&quot;</span></span><br><span class="line">    fmt.Println(i, j, c, python, java)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="çŸ­å˜é‡å£°æ˜"><a class="markdownIt-Anchor" href="#çŸ­å˜é‡å£°æ˜"></a> çŸ­å˜é‡å£°æ˜</h2><p>åœ¨å‡½æ•°ä¸­ï¼Œç®€æ´èµ‹å€¼è¯­å¥ <code>:=</code> å¯åœ¨ç±»å‹æ˜ç¡®çš„åœ°æ–¹ä»£æ›¿ <code>var</code> å£°æ˜ã€‚</p><p>å‡½æ•°å¤–çš„æ¯ä¸ªè¯­å¥éƒ½å¿…é¡»ä»¥å…³é”®å­—å¼€å§‹ï¼ˆ<code>var</code>, <code>func</code> ç­‰ç­‰ï¼‰ï¼Œå› æ­¤ <code>:=</code> ç»“æ„ä¸èƒ½åœ¨å‡½æ•°å¤–ä½¿ç”¨ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> i, j <span class="type">int</span> = <span class="number">1</span>, <span class="number">2</span></span><br><span class="line">    k := <span class="number">3</span></span><br><span class="line">    c, python, java := <span class="literal">true</span>, <span class="literal">false</span>, <span class="string">&quot;no!&quot;</span></span><br><span class="line"></span><br><span class="line">    fmt.Println(i, j, k, c, python, java)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="åŸºæœ¬ç±»å‹"><a class="markdownIt-Anchor" href="#åŸºæœ¬ç±»å‹"></a> åŸºæœ¬ç±»å‹</h2><p>Go çš„åŸºæœ¬ç±»å‹æœ‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">bool</span><br><span class="line"></span><br><span class="line">string</span><br><span class="line"></span><br><span class="line">int  int8  int16  int32  int64</span><br><span class="line">uint uint8 uint16 uint32 uint64 uintptr</span><br><span class="line"></span><br><span class="line">byte // uint8 çš„åˆ«å</span><br><span class="line"></span><br><span class="line">rune // int32 çš„åˆ«å</span><br><span class="line">    // è¡¨ç¤ºä¸€ä¸ª Unicode ç ç‚¹</span><br><span class="line"></span><br><span class="line">float32 float64</span><br><span class="line"></span><br><span class="line">complex64 complex128</span><br></pre></td></tr></table></figure><p>æœ¬ä¾‹å±•ç¤ºäº†å‡ ç§ç±»å‹çš„å˜é‡ã€‚ åŒå¯¼å…¥è¯­å¥ä¸€æ ·ï¼Œå˜é‡å£°æ˜ä¹Ÿå¯ä»¥â€œåˆ†ç»„â€æˆä¸€ä¸ªè¯­æ³•å—ã€‚</p><p><code>int</code>, <code>uint</code> å’Œ <code>uintptr</code> åœ¨ 32 ä½ç³»ç»Ÿä¸Šé€šå¸¸ä¸º 32 ä½å®½ï¼Œåœ¨ 64 ä½ç³»ç»Ÿä¸Šåˆ™ä¸º 64 ä½å®½ã€‚ å½“ä½ éœ€è¦ä¸€ä¸ªæ•´æ•°å€¼æ—¶åº”ä½¿ç”¨ <code>int</code> ç±»å‹ï¼Œé™¤éä½ æœ‰ç‰¹æ®Šçš„ç†ç”±ä½¿ç”¨å›ºå®šå¤§å°æˆ–æ— ç¬¦å·çš„æ•´æ•°ç±»å‹ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;math/cmplx&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> (</span><br><span class="line">    ToBe   <span class="type">bool</span>       = <span class="literal">false</span></span><br><span class="line">    MaxInt <span class="type">uint64</span>     = <span class="number">1</span>&lt;&lt;<span class="number">64</span> - <span class="number">1</span></span><br><span class="line">    z      <span class="type">complex128</span> = cmplx.Sqrt(<span class="number">-5</span> + <span class="number">12i</span>)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;Type: %T Value: %v\n&quot;</span>, ToBe, ToBe)</span><br><span class="line">    fmt.Printf(<span class="string">&quot;Type: %T Value: %v\n&quot;</span>, MaxInt, MaxInt)</span><br><span class="line">    fmt.Printf(<span class="string">&quot;Type: %T Value: %v\n&quot;</span>, z, z)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ç±»å‹è½¬æ¢"><a class="markdownIt-Anchor" href="#ç±»å‹è½¬æ¢"></a> ç±»å‹è½¬æ¢</h2><p>è¡¨è¾¾å¼ <code>T(v)</code> å°†å€¼ <code>v</code> è½¬æ¢ä¸ºç±»å‹ <code>T</code>ã€‚</p><p>ä¸€äº›å…³äºæ•°å€¼çš„è½¬æ¢ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var i int = 42</span><br><span class="line">var f float64 = float64(i)</span><br><span class="line">var u uint = uint(f)</span><br></pre></td></tr></table></figure><p>æˆ–è€…ï¼Œæ›´åŠ ç®€å•çš„å½¢å¼ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">i := 42</span><br><span class="line">f := float64(i)</span><br><span class="line">u := uint(f)</span><br></pre></td></tr></table></figure><p>ä¸ C ä¸åŒçš„æ˜¯ï¼ŒGo åœ¨ä¸åŒç±»å‹çš„é¡¹ä¹‹é—´èµ‹å€¼æ—¶éœ€è¦æ˜¾å¼è½¬æ¢ã€‚ç§»é™¤ä¸‹é¢æºä»£ç ä¸­ <code>float64</code> æˆ– <code>uint</code> å°±å°†æŠ¥é”™</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;math&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> x, y <span class="type">int</span> = <span class="number">3</span>, <span class="number">4</span></span><br><span class="line">    <span class="keyword">var</span> f <span class="type">float64</span> = math.Sqrt(<span class="type">float64</span>(x*x + y*y))</span><br><span class="line">    <span class="keyword">var</span> z <span class="type">uint</span> = <span class="type">uint</span>(f)</span><br><span class="line">    fmt.Println(x, y, z)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="defer"><a class="markdownIt-Anchor" href="#defer"></a> defer</h2><p>defer è¯­å¥ä¼šå°†å‡½æ•°æ¨è¿Ÿåˆ°å¤–å±‚å‡½æ•°è¿”å›ä¹‹åæ‰§è¡Œã€‚</p><p>æ¨è¿Ÿè°ƒç”¨çš„å‡½æ•°å…¶å‚æ•°ä¼šç«‹å³æ±‚å€¼ï¼Œä½†ç›´åˆ°å¤–å±‚å‡½æ•°è¿”å›å‰è¯¥å‡½æ•°éƒ½ä¸ä¼šè¢«è°ƒç”¨ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">defer</span> fmt.Println(<span class="string">&quot;world&quot;</span>)</span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="defer-æ ˆ"><a class="markdownIt-Anchor" href="#defer-æ ˆ"></a> defer æ ˆ</h2><p>æ¨è¿Ÿçš„å‡½æ•°è°ƒç”¨ä¼šè¢«å‹å…¥ä¸€ä¸ªæ ˆä¸­ã€‚å½“å¤–å±‚å‡½æ•°è¿”å›æ—¶ï¼Œè¢«æ¨è¿Ÿçš„å‡½æ•°ä¼šæŒ‰ç…§åè¿›å…ˆå‡ºçš„é¡ºåºè°ƒç”¨ã€‚</p><p>æ›´å¤šå…³äº defer è¯­å¥çš„ä¿¡æ¯ï¼Œè¯·é˜…è¯»<a href="http://blog.go-zh.org/defer-panic-and-recover">æ­¤åšæ–‡</a>ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;counting&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">        <span class="keyword">defer</span> fmt.Println(i)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;done&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="æŒ‡é’ˆ"><a class="markdownIt-Anchor" href="#æŒ‡é’ˆ"></a> æŒ‡é’ˆ</h2><p>Go æ‹¥æœ‰æŒ‡é’ˆã€‚æŒ‡é’ˆä¿å­˜äº†å€¼çš„å†…å­˜åœ°å€ã€‚</p><p>ç±»å‹ <code>*T</code> æ˜¯æŒ‡å‘ <code>T</code> ç±»å‹å€¼çš„æŒ‡é’ˆã€‚å…¶é›¶å€¼ä¸º <code>nil</code>ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var p *int</span><br></pre></td></tr></table></figure><p><code>&amp;</code> æ“ä½œç¬¦ä¼šç”Ÿæˆä¸€ä¸ªæŒ‡å‘å…¶æ“ä½œæ•°çš„æŒ‡é’ˆã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">i := 42</span><br><span class="line">p = &amp;i</span><br></pre></td></tr></table></figure><p><code>*</code> æ“ä½œç¬¦è¡¨ç¤ºæŒ‡é’ˆæŒ‡å‘çš„åº•å±‚å€¼ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fmt.Println(*p) // é€šè¿‡æŒ‡é’ˆ p è¯»å– i</span><br><span class="line">*p = 21         // é€šè¿‡æŒ‡é’ˆ p è®¾ç½® i</span><br></pre></td></tr></table></figure><p>è¿™ä¹Ÿå°±æ˜¯é€šå¸¸æ‰€è¯´çš„â€œé—´æ¥å¼•ç”¨â€æˆ–â€œé‡å®šå‘â€ã€‚</p><p>ä¸ C ä¸åŒï¼ŒGo æ²¡æœ‰æŒ‡é’ˆè¿ç®—ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    i, j := <span class="number">42</span>, <span class="number">2701</span></span><br><span class="line"></span><br><span class="line">    p := &amp;i         <span class="comment">// æŒ‡å‘ i</span></span><br><span class="line">    fmt.Println(*p) <span class="comment">// é€šè¿‡æŒ‡é’ˆè¯»å– i çš„å€¼</span></span><br><span class="line">    *p = <span class="number">21</span>         <span class="comment">// é€šè¿‡æŒ‡é’ˆè®¾ç½® i çš„å€¼</span></span><br><span class="line">    fmt.Println(i)  <span class="comment">// æŸ¥çœ‹ i çš„å€¼</span></span><br><span class="line"></span><br><span class="line">    p = &amp;j         <span class="comment">// æŒ‡å‘ j</span></span><br><span class="line">    *p = *p / <span class="number">37</span>   <span class="comment">// é€šè¿‡æŒ‡é’ˆå¯¹ j è¿›è¡Œé™¤æ³•è¿ç®—</span></span><br><span class="line">    fmt.Println(j) <span class="comment">// æŸ¥çœ‹ j çš„å€¼</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="ç»“æ„ä½“æŒ‡é’ˆ"><a class="markdownIt-Anchor" href="#ç»“æ„ä½“æŒ‡é’ˆ"></a> ç»“æ„ä½“æŒ‡é’ˆ</h2><p>ç»“æ„ä½“å­—æ®µå¯ä»¥é€šè¿‡ç»“æ„ä½“æŒ‡é’ˆæ¥è®¿é—®ã€‚</p><p>å¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªæŒ‡å‘ç»“æ„ä½“çš„æŒ‡é’ˆ <code>p</code>ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡ <code>(*p).X</code> æ¥è®¿é—®å…¶å­—æ®µ <code>X</code>ã€‚ä¸è¿‡è¿™ä¹ˆå†™å¤ªå•°å—¦äº†ï¼Œæ‰€ä»¥è¯­è¨€ä¹Ÿå…è®¸æˆ‘ä»¬ä½¿ç”¨éšå¼é—´æ¥å¼•ç”¨ï¼Œç›´æ¥å†™ <code>p.X</code> å°±å¯ä»¥ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Vertex <span class="keyword">struct</span> &#123;</span><br><span class="line">    X <span class="type">int</span></span><br><span class="line">    Y <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    v := Vertex&#123;<span class="number">1</span>, <span class="number">2</span>&#125;</span><br><span class="line">    p := &amp;v</span><br><span class="line">    p.X = <span class="number">1e9</span></span><br><span class="line">    fmt.Println(v.X)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="ç»“æ„ä½“æ–‡æ³•"><a class="markdownIt-Anchor" href="#ç»“æ„ä½“æ–‡æ³•"></a> ç»“æ„ä½“æ–‡æ³•</h2><p>ç»“æ„ä½“æ–‡æ³•é€šè¿‡ç›´æ¥åˆ—å‡ºå­—æ®µçš„å€¼æ¥æ–°åˆ†é…ä¸€ä¸ªç»“æ„ä½“ã€‚</p><p>ä½¿ç”¨ <code>Name:</code> è¯­æ³•å¯ä»¥ä»…åˆ—å‡ºéƒ¨åˆ†å­—æ®µã€‚ï¼ˆå­—æ®µåçš„é¡ºåºæ— å…³ã€‚ï¼‰</p><p>ç‰¹æ®Šçš„å‰ç¼€ <code>&amp;</code> è¿”å›ä¸€ä¸ªæŒ‡å‘ç»“æ„ä½“çš„æŒ‡é’ˆã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Vertex <span class="keyword">struct</span> &#123;</span><br><span class="line">    X, Y <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> (</span><br><span class="line">    v1 = Vertex&#123;<span class="number">1</span>, <span class="number">2</span>&#125;  <span class="comment">// åˆ›å»ºä¸€ä¸ª Vertex ç±»å‹çš„ç»“æ„ä½“</span></span><br><span class="line">    v2 = Vertex&#123;X: <span class="number">1</span>&#125;  <span class="comment">// Y:0 è¢«éšå¼åœ°èµ‹äºˆ</span></span><br><span class="line">    v3 = Vertex&#123;&#125;      <span class="comment">// X:0 Y:0</span></span><br><span class="line">    p  = &amp;Vertex&#123;<span class="number">1</span>, <span class="number">2</span>&#125; <span class="comment">// åˆ›å»ºä¸€ä¸ª *Vertex ç±»å‹çš„ç»“æ„ä½“ï¼ˆæŒ‡é’ˆï¼‰</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Println(v1, p, v2, v3)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç»“æœ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;1 2&#125; &amp;&#123;1 2&#125; &#123;1 0&#125; &#123;0 0&#125;</span><br></pre></td></tr></table></figure><h2 id="æ•°ç»„"><a class="markdownIt-Anchor" href="#æ•°ç»„"></a> æ•°ç»„</h2><p>ç±»å‹ <code>[n]T</code> è¡¨ç¤ºæ‹¥æœ‰ <code>n</code> ä¸ª <code>T</code> ç±»å‹çš„å€¼çš„æ•°ç»„ã€‚</p><p>è¡¨è¾¾å¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var a [10]int</span><br></pre></td></tr></table></figure><p>ä¼šå°†å˜é‡ <code>a</code> å£°æ˜ä¸ºæ‹¥æœ‰ 10 ä¸ªæ•´æ•°çš„æ•°ç»„ã€‚</p><p>æ•°ç»„çš„é•¿åº¦æ˜¯å…¶ç±»å‹çš„ä¸€éƒ¨åˆ†ï¼Œå› æ­¤æ•°ç»„ä¸èƒ½æ”¹å˜å¤§å°ã€‚è¿™çœ‹èµ·æ¥æ˜¯ä¸ªé™åˆ¶ï¼Œä¸è¿‡æ²¡å…³ç³»ï¼ŒGo æä¾›äº†æ›´åŠ ä¾¿åˆ©çš„æ–¹å¼æ¥ä½¿ç”¨æ•°ç»„ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> a [<span class="number">2</span>]<span class="type">string</span></span><br><span class="line">    a[<span class="number">0</span>] = <span class="string">&quot;Hello&quot;</span></span><br><span class="line">    a[<span class="number">1</span>] = <span class="string">&quot;World&quot;</span></span><br><span class="line">    fmt.Println(a[<span class="number">0</span>], a[<span class="number">1</span>])</span><br><span class="line">    fmt.Println(a)</span><br><span class="line"></span><br><span class="line">    primes := [<span class="number">6</span>]<span class="type">int</span>&#123;<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">13</span>&#125;</span><br><span class="line">    fmt.Println(primes)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç»“æœ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Hello World</span><br><span class="line">[Hello World]</span><br><span class="line">[2 3 5 7 11 13]</span><br></pre></td></tr></table></figure><h2 id="åˆ‡ç‰‡"><a class="markdownIt-Anchor" href="#åˆ‡ç‰‡"></a> åˆ‡ç‰‡</h2><p>æ¯ä¸ªæ•°ç»„çš„å¤§å°éƒ½æ˜¯å›ºå®šçš„ã€‚è€Œåˆ‡ç‰‡åˆ™ä¸ºæ•°ç»„å…ƒç´ æä¾›åŠ¨æ€å¤§å°çš„ã€çµæ´»çš„è§†è§’ã€‚åœ¨å®è·µä¸­ï¼Œåˆ‡ç‰‡æ¯”æ•°ç»„æ›´å¸¸ç”¨ã€‚</p><p>ç±»å‹ <code>[]T</code> è¡¨ç¤ºä¸€ä¸ªå…ƒç´ ç±»å‹ä¸º <code>T</code> çš„åˆ‡ç‰‡ã€‚</p><p>åˆ‡ç‰‡é€šè¿‡ä¸¤ä¸ªä¸‹æ ‡æ¥ç•Œå®šï¼Œå³ä¸€ä¸ªä¸Šç•Œå’Œä¸€ä¸ªä¸‹ç•Œï¼ŒäºŒè€…ä»¥å†’å·åˆ†éš”ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a[low : high]</span><br></pre></td></tr></table></figure><p>å®ƒä¼šé€‰æ‹©ä¸€ä¸ªåŠå¼€åŒºé—´ï¼ŒåŒ…æ‹¬ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œä½†æ’é™¤æœ€åä¸€ä¸ªå…ƒç´ ã€‚</p><p>ä»¥ä¸‹è¡¨è¾¾å¼åˆ›å»ºäº†ä¸€ä¸ªåˆ‡ç‰‡ï¼Œå®ƒåŒ…å« <code>a</code> ä¸­ä¸‹æ ‡ä» 1 åˆ° 3 çš„å…ƒç´ ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a[1:4]</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    primes := [<span class="number">6</span>]<span class="type">int</span>&#123;<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">13</span>&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> s []<span class="type">int</span> = primes[<span class="number">1</span>:<span class="number">4</span>]</span><br><span class="line">    fmt.Println(s)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="åˆ‡ç‰‡å°±åƒæ•°ç»„çš„å¼•ç”¨"><a class="markdownIt-Anchor" href="#åˆ‡ç‰‡å°±åƒæ•°ç»„çš„å¼•ç”¨"></a> åˆ‡ç‰‡å°±åƒæ•°ç»„çš„å¼•ç”¨</h2><p>åˆ‡ç‰‡å¹¶ä¸å­˜å‚¨ä»»ä½•æ•°æ®ï¼Œå®ƒåªæ˜¯æè¿°äº†åº•å±‚æ•°ç»„ä¸­çš„ä¸€æ®µã€‚</p><p>æ›´æ”¹åˆ‡ç‰‡çš„å…ƒç´ ä¼šä¿®æ”¹å…¶åº•å±‚æ•°ç»„ä¸­å¯¹åº”çš„å…ƒç´ ã€‚</p><p>ä¸å®ƒå…±äº«åº•å±‚æ•°ç»„çš„åˆ‡ç‰‡éƒ½ä¼šè§‚æµ‹åˆ°è¿™äº›ä¿®æ”¹ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    names := [<span class="number">4</span>]<span class="type">string</span>&#123;</span><br><span class="line">        <span class="string">&quot;John&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Paul&quot;</span>,</span><br><span class="line">        <span class="string">&quot;George&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Ringo&quot;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(names)</span><br><span class="line"></span><br><span class="line">    a := names[<span class="number">0</span>:<span class="number">2</span>]</span><br><span class="line">    b := names[<span class="number">1</span>:<span class="number">3</span>]</span><br><span class="line">    fmt.Println(a, b)</span><br><span class="line"></span><br><span class="line">    b[<span class="number">0</span>] = <span class="string">&quot;XXX&quot;</span></span><br><span class="line">    fmt.Println(a, b)</span><br><span class="line">    fmt.Println(names)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç»“æœ</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[John Paul George Ringo]</span><br><span class="line">[John Paul] [Paul George]</span><br><span class="line">[John XXX] [XXX George]</span><br><span class="line">[John XXX George Ringo]</span><br></pre></td></tr></table></figure><h2 id="åˆ‡ç‰‡çš„é»˜è®¤è¡Œä¸º"><a class="markdownIt-Anchor" href="#åˆ‡ç‰‡çš„é»˜è®¤è¡Œä¸º"></a> åˆ‡ç‰‡çš„é»˜è®¤è¡Œä¸º</h2><p>åœ¨è¿›è¡Œåˆ‡ç‰‡æ—¶ï¼Œä½ å¯ä»¥åˆ©ç”¨å®ƒçš„é»˜è®¤è¡Œä¸ºæ¥å¿½ç•¥ä¸Šä¸‹ç•Œã€‚</p><p>åˆ‡ç‰‡ä¸‹ç•Œçš„é»˜è®¤å€¼ä¸º <code>0</code>ï¼Œä¸Šç•Œåˆ™æ˜¯è¯¥åˆ‡ç‰‡çš„é•¿åº¦ã€‚</p><p>å¯¹äºæ•°ç»„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var a [10]int</span><br></pre></td></tr></table></figure><p>æ¥è¯´ï¼Œä»¥ä¸‹åˆ‡ç‰‡æ˜¯ç­‰ä»·çš„ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a[0:10]</span><br><span class="line">a[:10]</span><br><span class="line">a[0:]</span><br><span class="line">a[:]</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import &quot;fmt&quot;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">    s := []int&#123;2, 3, 5, 7, 11, 13&#125;</span><br><span class="line"></span><br><span class="line">    s = s[1:4]</span><br><span class="line">    fmt.Println(s)</span><br><span class="line"></span><br><span class="line">    s = s[:2]</span><br><span class="line">    fmt.Println(s)</span><br><span class="line"></span><br><span class="line">    s = s[1:]</span><br><span class="line">    fmt.Println(s)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç»“æœ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[3 5 7]</span><br><span class="line">[3 5]</span><br><span class="line">[5]</span><br></pre></td></tr></table></figure><h2 id="åˆ‡ç‰‡çš„é•¿åº¦ä¸å®¹é‡"><a class="markdownIt-Anchor" href="#åˆ‡ç‰‡çš„é•¿åº¦ä¸å®¹é‡"></a> åˆ‡ç‰‡çš„é•¿åº¦ä¸å®¹é‡</h2><p>åˆ‡ç‰‡æ‹¥æœ‰ <strong>é•¿åº¦</strong> å’Œ <strong>å®¹é‡</strong>ã€‚</p><p>åˆ‡ç‰‡çš„é•¿åº¦å°±æ˜¯å®ƒæ‰€åŒ…å«çš„å…ƒç´ ä¸ªæ•°ã€‚</p><p>åˆ‡ç‰‡çš„å®¹é‡æ˜¯ä»å®ƒçš„ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹æ•°ï¼Œåˆ°å…¶åº•å±‚æ•°ç»„å…ƒç´ æœ«å°¾çš„ä¸ªæ•°ã€‚</p><p>åˆ‡ç‰‡ <code>s</code> çš„é•¿åº¦å’Œå®¹é‡å¯é€šè¿‡è¡¨è¾¾å¼ <code>len(s)</code> å’Œ <code>cap(s)</code> æ¥è·å–ã€‚</p><p>ä½ å¯ä»¥é€šè¿‡é‡æ–°åˆ‡ç‰‡æ¥æ‰©å±•ä¸€ä¸ªåˆ‡ç‰‡ï¼Œç»™å®ƒæä¾›è¶³å¤Ÿçš„å®¹é‡ã€‚è¯•ç€ä¿®æ”¹ç¤ºä¾‹ç¨‹åºä¸­çš„åˆ‡ç‰‡æ“ä½œï¼Œå‘å¤–æ‰©å±•å®ƒçš„å®¹é‡ï¼Œçœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    s := []<span class="type">int</span>&#123;<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">13</span>&#125;</span><br><span class="line">    printSlice(s)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æˆªå–åˆ‡ç‰‡ä½¿å…¶é•¿åº¦ä¸º 0</span></span><br><span class="line">    s = s[:<span class="number">0</span>]</span><br><span class="line">    printSlice(s)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‹“å±•å…¶é•¿åº¦</span></span><br><span class="line">    s = s[:<span class="number">4</span>]</span><br><span class="line">    printSlice(s)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// èˆå¼ƒå‰ä¸¤ä¸ªå€¼</span></span><br><span class="line">    s = s[<span class="number">2</span>:]</span><br><span class="line">    printSlice(s)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">printSlice</span><span class="params">(s []<span class="type">int</span>)</span></span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;len=%d cap=%d %v\n&quot;</span>, <span class="built_in">len</span>(s), <span class="built_in">cap</span>(s), s)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">len=6 cap=6 [2 3 5 7 11 13]</span><br><span class="line">len=0 cap=6 []</span><br><span class="line">len=4 cap=6 [2 3 5 7]</span><br><span class="line">len=2 cap=4 [5 7]</span><br></pre></td></tr></table></figure><h2 id="nil-åˆ‡ç‰‡"><a class="markdownIt-Anchor" href="#nil-åˆ‡ç‰‡"></a> nil åˆ‡ç‰‡</h2><p>åˆ‡ç‰‡çš„é›¶å€¼æ˜¯ <code>nil</code>ã€‚</p><p>nil åˆ‡ç‰‡çš„é•¿åº¦å’Œå®¹é‡ä¸º 0 ä¸”æ²¡</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> s []<span class="type">int</span></span><br><span class="line">    fmt.Println(s, <span class="built_in">len</span>(s), <span class="built_in">cap</span>(s))</span><br><span class="line">    <span class="keyword">if</span> s == <span class="literal">nil</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;nil!&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[] <span class="number">0</span> <span class="number">0</span></span><br><span class="line"><span class="literal">nil</span>!</span><br></pre></td></tr></table></figure><h2 id="ç”¨-make-åˆ›å»ºåˆ‡ç‰‡"><a class="markdownIt-Anchor" href="#ç”¨-make-åˆ›å»ºåˆ‡ç‰‡"></a> ç”¨ make åˆ›å»ºåˆ‡ç‰‡</h2><p>åˆ‡ç‰‡å¯ä»¥ç”¨å†…å»ºå‡½æ•° <code>make</code> æ¥åˆ›å»ºï¼Œè¿™ä¹Ÿæ˜¯ä½ åˆ›å»ºåŠ¨æ€æ•°ç»„çš„æ–¹å¼ã€‚</p><p><code>make</code> å‡½æ•°ä¼šåˆ†é…ä¸€ä¸ªå…ƒç´ ä¸ºé›¶å€¼çš„æ•°ç»„å¹¶è¿”å›ä¸€ä¸ªå¼•ç”¨äº†å®ƒçš„åˆ‡ç‰‡ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a := make([]int, 5)  // len(a)=5</span><br></pre></td></tr></table></figure><p>è¦æŒ‡å®šå®ƒçš„å®¹é‡ï¼Œéœ€å‘ <code>make</code> ä¼ å…¥ç¬¬ä¸‰ä¸ªå‚æ•°ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">b := make([]int, 0, 5) // len(b)=0, cap(b)=5</span><br><span class="line"></span><br><span class="line">b = b[:cap(b)] // len(b)=5, cap(b)=5</span><br><span class="line">b = b[1:]      // len(b)=4, cap(b)=</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    a := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">5</span>)</span><br><span class="line">    printSlice(<span class="string">&quot;a&quot;</span>, a)</span><br><span class="line"></span><br><span class="line">    b := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">0</span>, <span class="number">5</span>)</span><br><span class="line">    printSlice(<span class="string">&quot;b&quot;</span>, b)</span><br><span class="line"></span><br><span class="line">    c := b[:<span class="number">2</span>]</span><br><span class="line">    printSlice(<span class="string">&quot;c&quot;</span>, c)</span><br><span class="line"></span><br><span class="line">    d := c[<span class="number">2</span>:<span class="number">5</span>]</span><br><span class="line">    printSlice(<span class="string">&quot;d&quot;</span>, d)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">printSlice</span><span class="params">(s <span class="type">string</span>, x []<span class="type">int</span>)</span></span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;%s len=%d cap=%d %v\n&quot;</span>,</span><br><span class="line">        s, <span class="built_in">len</span>(x), <span class="built_in">cap</span>(x), x)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a len=5 cap=5 [0 0 0 0 0]</span><br><span class="line">b len=0 cap=5 []</span><br><span class="line">c len=2 cap=5 [0 0]</span><br><span class="line">d len=3 cap=3 [</span><br></pre></td></tr></table></figure><h2 id="å‘åˆ‡ç‰‡è¿½åŠ å…ƒç´ "><a class="markdownIt-Anchor" href="#å‘åˆ‡ç‰‡è¿½åŠ å…ƒç´ "></a> å‘åˆ‡ç‰‡è¿½åŠ å…ƒç´ </h2><p>ä¸ºåˆ‡ç‰‡è¿½åŠ æ–°çš„å…ƒç´ æ˜¯ç§å¸¸ç”¨çš„æ“ä½œï¼Œä¸ºæ­¤ Go æä¾›äº†å†…å»ºçš„ <code>append</code> å‡½æ•°ã€‚å†…å»ºå‡½æ•°çš„<a href="https://go-zh.org/pkg/builtin/#append">æ–‡æ¡£</a>å¯¹æ­¤å‡½æ•°æœ‰è¯¦ç»†çš„ä»‹ç»ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">func append(s []T, vs ...T) []T</span><br></pre></td></tr></table></figure><p><code>append</code> çš„ç¬¬ä¸€ä¸ªå‚æ•° <code>s</code> æ˜¯ä¸€ä¸ªå…ƒç´ ç±»å‹ä¸º <code>T</code> çš„åˆ‡ç‰‡ï¼Œå…¶ä½™ç±»å‹ä¸º <code>T</code> çš„å€¼å°†ä¼šè¿½åŠ åˆ°è¯¥åˆ‡ç‰‡çš„æœ«å°¾ã€‚</p><p><code>append</code> çš„ç»“æœæ˜¯ä¸€ä¸ªåŒ…å«åŸåˆ‡ç‰‡æ‰€æœ‰å…ƒç´ åŠ ä¸Šæ–°æ·»åŠ å…ƒç´ çš„åˆ‡ç‰‡ã€‚</p><p>å½“ <code>s</code> çš„åº•å±‚æ•°ç»„å¤ªå°ï¼Œä¸è¶³ä»¥å®¹çº³æ‰€æœ‰ç»™å®šçš„å€¼æ—¶ï¼Œå®ƒå°±ä¼šåˆ†é…ä¸€ä¸ªæ›´å¤§çš„æ•°ç»„ã€‚è¿”å›çš„åˆ‡ç‰‡ä¼šæŒ‡å‘è¿™ä¸ªæ–°åˆ†é…çš„æ•°ç»„ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> s []<span class="type">int</span></span><br><span class="line">    printSlice(s)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ·»åŠ ä¸€ä¸ªç©ºåˆ‡ç‰‡</span></span><br><span class="line">    s = <span class="built_in">append</span>(s, <span class="number">0</span>)</span><br><span class="line">    printSlice(s)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿™ä¸ªåˆ‡ç‰‡ä¼šæŒ‰éœ€å¢é•¿</span></span><br><span class="line">    s = <span class="built_in">append</span>(s, <span class="number">1</span>)</span><br><span class="line">    printSlice(s)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¯ä»¥ä¸€æ¬¡æ€§æ·»åŠ å¤šä¸ªå…ƒç´ </span></span><br><span class="line">    s = <span class="built_in">append</span>(s, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">    printSlice(s)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">printSlice</span><span class="params">(s []<span class="type">int</span>)</span></span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;len=%d cap=%d %v\n&quot;</span>, <span class="built_in">len</span>(s), <span class="built_in">cap</span>(s), s)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">len=0 cap=0 []</span><br><span class="line">len=1 cap=1 [0]</span><br><span class="line">len=2 cap=2 [0 1]</span><br><span class="line">len=5 cap=6 [0 1 2 3 4]</span><br></pre></td></tr></table></figure><h2 id="range"><a class="markdownIt-Anchor" href="#range"></a> Range</h2><p><code>for</code> å¾ªç¯çš„ <code>range</code> å½¢å¼å¯éå†åˆ‡ç‰‡æˆ–æ˜ å°„ã€‚</p><p>å½“ä½¿ç”¨ <code>for</code> å¾ªç¯éå†åˆ‡ç‰‡æ—¶ï¼Œæ¯æ¬¡è¿­ä»£éƒ½ä¼šè¿”å›ä¸¤ä¸ªå€¼ã€‚ç¬¬ä¸€ä¸ªå€¼ä¸ºå½“å‰å…ƒç´ çš„ä¸‹æ ‡ï¼Œç¬¬äºŒä¸ªå€¼ä¸ºè¯¥ä¸‹æ ‡æ‰€å¯¹åº”å…ƒç´ çš„ä¸€ä»½å‰¯æœ¬ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> pow = []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">16</span>, <span class="number">32</span>, <span class="number">64</span>, <span class="number">128</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> i, v := <span class="keyword">range</span> pow &#123;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;2**%d = %d\n&quot;</span>, i, v)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">2**0 = 1</span><br><span class="line">2**1 = 2</span><br><span class="line">2**2 = 4</span><br><span class="line">2**3 = 8</span><br><span class="line">2**4 = 16</span><br><span class="line">2**5 = 32</span><br><span class="line">2**6 = 64</span><br><span class="line">2**7 = 128</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="æ˜ å°„"><a class="markdownIt-Anchor" href="#æ˜ å°„"></a> æ˜ å°„</h2><p>æ˜ å°„å°†é”®æ˜ å°„åˆ°å€¼ã€‚</p><p>æ˜ å°„çš„é›¶å€¼ä¸º <code>nil</code> ã€‚<code>nil</code> æ˜ å°„æ—¢æ²¡æœ‰é”®ï¼Œä¹Ÿä¸èƒ½æ·»åŠ é”®ã€‚</p><p><code>make</code> å‡½æ•°ä¼šè¿”å›ç»™å®šç±»å‹çš„æ˜ å°„ï¼Œå¹¶å°†å…¶åˆå§‹åŒ–å¤‡ç”¨ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Vertex <span class="keyword">struct</span> &#123;</span><br><span class="line">    Lat, Long <span class="type">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> m <span class="keyword">map</span>[<span class="type">string</span>]Vertex</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    m = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]Vertex)</span><br><span class="line">    m[<span class="string">&quot;Bell Labs&quot;</span>] = Vertex&#123;</span><br><span class="line">        <span class="number">40.68433</span>, <span class="number">-74.39967</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(m[<span class="string">&quot;Bell Labs&quot;</span>])</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;40.68433 -74.39967&#125;</span><br></pre></td></tr></table></figure><h2 id="æ˜ å°„çš„æ–‡æ³•"><a class="markdownIt-Anchor" href="#æ˜ å°„çš„æ–‡æ³•"></a> æ˜ å°„çš„æ–‡æ³•</h2><p>æ˜ å°„çš„æ–‡æ³•ä¸ç»“æ„ä½“ç›¸ä¼¼ï¼Œä¸è¿‡å¿…é¡»æœ‰é”®åã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Vertex <span class="keyword">struct</span> &#123;</span><br><span class="line">    Lat, Long <span class="type">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> m = <span class="keyword">map</span>[<span class="type">string</span>]Vertex&#123;</span><br><span class="line">    <span class="string">&quot;Bell Labs&quot;</span>: Vertex&#123;</span><br><span class="line">        <span class="number">40.68433</span>, <span class="number">-74.39967</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&quot;Google&quot;</span>: Vertex&#123;</span><br><span class="line">        <span class="number">37.42202</span>, <span class="number">-122.08408</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Println(m)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">map[Bell Labs:&#123;40.68433 -74.39967&#125; Google:&#123;37.42202 -122.08408&#125;]</span><br></pre></td></tr></table></figure><h2 id="æ˜ å°„çš„æ–‡æ³•ç»­"><a class="markdownIt-Anchor" href="#æ˜ å°„çš„æ–‡æ³•ç»­"></a> æ˜ å°„çš„æ–‡æ³•ï¼ˆç»­ï¼‰</h2><p>è‹¥é¡¶çº§ç±»å‹åªæ˜¯ä¸€ä¸ªç±»å‹åï¼Œä½ å¯ä»¥åœ¨æ–‡æ³•çš„å…ƒç´ ä¸­çœç•¥å®ƒã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Vertex <span class="keyword">struct</span> &#123;</span><br><span class="line">    Lat, Long <span class="type">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> m = <span class="keyword">map</span>[<span class="type">string</span>]Vertex&#123;</span><br><span class="line">    <span class="string">&quot;Bell Labs&quot;</span>: &#123;<span class="number">40.68433</span>, <span class="number">-74.39967</span>&#125;,</span><br><span class="line">    <span class="string">&quot;Google&quot;</span>:    &#123;<span class="number">37.42202</span>, <span class="number">-122.08408</span>&#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Println(m)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="ä¿®æ”¹æ˜ å°„"><a class="markdownIt-Anchor" href="#ä¿®æ”¹æ˜ å°„"></a> ä¿®æ”¹æ˜ å°„</h2><p>åœ¨æ˜ å°„ <code>m</code> ä¸­æ’å…¥æˆ–ä¿®æ”¹å…ƒç´ ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">m[key] = elem</span><br></pre></td></tr></table></figure><p>è·å–å…ƒç´ ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">elem = m[key]</span><br></pre></td></tr></table></figure><p>åˆ é™¤å…ƒç´ ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">delete(m, key)</span><br></pre></td></tr></table></figure><p>é€šè¿‡åŒèµ‹å€¼æ£€æµ‹æŸä¸ªé”®æ˜¯å¦å­˜åœ¨ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">elem, ok = m[key]</span><br></pre></td></tr></table></figure><p>è‹¥ <code>key</code> åœ¨ <code>m</code> ä¸­ï¼Œ<code>ok</code> ä¸º <code>true</code> ï¼›å¦åˆ™ï¼Œ<code>ok</code> ä¸º <code>false</code>ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">import &quot;fmt&quot;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">    m := make(map[string]int)</span><br><span class="line"></span><br><span class="line">    m[&quot;Answer&quot;] = 42</span><br><span class="line">    fmt.Println(&quot;The value:&quot;, m[&quot;Answer&quot;])</span><br><span class="line"></span><br><span class="line">    m[&quot;Answer&quot;] = 48</span><br><span class="line">    fmt.Println(&quot;The value:&quot;, m[&quot;Answer&quot;])</span><br><span class="line"></span><br><span class="line">    delete(m, &quot;Answer&quot;)</span><br><span class="line">    fmt.Println(&quot;The value:&quot;, m[&quot;Answer&quot;])</span><br><span class="line"></span><br><span class="line">    v, ok := m[&quot;Answer&quot;]</span><br><span class="line">    fmt.Println(&quot;The value:&quot;, v, &quot;Present?&quot;, ok)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">The value: 42</span><br><span class="line">The value: 48</span><br><span class="line">The value: 0</span><br><span class="line">The value: 0 Present? false</span><br></pre></td></tr></table></figure><h2 id="å‡½æ•°å€¼"><a class="markdownIt-Anchor" href="#å‡½æ•°å€¼"></a> å‡½æ•°å€¼</h2><p>å‡½æ•°ä¹Ÿæ˜¯å€¼ã€‚å®ƒä»¬å¯ä»¥åƒå…¶å®ƒå€¼ä¸€æ ·ä¼ é€’ã€‚</p><p>å‡½æ•°å€¼å¯ä»¥ç”¨ä½œå‡½æ•°çš„å‚æ•°æˆ–è¿”å›å€¼ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;math&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">compute</span><span class="params">(fn <span class="keyword">func</span>(<span class="type">float64</span>, <span class="type">float64</span>)</span></span> <span class="type">float64</span>) <span class="type">float64</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> fn(<span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    hypot := <span class="function"><span class="keyword">func</span><span class="params">(x, y <span class="type">float64</span>)</span></span> <span class="type">float64</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> math.Sqrt(x*x + y*y)</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(hypot(<span class="number">5</span>, <span class="number">12</span>))</span><br><span class="line"></span><br><span class="line">    fmt.Println(compute(hypot))</span><br><span class="line">    fmt.Println(compute(math.Pow))</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">13</span><br><span class="line">5</span><br><span class="line">81</span><br></pre></td></tr></table></figure><h2 id="å‡½æ•°çš„é—­åŒ…"><a class="markdownIt-Anchor" href="#å‡½æ•°çš„é—­åŒ…"></a> å‡½æ•°çš„é—­åŒ…</h2><p>Go å‡½æ•°å¯ä»¥æ˜¯ä¸€ä¸ªé—­åŒ…ã€‚é—­åŒ…æ˜¯ä¸€ä¸ªå‡½æ•°å€¼ï¼Œå®ƒå¼•ç”¨äº†å…¶å‡½æ•°ä½“ä¹‹å¤–çš„å˜é‡ã€‚è¯¥å‡½æ•°å¯ä»¥è®¿é—®å¹¶èµ‹äºˆå…¶å¼•ç”¨çš„å˜é‡çš„å€¼ï¼Œæ¢å¥è¯è¯´ï¼Œè¯¥å‡½æ•°è¢«è¿™äº›å˜é‡â€œç»‘å®šâ€åœ¨ä¸€èµ·ã€‚</p><p>ä¾‹å¦‚ï¼Œå‡½æ•° <code>adder</code> è¿”å›ä¸€ä¸ªé—­åŒ…ã€‚æ¯ä¸ªé—­åŒ…éƒ½è¢«ç»‘å®šåœ¨å…¶å„è‡ªçš„ <code>sum</code> å˜é‡ä¸Š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import &quot;fmt&quot;</span><br><span class="line"></span><br><span class="line">func adder() func(int) int &#123;</span><br><span class="line">    sum := 0</span><br><span class="line">    return func(x int) int &#123;</span><br><span class="line">        sum += x</span><br><span class="line">        return sum</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">    pos, neg := adder(), adder()</span><br><span class="line">    for i := 0; i &lt; 10; i++ &#123;</span><br><span class="line">        fmt.Println(</span><br><span class="line">            pos(i),</span><br><span class="line">            neg(-2*i),</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">0 0</span><br><span class="line">1 -2</span><br><span class="line">3 -6</span><br><span class="line">6 -12</span><br><span class="line">10 -20</span><br><span class="line">15 -30</span><br><span class="line">21 -42</span><br><span class="line">28 -56</span><br><span class="line">36 -72</span><br><span class="line">45 -90</span><br></pre></td></tr></table></figure><h2 id="æ–¹æ³•"><a class="markdownIt-Anchor" href="#æ–¹æ³•"></a> æ–¹æ³•</h2><p>Go æ²¡æœ‰ç±»ã€‚ä¸è¿‡ä½ å¯ä»¥ä¸ºç»“æ„ä½“ç±»å‹å®šä¹‰æ–¹æ³•ã€‚</p><p>æ–¹æ³•å°±æ˜¯ä¸€ç±»å¸¦ç‰¹æ®Šçš„ <strong>æ¥æ”¶è€…</strong> å‚æ•°çš„å‡½æ•°ã€‚</p><p>æ–¹æ³•æ¥æ”¶è€…åœ¨å®ƒè‡ªå·±çš„å‚æ•°åˆ—è¡¨å†…ï¼Œä½äº <code>func</code> å…³é”®å­—å’Œæ–¹æ³•åä¹‹é—´ã€‚</p><p>åœ¨æ­¤ä¾‹ä¸­ï¼Œ<code>Abs</code> æ–¹æ³•æ‹¥æœ‰ä¸€ä¸ªåä¸º <code>v</code>ï¼Œç±»å‹ä¸º <code>Vertex</code> çš„æ¥æ”¶è€…ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;math&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Vertex <span class="keyword">struct</span> &#123;</span><br><span class="line">    X, Y <span class="type">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(b Vertex)</span></span> Abs() <span class="type">float64</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> math.Sqrt(b.X*b.X + b.Y*b.Y)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    v := Vertex&#123;<span class="number">3</span>, <span class="number">4</span>&#125;</span><br><span class="line">    fmt.Println(v.Abs())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">5</span><br></pre></td></tr></table></figure><h2 id="æ–¹æ³•å³å‡½æ•°"><a class="markdownIt-Anchor" href="#æ–¹æ³•å³å‡½æ•°"></a> æ–¹æ³•å³å‡½æ•°</h2><p>è®°ä½ï¼šæ–¹æ³•åªæ˜¯ä¸ªå¸¦æ¥æ”¶è€…å‚æ•°çš„å‡½æ•°ã€‚</p><p>ç°åœ¨è¿™ä¸ª <code>Abs</code> çš„å†™æ³•å°±æ˜¯ä¸ªæ­£å¸¸çš„å‡½æ•°ï¼ŒåŠŸèƒ½å¹¶æ²¡æœ‰ä»€ä¹ˆå˜åŒ–ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;math&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Vertex <span class="keyword">struct</span> &#123;</span><br><span class="line">    X, Y <span class="type">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Abs</span><span class="params">(v Vertex)</span></span> <span class="type">float64</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> math.Sqrt(v.X*v.X + v.Y*v.Y)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    v := Vertex&#123;<span class="number">3</span>, <span class="number">4</span>&#125;</span><br><span class="line">    fmt.Println(Abs(v))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">5</span><br></pre></td></tr></table></figure><h2 id="æ–¹æ³•ç»­"><a class="markdownIt-Anchor" href="#æ–¹æ³•ç»­"></a> æ–¹æ³•ï¼ˆç»­ï¼‰</h2><p>ä½ ä¹Ÿå¯ä»¥ä¸ºéç»“æ„ä½“ç±»å‹å£°æ˜æ–¹æ³•ã€‚</p><p>åœ¨æ­¤ä¾‹ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†ä¸€ä¸ªå¸¦ <code>Abs</code> æ–¹æ³•çš„æ•°å€¼ç±»å‹ <code>MyFloat</code>ã€‚</p><p>ä½ åªèƒ½ä¸ºåœ¨åŒä¸€åŒ…å†…å®šä¹‰çš„ç±»å‹çš„æ¥æ”¶è€…å£°æ˜æ–¹æ³•ï¼Œè€Œä¸èƒ½ä¸ºå…¶å®ƒåŒ…å†…å®šä¹‰çš„ç±»å‹ï¼ˆåŒ…æ‹¬ <code>int</code> ä¹‹ç±»çš„å†…å»ºç±»å‹ï¼‰çš„æ¥æ”¶è€…å£°æ˜æ–¹æ³•ã€‚</p><p>ï¼ˆè¯‘æ³¨ï¼šå°±æ˜¯æ¥æ”¶è€…çš„ç±»å‹å®šä¹‰å’Œæ–¹æ³•å£°æ˜å¿…é¡»åœ¨åŒä¸€åŒ…å†…ï¼›ä¸èƒ½ä¸ºå†…å»ºç±»å‹å£°æ˜</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;math&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> MyFloat <span class="type">float64</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f MyFloat)</span></span> Abs() <span class="type">float64</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> f &lt; <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">float64</span>(-f)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="type">float64</span>(f)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    f := MyFloat(-math.Sqrt2)</span><br><span class="line">    fmt.Println(f.Abs())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.4142135623730951</span><br></pre></td></tr></table></figure><h2 id="æŒ‡é’ˆæ¥æ”¶è€…"><a class="markdownIt-Anchor" href="#æŒ‡é’ˆæ¥æ”¶è€…"></a> æŒ‡é’ˆæ¥æ”¶è€…</h2><p>ä½ å¯ä»¥ä¸ºæŒ‡é’ˆæ¥æ”¶è€…å£°æ˜æ–¹æ³•ã€‚</p><p>è¿™æ„å‘³ç€å¯¹äºæŸç±»å‹ <code>T</code>ï¼Œæ¥æ”¶è€…çš„ç±»å‹å¯ä»¥ç”¨ <code>*T</code> çš„æ–‡æ³•ã€‚ï¼ˆæ­¤å¤–ï¼Œ<code>T</code> ä¸èƒ½æ˜¯åƒ <code>*int</code> è¿™æ ·çš„æŒ‡é’ˆã€‚ï¼‰</p><p>ä¾‹å¦‚ï¼Œè¿™é‡Œä¸º <code>*Vertex</code> å®šä¹‰äº† <code>Scale</code> æ–¹æ³•ã€‚</p><p>æŒ‡é’ˆæ¥æ”¶è€…çš„æ–¹æ³•å¯ä»¥ä¿®æ”¹æ¥æ”¶è€…æŒ‡å‘çš„å€¼ï¼ˆå°±åƒ <code>Scale</code> åœ¨è¿™åšçš„ï¼‰ã€‚ç”±äºæ–¹æ³•ç»å¸¸éœ€è¦ä¿®æ”¹å®ƒçš„æ¥æ”¶è€…ï¼ŒæŒ‡é’ˆæ¥æ”¶è€…æ¯”å€¼æ¥æ”¶è€…æ›´å¸¸ç”¨ã€‚</p><p>è¯•ç€ç§»é™¤ç¬¬ 16 è¡Œ <code>Scale</code> å‡½æ•°å£°æ˜ä¸­çš„ <code>*</code>ï¼Œè§‚å¯Ÿæ­¤ç¨‹åºçš„è¡Œä¸ºå¦‚ä½•å˜åŒ–ã€‚</p><p>è‹¥ä½¿ç”¨å€¼æ¥æ”¶è€…ï¼Œé‚£ä¹ˆ <code>Scale</code> æ–¹æ³•ä¼šå¯¹åŸå§‹ <code>Vertex</code> å€¼çš„å‰¯æœ¬è¿›è¡Œæ“ä½œã€‚ï¼ˆå¯¹äºå‡½æ•°çš„å…¶å®ƒå‚æ•°ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ï¼‰``Scale<code>æ–¹æ³•å¿…é¡»ç”¨æŒ‡é’ˆæ¥å—è€…æ¥æ›´æ”¹</code>main<code>å‡½æ•°ä¸­å£°æ˜çš„</code>Vertex` çš„å€¼ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;math&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Vertex <span class="keyword">struct</span> &#123;</span><br><span class="line">    X, Y <span class="type">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(v Vertex)</span></span> Abs() <span class="type">float64</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> math.Sqrt(v.X*v.X + v.Y*v.Y)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(v *Vertex)</span></span> Scale(f <span class="type">float64</span>) &#123;</span><br><span class="line">    v.X = v.X * f</span><br><span class="line">    v.Y = v.Y * f</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    v := Vertex&#123;<span class="number">3</span>, <span class="number">4</span>&#125;</span><br><span class="line">    v.Scale(<span class="number">10</span>)</span><br><span class="line">    fmt.Println(v.Abs())</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">50</span><br></pre></td></tr></table></figure><h2 id="æŒ‡é’ˆä¸å‡½æ•°"><a class="markdownIt-Anchor" href="#æŒ‡é’ˆä¸å‡½æ•°"></a> æŒ‡é’ˆä¸å‡½æ•°</h2><p>ç°åœ¨æˆ‘ä»¬è¦æŠŠ <code>Abs</code> å’Œ <code>Scale</code> æ–¹æ³•é‡å†™ä¸ºå‡½æ•°ã€‚</p><p>åŒæ ·ï¼Œæˆ‘ä»¬å…ˆè¯•ç€ç§»é™¤æ‰ç¬¬ 16 çš„ <code>*</code>ã€‚ä½ èƒ½çœ‹å‡ºä¸ºä»€ä¹ˆç¨‹åºçš„è¡Œä¸ºæ”¹å˜äº†å—ï¼Ÿè¦æ€æ ·åšæ‰èƒ½è®©è¯¥ç¤ºä¾‹é¡ºåˆ©é€šè¿‡ç¼–è¯‘ï¼Ÿ</p><p>ï¼ˆè‹¥ä½ ä¸ç¡®å®šï¼Œç»§ç»­å¾€ä¸‹çœ‹ã€‚ï¼‰</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;math&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Vertex <span class="keyword">struct</span> &#123;</span><br><span class="line">    X, Y <span class="type">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Abs</span><span class="params">(v Vertex)</span></span> <span class="type">float64</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> math.Sqrt(v.X*v.X + v.Y*v.Y)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Scale</span><span class="params">(v *Vertex, f <span class="type">float64</span>)</span></span> &#123;</span><br><span class="line">    v.X = v.X * f</span><br><span class="line">    v.Y = v.Y * f</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    v := Vertex&#123;<span class="number">3</span>, <span class="number">4</span>&#125;</span><br><span class="line">    Scale(&amp;v, <span class="number">10</span>)</span><br><span class="line">    fmt.Println(Abs(v))</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="æ–¹æ³•ä¸æŒ‡é’ˆé‡å®šå‘"><a class="markdownIt-Anchor" href="#æ–¹æ³•ä¸æŒ‡é’ˆé‡å®šå‘"></a> æ–¹æ³•ä¸æŒ‡é’ˆé‡å®šå‘</h2><p>æ¯”è¾ƒå‰ä¸¤ä¸ªç¨‹åºï¼Œä½ å¤§æ¦‚ä¼šæ³¨æ„åˆ°å¸¦æŒ‡é’ˆå‚æ•°çš„å‡½æ•°å¿…é¡»æ¥å—ä¸€ä¸ªæŒ‡é’ˆï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> v Vertex</span><br><span class="line">ScaleFunc(v, <span class="number">5</span>)  <span class="comment">// ç¼–è¯‘é”™è¯¯ï¼</span></span><br><span class="line">ScaleFunc(&amp;v, <span class="number">5</span>) <span class="comment">// OK</span></span><br></pre></td></tr></table></figure><p>è€Œä»¥æŒ‡é’ˆä¸ºæ¥æ”¶è€…çš„æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œæ¥æ”¶è€…æ—¢èƒ½ä¸ºå€¼åˆèƒ½ä¸ºæŒ‡é’ˆï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> v Vertex</span><br><span class="line">v.Scale(<span class="number">5</span>)  <span class="comment">// OK</span></span><br><span class="line">p := &amp;v</span><br><span class="line">p.Scale(<span class="number">10</span>) <span class="comment">// OK</span></span><br></pre></td></tr></table></figure><p>å¯¹äºè¯­å¥ <code>v.Scale(5)</code>ï¼Œå³ä¾¿ <code>v</code> æ˜¯ä¸ªå€¼è€ŒéæŒ‡é’ˆï¼Œå¸¦æŒ‡é’ˆæ¥æ”¶è€…çš„æ–¹æ³•ä¹Ÿèƒ½è¢«ç›´æ¥è°ƒç”¨ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œç”±äº <code>Scale</code> æ–¹æ³•æœ‰ä¸€ä¸ªæŒ‡é’ˆæ¥æ”¶è€…ï¼Œä¸ºæ–¹ä¾¿èµ·è§ï¼ŒGo ä¼šå°†è¯­å¥ <code>v.Scale(5)</code> è§£é‡Šä¸º <code>(&amp;v).Scale(5)</code>ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Vertex <span class="keyword">struct</span> &#123;</span><br><span class="line">    X, Y <span class="type">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(v *Vertex)</span></span> Scale(f <span class="type">float64</span>) &#123;</span><br><span class="line">    v.X = v.X * f</span><br><span class="line">    v.Y = v.Y * f</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ScaleFunc</span><span class="params">(v *Vertex, f <span class="type">float64</span>)</span></span> &#123;</span><br><span class="line">    v.X = v.X * f</span><br><span class="line">    v.Y = v.Y * f</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    v := Vertex&#123;<span class="number">3</span>, <span class="number">4</span>&#125;</span><br><span class="line">    v.Scale(<span class="number">2</span>)</span><br><span class="line">    ScaleFunc(&amp;v, <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">    p := &amp;Vertex&#123;<span class="number">4</span>, <span class="number">3</span>&#125;</span><br><span class="line">    p.Scale(<span class="number">3</span>)</span><br><span class="line">    ScaleFunc(p, <span class="number">8</span>)</span><br><span class="line"></span><br><span class="line">    fmt.Println(v, p)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;60 80&#125; &amp;&#123;96 72&#125;</span><br></pre></td></tr></table></figure><h2 id="æ–¹æ³•ä¸æŒ‡é’ˆé‡å®šå‘ç»­"><a class="markdownIt-Anchor" href="#æ–¹æ³•ä¸æŒ‡é’ˆé‡å®šå‘ç»­"></a> æ–¹æ³•ä¸æŒ‡é’ˆé‡å®šå‘ï¼ˆç»­ï¼‰</h2><p>åŒæ ·çš„äº‹æƒ…ä¹Ÿå‘ç”Ÿåœ¨ç›¸åçš„æ–¹å‘ã€‚</p><p>æ¥å—ä¸€ä¸ªå€¼ä½œä¸ºå‚æ•°çš„å‡½æ•°å¿…é¡»æ¥å—ä¸€ä¸ªæŒ‡å®šç±»å‹çš„å€¼ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var v Vertex</span><br><span class="line">fmt.Println(AbsFunc(v))  // OK</span><br><span class="line">fmt.Println(AbsFunc(&amp;v)) // ç¼–è¯‘é”™è¯¯ï¼</span><br></pre></td></tr></table></figure><p>è€Œä»¥å€¼ä¸ºæ¥æ”¶è€…çš„æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œæ¥æ”¶è€…æ—¢èƒ½ä¸ºå€¼åˆèƒ½ä¸ºæŒ‡é’ˆï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var v Vertex</span><br><span class="line">fmt.Println(v.Abs()) // OK</span><br><span class="line">p := &amp;v</span><br><span class="line">fmt.Println(p.Abs()) // OK</span><br></pre></td></tr></table></figure><p>è¿™ç§æƒ…å†µä¸‹ï¼Œæ–¹æ³•è°ƒç”¨ <code>p.Abs()</code> ä¼šè¢«è§£é‡Šä¸º <code>(*p).Abs()</code>ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;math&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Vertex <span class="keyword">struct</span> &#123;</span><br><span class="line">    X, Y <span class="type">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(v Vertex)</span></span> Abs() <span class="type">float64</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> math.Sqrt(v.X*v.X + v.Y*v.Y)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">AbsFunc</span><span class="params">(v Vertex)</span></span> <span class="type">float64</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> math.Sqrt(v.X*v.X + v.Y*v.Y)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    v := Vertex&#123;<span class="number">3</span>, <span class="number">4</span>&#125;</span><br><span class="line">    fmt.Println(v.Abs())</span><br><span class="line">    fmt.Println(AbsFunc(v))</span><br><span class="line"></span><br><span class="line">    p := &amp;Vertex&#123;<span class="number">4</span>, <span class="number">3</span>&#125;</span><br><span class="line">    fmt.Println(p.Abs())</span><br><span class="line">    fmt.Println(AbsFunc(*p))</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">5</span><br><span class="line">5</span><br><span class="line">5</span><br><span class="line">5</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="é€‰æ‹©å€¼æˆ–æŒ‡é’ˆä½œä¸ºæ¥æ”¶è€…"><a class="markdownIt-Anchor" href="#é€‰æ‹©å€¼æˆ–æŒ‡é’ˆä½œä¸ºæ¥æ”¶è€…"></a> é€‰æ‹©å€¼æˆ–æŒ‡é’ˆä½œä¸ºæ¥æ”¶è€…</h2><p>ä½¿ç”¨æŒ‡é’ˆæ¥æ”¶è€…çš„åŸå› æœ‰äºŒï¼š</p><p>é¦–å…ˆï¼Œæ–¹æ³•èƒ½å¤Ÿä¿®æ”¹å…¶æ¥æ”¶è€…æŒ‡å‘çš„å€¼ã€‚</p><p>å…¶æ¬¡ï¼Œè¿™æ ·å¯ä»¥é¿å…åœ¨æ¯æ¬¡è°ƒç”¨æ–¹æ³•æ—¶å¤åˆ¶è¯¥å€¼ã€‚è‹¥å€¼çš„ç±»å‹ä¸ºå¤§å‹ç»“æ„ä½“æ—¶ï¼Œè¿™æ ·åšä¼šæ›´åŠ é«˜æ•ˆã€‚</p><p>åœ¨æœ¬ä¾‹ä¸­ï¼Œ<code>Scale</code> å’Œ <code>Abs</code> æ¥æ”¶è€…çš„ç±»å‹ä¸º <code>*Vertex</code>ï¼Œå³ä¾¿ <code>Abs</code> å¹¶ä¸éœ€è¦ä¿®æ”¹å…¶æ¥æ”¶è€…ã€‚</p><p>é€šå¸¸æ¥è¯´ï¼Œæ‰€æœ‰ç»™å®šç±»å‹çš„æ–¹æ³•éƒ½åº”è¯¥æœ‰å€¼æˆ–æŒ‡é’ˆæ¥æ”¶è€…ï¼Œä½†å¹¶ä¸åº”è¯¥äºŒè€…æ··ç”¨ã€‚ï¼ˆæˆ‘ä»¬ä¼šåœ¨æ¥ä¸‹æ¥å‡ é¡µä¸­æ˜ç™½ä¸ºä»€ä¹ˆã€‚ï¼‰</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;math&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Vertex <span class="keyword">struct</span> &#123;</span><br><span class="line">    X, Y <span class="type">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(v *Vertex)</span></span> Scale(f <span class="type">float64</span>) &#123;</span><br><span class="line">    v.X = v.X * f</span><br><span class="line">    v.Y = v.Y * f</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(v *Vertex)</span></span> Abs() <span class="type">float64</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> math.Sqrt(v.X*v.X + v.Y*v.Y)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    v := &amp;Vertex&#123;<span class="number">3</span>, <span class="number">4</span>&#125;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;Before scaling: %+v, Abs: %v\n&quot;</span>, v, v.Abs())</span><br><span class="line">    v.Scale(<span class="number">5</span>)</span><br><span class="line">    fmt.Printf(<span class="string">&quot;After scaling: %+v, Abs: %v\n&quot;</span>, v, v.Abs())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Before scaling: &amp;&#123;X:3 Y:4&#125;, Abs: 5</span><br><span class="line">After scaling: &amp;&#123;X:15 Y:20&#125;, Abs: 25</span><br></pre></td></tr></table></figure><h2 id="æ¥å£"><a class="markdownIt-Anchor" href="#æ¥å£"></a> æ¥å£</h2><p><strong>æ¥å£ç±»å‹</strong> æ˜¯ç”±ä¸€ç»„æ–¹æ³•ç­¾åå®šä¹‰çš„é›†åˆã€‚</p><p>æ¥å£ç±»å‹çš„å˜é‡å¯ä»¥ä¿å­˜ä»»ä½•å®ç°äº†è¿™äº›æ–¹æ³•çš„å€¼ã€‚</p><p><strong>æ³¨æ„:</strong> ç¤ºä¾‹ä»£ç çš„ 22 è¡Œå­˜åœ¨ä¸€ä¸ªé”™è¯¯ã€‚ç”±äº <code>Abs</code> æ–¹æ³•åªä¸º <code>*Vertex</code> ï¼ˆæŒ‡é’ˆç±»å‹ï¼‰å®šä¹‰ï¼Œå› æ­¤ <code>Vertex</code>ï¼ˆå€¼ç±»å‹ï¼‰å¹¶æœªå®ç° <code>Abser</code>ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;math&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Abser <span class="keyword">interface</span> &#123;</span><br><span class="line">    Abs() <span class="type">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> a Abser</span><br><span class="line">    f := MyFloat(-math.Sqrt2)</span><br><span class="line">    v := Vertex&#123;<span class="number">3</span>, <span class="number">4</span>&#125;</span><br><span class="line"></span><br><span class="line">    a = f  <span class="comment">// a MyFloat å®ç°äº† Abser</span></span><br><span class="line">    a = &amp;v <span class="comment">// a *Vertex å®ç°äº† Abser</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¸‹é¢ä¸€è¡Œï¼Œv æ˜¯ä¸€ä¸ª Vertexï¼ˆè€Œä¸æ˜¯ *Vertexï¼‰</span></span><br><span class="line">    <span class="comment">// æ‰€ä»¥æ²¡æœ‰å®ç° Abserã€‚</span></span><br><span class="line">    a = v</span><br><span class="line"></span><br><span class="line">    fmt.Println(a.Abs())</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> MyFloat <span class="type">float64</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f MyFloat)</span></span> Abs() <span class="type">float64</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> f &lt; <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">float64</span>(-f)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="type">float64</span>(f)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Vertex <span class="keyword">struct</span> &#123;</span><br><span class="line">    X, Y <span class="type">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(v *Vertex)</span></span> Abs() <span class="type">float64</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> math.Sqrt(v.X*v.X + v.Y*v.Y)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ¥å£ä¸éšå¼å®ç°"><a class="markdownIt-Anchor" href="#æ¥å£ä¸éšå¼å®ç°"></a> æ¥å£ä¸éšå¼å®ç°</h2><p>ç±»å‹é€šè¿‡å®ç°ä¸€ä¸ªæ¥å£çš„æ‰€æœ‰æ–¹æ³•æ¥å®ç°è¯¥æ¥å£ã€‚æ—¢ç„¶æ— éœ€ä¸“é—¨æ˜¾å¼å£°æ˜ï¼Œä¹Ÿå°±æ²¡æœ‰â€œimplementsâ€å…³é”®å­—ã€‚</p><p>éšå¼æ¥å£ä»æ¥å£çš„å®ç°ä¸­è§£è€¦äº†å®šä¹‰ï¼Œè¿™æ ·æ¥å£çš„å®ç°å¯ä»¥å‡ºç°åœ¨ä»»ä½•åŒ…ä¸­ï¼Œæ— éœ€æå‰å‡†å¤‡ã€‚</p><p>å› æ­¤ï¼Œä¹Ÿå°±æ— éœ€åœ¨æ¯ä¸€ä¸ªå®ç°ä¸Šå¢åŠ æ–°çš„æ¥å£åç§°ï¼Œè¿™æ ·åŒæ—¶ä¹Ÿé¼“åŠ±äº†æ˜ç¡®çš„æ¥å£å®šä¹‰ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> I <span class="keyword">interface</span> &#123;</span><br><span class="line">    M()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> T <span class="keyword">struct</span> &#123;</span><br><span class="line">    S <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­¤æ–¹æ³•è¡¨ç¤ºç±»å‹ T å®ç°äº†æ¥å£ Iï¼Œä½†æˆ‘ä»¬æ— éœ€æ˜¾å¼å£°æ˜æ­¤äº‹ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t T)</span></span> M() &#123;</span><br><span class="line">    fmt.Println(t.S)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> i I = T&#123;<span class="string">&quot;hello&quot;</span>&#125;</span><br><span class="line">    i.M()</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="æ¥å£å€¼"><a class="markdownIt-Anchor" href="#æ¥å£å€¼"></a> æ¥å£å€¼</h2><p>æ¥å£ä¹Ÿæ˜¯å€¼ã€‚å®ƒä»¬å¯ä»¥åƒå…¶å®ƒå€¼ä¸€æ ·ä¼ é€’ã€‚</p><p>æ¥å£å€¼å¯ä»¥ç”¨ä½œå‡½æ•°çš„å‚æ•°æˆ–è¿”å›å€¼ã€‚</p><p>åœ¨å†…éƒ¨ï¼Œæ¥å£å€¼å¯ä»¥çœ‹åšåŒ…å«å€¼å’Œå…·ä½“ç±»å‹çš„å…ƒç»„ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(value, type)</span><br></pre></td></tr></table></figure><p>æ¥å£å€¼ä¿å­˜äº†ä¸€ä¸ªå…·ä½“åº•å±‚ç±»å‹çš„å…·ä½“å€¼ã€‚</p><p>æ¥å£å€¼è°ƒç”¨æ–¹æ³•æ—¶ä¼šæ‰§è¡Œå…¶åº•å±‚ç±»å‹çš„åŒåæ–¹æ³•ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;math&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> I <span class="keyword">interface</span> &#123;</span><br><span class="line">    M()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> T <span class="keyword">struct</span> &#123;</span><br><span class="line">    S <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t *T)</span></span> M() &#123;</span><br><span class="line">    fmt.Println(t.S)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> F <span class="type">float64</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f F)</span></span> M() &#123;</span><br><span class="line">    fmt.Println(f)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> i I</span><br><span class="line"></span><br><span class="line">    i = &amp;T&#123;<span class="string">&quot;Hello&quot;</span>&#125;</span><br><span class="line">    describe(i)</span><br><span class="line">    i.M()</span><br><span class="line"></span><br><span class="line">    i = F(math.Pi)</span><br><span class="line">    describe(i)</span><br><span class="line">    i.M()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">describe</span><span class="params">(i I)</span></span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;(%v, %T)\n&quot;</span>, i, i)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(&amp;&#123;Hello&#125;, *main.T)</span><br><span class="line">Hello</span><br><span class="line">(<span class="number">3.141592653589793</span>, main.F)</span><br><span class="line"><span class="number">3.141592653589793</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="åº•å±‚å€¼ä¸º-nil-çš„æ¥å£å€¼"><a class="markdownIt-Anchor" href="#åº•å±‚å€¼ä¸º-nil-çš„æ¥å£å€¼"></a> åº•å±‚å€¼ä¸º nil çš„æ¥å£å€¼</h2><p>å³ä¾¿æ¥å£å†…çš„å…·ä½“å€¼ä¸º nilï¼Œæ–¹æ³•ä»ç„¶ä¼šè¢« nil æ¥æ”¶è€…è°ƒç”¨ã€‚</p><p>åœ¨ä¸€äº›è¯­è¨€ä¸­ï¼Œè¿™ä¼šè§¦å‘ä¸€ä¸ªç©ºæŒ‡é’ˆå¼‚å¸¸ï¼Œä½†åœ¨ Go ä¸­é€šå¸¸ä¼šå†™ä¸€äº›æ–¹æ³•æ¥ä¼˜é›…åœ°å¤„ç†å®ƒï¼ˆå¦‚æœ¬ä¾‹ä¸­çš„ <code>M</code> æ–¹æ³•ï¼‰ã€‚</p><p><strong>æ³¨æ„:</strong> ä¿å­˜äº† nil å…·ä½“å€¼çš„æ¥å£å…¶è‡ªèº«å¹¶ä¸ä¸º nilã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> I <span class="keyword">interface</span> &#123;</span><br><span class="line">    M()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> T <span class="keyword">struct</span> &#123;</span><br><span class="line">    S <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t *T)</span></span> M() &#123;</span><br><span class="line">    <span class="keyword">if</span> t == <span class="literal">nil</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;&lt;nil&gt;&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(t.S)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> i I</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> t *T</span><br><span class="line">    i = t</span><br><span class="line">    describe(i)</span><br><span class="line">    i.M()</span><br><span class="line"></span><br><span class="line">    i = &amp;T&#123;<span class="string">&quot;hello&quot;</span>&#125;</span><br><span class="line">    describe(i)</span><br><span class="line">    i.M()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">describe</span><span class="params">(i I)</span></span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;(%v, %T)\n&quot;</span>, i, i)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(&lt;nil&gt;, *main.T)</span><br><span class="line">&lt;nil&gt;</span><br><span class="line">(&amp;&#123;hello&#125;, *main.T)</span><br><span class="line">hello</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="nil-æ¥å£å€¼"><a class="markdownIt-Anchor" href="#nil-æ¥å£å€¼"></a> nil æ¥å£å€¼</h2><p>nil æ¥å£å€¼æ—¢ä¸ä¿å­˜å€¼ä¹Ÿä¸ä¿å­˜å…·ä½“ç±»å‹ã€‚</p><p>ä¸º nil æ¥å£è°ƒç”¨æ–¹æ³•ä¼šäº§ç”Ÿè¿è¡Œæ—¶é”™è¯¯ï¼Œå› ä¸ºæ¥å£çš„å…ƒç»„å†…å¹¶æœªåŒ…å«èƒ½å¤ŸæŒ‡æ˜è¯¥è°ƒç”¨å“ªä¸ª <strong>å…·ä½“</strong> æ–¹æ³•çš„ç±»å‹ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> I <span class="keyword">interface</span> &#123;</span><br><span class="line">    M()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> i I</span><br><span class="line">    describe(i)</span><br><span class="line">    i.M()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">describe</span><span class="params">(i I)</span></span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;(%v, %T)\n&quot;</span>, i, i)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">(&lt;nil&gt;, &lt;nil&gt;)</span><br><span class="line">panic: runtime error: invalid memory address or nil pointer dereference</span><br><span class="line">[signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x492e3f]</span><br><span class="line"></span><br><span class="line">goroutine 1 [running]:</span><br><span class="line">main.main()</span><br><span class="line">    /tmp/sandbox891365133/prog.go:12 +0x8f</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="ç©ºæ¥å£"><a class="markdownIt-Anchor" href="#ç©ºæ¥å£"></a> ç©ºæ¥å£</h2><p>æŒ‡å®šäº†é›¶ä¸ªæ–¹æ³•çš„æ¥å£å€¼è¢«ç§°ä¸º <em>ç©ºæ¥å£ï¼š</em></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">interface&#123;&#125;</span><br></pre></td></tr></table></figure><p>ç©ºæ¥å£å¯ä¿å­˜ä»»ä½•ç±»å‹çš„å€¼ã€‚ï¼ˆå› ä¸ºæ¯ä¸ªç±»å‹éƒ½è‡³å°‘å®ç°äº†é›¶ä¸ªæ–¹æ³•ã€‚ï¼‰</p><p>ç©ºæ¥å£è¢«ç”¨æ¥å¤„ç†æœªçŸ¥ç±»å‹çš„å€¼ã€‚ä¾‹å¦‚ï¼Œ<code>fmt.Print</code> å¯æ¥å—ç±»å‹ä¸º <code>interface&#123;&#125;</code> çš„ä»»æ„æ•°é‡çš„å‚æ•°ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> i <span class="keyword">interface</span>&#123;&#125;</span><br><span class="line">    describe(i)</span><br><span class="line"></span><br><span class="line">    i = <span class="number">42</span></span><br><span class="line">    describe(i)</span><br><span class="line"></span><br><span class="line">    i = <span class="string">&quot;hello&quot;</span></span><br><span class="line">    describe(i)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">describe</span><span class="params">(i <span class="keyword">interface</span>&#123;&#125;)</span></span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;(%v, %T)\n&quot;</span>, i, i)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(&lt;nil&gt;, &lt;nil&gt;)</span><br><span class="line">(42, int)</span><br><span class="line">(hello, string)</span><br></pre></td></tr></table></figure><h2 id="ç±»å‹æ–­è¨€"><a class="markdownIt-Anchor" href="#ç±»å‹æ–­è¨€"></a> ç±»å‹æ–­è¨€</h2><p><strong>ç±»å‹æ–­è¨€</strong> æä¾›äº†è®¿é—®æ¥å£å€¼åº•å±‚å…·ä½“å€¼çš„æ–¹å¼ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t := i.(T)</span><br></pre></td></tr></table></figure><p>è¯¥è¯­å¥æ–­è¨€æ¥å£å€¼ <code>i</code> ä¿å­˜äº†å…·ä½“ç±»å‹ <code>T</code>ï¼Œå¹¶å°†å…¶åº•å±‚ç±»å‹ä¸º <code>T</code> çš„å€¼èµ‹äºˆå˜é‡ <code>t</code>ã€‚</p><p>è‹¥ <code>i</code> å¹¶æœªä¿å­˜ <code>T</code> ç±»å‹çš„å€¼ï¼Œè¯¥è¯­å¥å°±ä¼šè§¦å‘ä¸€ä¸ªææ…Œã€‚</p><p>ä¸ºäº† <strong>åˆ¤æ–­</strong> ä¸€ä¸ªæ¥å£å€¼æ˜¯å¦ä¿å­˜äº†ä¸€ä¸ªç‰¹å®šçš„ç±»å‹ï¼Œç±»å‹æ–­è¨€å¯è¿”å›ä¸¤ä¸ªå€¼ï¼šå…¶åº•å±‚å€¼ä»¥åŠä¸€ä¸ªæŠ¥å‘Šæ–­è¨€æ˜¯å¦æˆåŠŸçš„å¸ƒå°”å€¼ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t, ok := i.(T)</span><br></pre></td></tr></table></figure><p>è‹¥ <code>i</code> ä¿å­˜äº†ä¸€ä¸ª <code>T</code>ï¼Œé‚£ä¹ˆ <code>t</code> å°†ä¼šæ˜¯å…¶åº•å±‚å€¼ï¼Œè€Œ <code>ok</code> ä¸º <code>true</code>ã€‚</p><p>å¦åˆ™ï¼Œ<code>ok</code> å°†ä¸º <code>false</code> è€Œ <code>t</code> å°†ä¸º <code>T</code> ç±»å‹çš„é›¶å€¼ï¼Œç¨‹åºå¹¶ä¸ä¼šäº§ç”Ÿææ…Œã€‚</p><p>è¯·æ³¨æ„è¿™ç§è¯­æ³•å’Œè¯»å–ä¸€ä¸ªæ˜ å°„æ—¶çš„ç›¸åŒä¹‹å¤„ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> i <span class="keyword">interface</span>&#123;&#125; = <span class="string">&quot;hello&quot;</span></span><br><span class="line"></span><br><span class="line">    s := i.(<span class="type">string</span>)</span><br><span class="line">    fmt.Println(s)</span><br><span class="line"></span><br><span class="line">    s, ok := i.(<span class="type">string</span>)</span><br><span class="line">    fmt.Println(s, ok)</span><br><span class="line"></span><br><span class="line">    f, ok := i.(<span class="type">float64</span>)</span><br><span class="line">    fmt.Println(f, ok)</span><br><span class="line"></span><br><span class="line">    f = i.(<span class="type">float64</span>) <span class="comment">// æŠ¥é”™(panic)</span></span><br><span class="line">    fmt.Println(f)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hello</span><br><span class="line">hello true</span><br><span class="line">0 false</span><br><span class="line">panic: interface conversion: interface &#123;&#125; is string, not float64</span><br></pre></td></tr></table></figure><h2 id="ç±»å‹é€‰æ‹©"><a class="markdownIt-Anchor" href="#ç±»å‹é€‰æ‹©"></a> ç±»å‹é€‰æ‹©</h2><p><strong>ç±»å‹é€‰æ‹©</strong> æ˜¯ä¸€ç§æŒ‰é¡ºåºä»å‡ ä¸ªç±»å‹æ–­è¨€ä¸­é€‰æ‹©åˆ†æ”¯çš„ç»“æ„ã€‚</p><p>ç±»å‹é€‰æ‹©ä¸ä¸€èˆ¬çš„ switch è¯­å¥ç›¸ä¼¼ï¼Œä¸è¿‡ç±»å‹é€‰æ‹©ä¸­çš„ case ä¸ºç±»å‹ï¼ˆè€Œéå€¼ï¼‰ï¼Œ å®ƒä»¬é’ˆå¯¹ç»™å®šæ¥å£å€¼æ‰€å­˜å‚¨çš„å€¼çš„ç±»å‹è¿›è¡Œæ¯”è¾ƒã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">switch v := i.(type) &#123;</span><br><span class="line">case T:</span><br><span class="line">    // v çš„ç±»å‹ä¸º T</span><br><span class="line">case S:</span><br><span class="line">    // v çš„ç±»å‹ä¸º S</span><br><span class="line">default:</span><br><span class="line">    // æ²¡æœ‰åŒ¹é…ï¼Œv ä¸ i çš„ç±»å‹ç›¸åŒ</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç±»å‹é€‰æ‹©ä¸­çš„å£°æ˜ä¸ç±»å‹æ–­è¨€ <code>i.(T)</code> çš„è¯­æ³•ç›¸åŒï¼Œåªæ˜¯å…·ä½“ç±»å‹ <code>T</code> è¢«æ›¿æ¢æˆäº†å…³é”®å­— <code>type</code>ã€‚</p><p>æ­¤é€‰æ‹©è¯­å¥åˆ¤æ–­æ¥å£å€¼ <code>i</code> ä¿å­˜çš„å€¼ç±»å‹æ˜¯ <code>T</code> è¿˜æ˜¯ <code>S</code>ã€‚åœ¨ <code>T</code> æˆ– <code>S</code> çš„æƒ…å†µä¸‹ï¼Œå˜é‡ <code>v</code> ä¼šåˆ†åˆ«æŒ‰ <code>T</code> æˆ– <code>S</code> ç±»å‹ä¿å­˜ <code>i</code> æ‹¥æœ‰çš„å€¼ã€‚åœ¨é»˜è®¤ï¼ˆå³æ²¡æœ‰åŒ¹é…ï¼‰çš„æƒ…å†µä¸‹ï¼Œå˜é‡ <code>v</code> ä¸ <code>i</code> çš„æ¥å£ç±»å‹å’Œå€¼ç›¸åŒã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">do</span><span class="params">(i <span class="keyword">interface</span>&#123;&#125;)</span></span> &#123;</span><br><span class="line">    <span class="keyword">switch</span> v := i.(<span class="keyword">type</span>) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="type">int</span>:</span><br><span class="line">        fmt.Printf(<span class="string">&quot;Twice %v is %v\n&quot;</span>, v, v*<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="type">string</span>:</span><br><span class="line">        fmt.Printf(<span class="string">&quot;%q is %v bytes long\n&quot;</span>, v, <span class="built_in">len</span>(v))</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        fmt.Printf(<span class="string">&quot;I don&#x27;t know about type %T!\n&quot;</span>, v)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    do(<span class="number">21</span>)</span><br><span class="line">    do(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line">    do(<span class="literal">true</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Twice 21 is 42</span><br><span class="line">&quot;hello&quot; is 5 bytes long</span><br><span class="line">I don&#x27;t know about type bool!</span><br></pre></td></tr></table></figure><h2 id="stringer"><a class="markdownIt-Anchor" href="#stringer"></a> Stringer</h2><p><a href="https://go-zh.org/pkg/fmt/"><code>fmt</code></a> åŒ…ä¸­å®šä¹‰çš„ <a href="https://go-zh.org/pkg/fmt/#Stringer"><code>Stringer</code></a> æ˜¯æœ€æ™®éçš„æ¥å£ä¹‹ä¸€ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">type Stringer interface &#123;</span><br><span class="line">    String() string</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>Stringer</code> æ˜¯ä¸€ä¸ªå¯ä»¥ç”¨å­—ç¬¦ä¸²æè¿°è‡ªå·±çš„ç±»å‹ã€‚<code>fmt</code> åŒ…ï¼ˆè¿˜æœ‰å¾ˆå¤šåŒ…ï¼‰éƒ½é€šè¿‡æ­¤æ¥å£æ¥æ‰“å°å€¼ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;</span><br><span class="line">    Name <span class="type">string</span></span><br><span class="line">    Age  <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p Person)</span></span> String() <span class="type">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> fmt.Sprintf(<span class="string">&quot;%v (%v years)&quot;</span>, p.Name, p.Age)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    a := Person&#123;<span class="string">&quot;Arthur Dent&quot;</span>, <span class="number">42</span>&#125;</span><br><span class="line">    z := Person&#123;<span class="string">&quot;Zaphod Beeblebrox&quot;</span>, <span class="number">9001</span>&#125;</span><br><span class="line">    fmt.Println(a, z)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Arthur Dent (42 years) Zaphod Beeblebrox (9001 years)</span><br></pre></td></tr></table></figure><h2 id="é”™è¯¯"><a class="markdownIt-Anchor" href="#é”™è¯¯"></a> é”™è¯¯</h2><p>Go ç¨‹åºä½¿ç”¨ <code>error</code> å€¼æ¥è¡¨ç¤ºé”™è¯¯çŠ¶æ€ã€‚</p><p>ä¸ <code>fmt.Stringer</code> ç±»ä¼¼ï¼Œ<code>error</code> ç±»å‹æ˜¯ä¸€ä¸ªå†…å»ºæ¥å£ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">type error interface &#123;</span><br><span class="line">    Error() string</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ï¼ˆä¸ <code>fmt.Stringer</code> ç±»ä¼¼ï¼Œ<code>fmt</code> åŒ…åœ¨æ‰“å°å€¼æ—¶ä¹Ÿä¼šæ»¡è¶³ <code>error</code>ã€‚ï¼‰</p><p>é€šå¸¸å‡½æ•°ä¼šè¿”å›ä¸€ä¸ª <code>error</code> å€¼ï¼Œè°ƒç”¨çš„å®ƒçš„ä»£ç åº”å½“åˆ¤æ–­è¿™ä¸ªé”™è¯¯æ˜¯å¦ç­‰äº <code>nil</code> æ¥è¿›è¡Œé”™è¯¯å¤„ç†ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">i, err := strconv.Atoi(&quot;42&quot;)</span><br><span class="line">if err != nil &#123;</span><br><span class="line">    fmt.Printf(&quot;couldn&#x27;t convert number: %v\n&quot;, err)</span><br><span class="line">    return</span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(&quot;Converted integer:&quot;, i)</span><br></pre></td></tr></table></figure><p><code>error</code> ä¸º nil æ—¶è¡¨ç¤ºæˆåŠŸï¼›é nil çš„ <code>error</code> è¡¨ç¤ºå¤±è´¥ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> MyError <span class="keyword">struct</span> &#123;</span><br><span class="line">    When time.Time</span><br><span class="line">    What <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e *MyError)</span></span> Error() <span class="type">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> fmt.Sprintf(<span class="string">&quot;at %v, %s&quot;</span>,</span><br><span class="line">        e.When, e.What)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">run</span><span class="params">()</span></span> <span class="type">error</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &amp;MyError&#123;</span><br><span class="line">        time.Now(),</span><br><span class="line">        <span class="string">&quot;it didn&#x27;t work&quot;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> err := run(); err != <span class="literal">nil</span> &#123;</span><br><span class="line">        fmt.Println(err)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="reader"><a class="markdownIt-Anchor" href="#reader"></a> Reader</h2><p><code>io</code> åŒ…æŒ‡å®šäº† <code>io.Reader</code> æ¥å£ï¼Œå®ƒè¡¨ç¤ºä»æ•°æ®æµçš„æœ«å°¾è¿›è¡Œè¯»å–ã€‚</p><p>Go æ ‡å‡†åº“åŒ…å«äº†è¯¥æ¥å£çš„<a href="https://go-zh.org/search?q=Read#Global">è®¸å¤šå®ç°</a>ï¼ŒåŒ…æ‹¬æ–‡ä»¶ã€ç½‘ç»œè¿æ¥ã€å‹ç¼©å’ŒåŠ å¯†ç­‰ç­‰ã€‚</p><p><code>io.Reader</code> æ¥å£æœ‰ä¸€ä¸ª <code>Read</code> æ–¹æ³•ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">func (T) Read(b []byte) (n int, err error)</span><br></pre></td></tr></table></figure><p><code>Read</code> ç”¨æ•°æ®å¡«å……ç»™å®šçš„å­—èŠ‚åˆ‡ç‰‡å¹¶è¿”å›å¡«å……çš„å­—èŠ‚æ•°å’Œé”™è¯¯å€¼ã€‚åœ¨é‡åˆ°æ•°æ®æµçš„ç»“å°¾æ—¶ï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ª <code>io.EOF</code> é”™è¯¯ã€‚</p><p>ç¤ºä¾‹ä»£ç åˆ›å»ºäº†ä¸€ä¸ª <a href="https://go-zh.org/pkg/strings/#Reader"><code>strings.Reader</code></a> å¹¶ä»¥æ¯æ¬¡ 8 å­—èŠ‚çš„é€Ÿåº¦è¯»å–å®ƒçš„è¾“å‡ºã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;io&quot;</span></span><br><span class="line">    <span class="string">&quot;strings&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    r := strings.NewReader(<span class="string">&quot;Hello, Reader!&quot;</span>)</span><br><span class="line"></span><br><span class="line">    b := <span class="built_in">make</span>([]<span class="type">byte</span>, <span class="number">8</span>)</span><br><span class="line">    <span class="keyword">for</span> &#123;</span><br><span class="line">        n, err := r.Read(b)</span><br><span class="line">        fmt.Printf(<span class="string">&quot;n = %v err = %v b = %v\n&quot;</span>, n, err, b)</span><br><span class="line">        fmt.Printf(<span class="string">&quot;b[:n] = %q\n&quot;</span>, b[:n])</span><br><span class="line">        <span class="keyword">if</span> err == io.EOF &#123;</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">n = 8 err = &lt;nil&gt; b = [72 101 108 108 111 44 32 82]</span><br><span class="line">b[:n] = &quot;Hello, R&quot;</span><br><span class="line">n = 6 err = &lt;nil&gt; b = [101 97 100 101 114 33 32 82]</span><br><span class="line">b[:n] = &quot;eader!&quot;</span><br><span class="line">n = 0 err = EOF b = [101 97 100 101 114 33 32 82]</span><br><span class="line">b[:n] = &quot;&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;å˜é‡çš„åˆå§‹åŒ–&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#å˜é‡çš„åˆå§‹åŒ–&quot;&gt;&lt;/a&gt; å˜é‡çš„åˆå§‹åŒ–&lt;/h2&gt;
&lt;p&gt;å˜é‡å£°æ˜å¯ä»¥åŒ…å«åˆå§‹å€¼ï¼Œæ¯ä¸ªå˜é‡å¯¹åº”ä¸€ä¸ªã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœåˆå§‹åŒ–å€¼å·²å­˜åœ¨ï¼Œåˆ™å¯ä»¥çœç•¥ç±»å‹ï¼›å˜é‡ä¼šä»åˆå§‹å€¼ä¸­è·å¾—ç±»å‹ã€‚</summary>
      
    
    
    
    <category term="print*,&quot;hello world!!!&quot;" scheme="https://blog.youmingsama.cn/categories/print-hello-world/"/>
    
    
    <category term="golang" scheme="https://blog.youmingsama.cn/tags/golang/"/>
    
  </entry>
  
  <entry>
    <title>è¶…åŸºç¡€é“¾è¡¨è¶…å®Œæ•´ä»£ç å®ä¾‹å¤§æ¦‚</title>
    <link href="https://blog.youmingsama.cn/posts/c5f13f7/"/>
    <id>https://blog.youmingsama.cn/posts/c5f13f7/</id>
    <published>2020-04-19T00:00:00.000Z</published>
    <updated>2020-04-19T00:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<div class="note success flat"><p>ä¸ºäº†å¿«é€Ÿè®°å¿†ï¼Œä»¥åŠé—å¿˜é€ŸæŸ¥ï¼Œä¹Ÿä¸ºäº†å‡å°‘ç¢ç‰‡åŒ–è®°å¿†ï¼ˆè¿™æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿã€‚è¯¥æ¿å—çš„ä»£ç æ ·ä¾‹ä¸ºå®Œæ•´ç‰ˆï¼Œæœ¬ç€å¤åˆ¶å°±èƒ½è¿è¡Œçš„æ€åº¦ï¼Œå¤§æ¦‚ä¼šæŒç»­æ›´æ–°å§</p></div><h3 id="åˆ›å»ºé“¾è¡¨"><a class="markdownIt-Anchor" href="#åˆ›å»ºé“¾è¡¨"></a> åˆ›å»ºé“¾è¡¨</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="title class_">node</span> *listnode;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> data;</span><br><span class="line">    listnode next;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function">listnode <span class="title">create</span><span class="params">(<span class="type">int</span> a[])</span></span>&#123;</span><br><span class="line">    listnode p,pre,head;</span><br><span class="line">    head=<span class="keyword">new</span> node;</span><br><span class="line">    head-&gt;next=<span class="literal">nullptr</span>;</span><br><span class="line">    pre=head;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">5</span>;i++)&#123;</span><br><span class="line">        p=<span class="keyword">new</span> node;</span><br><span class="line">        p-&gt;data=a[i];</span><br><span class="line">        p-&gt;next=<span class="literal">nullptr</span>;</span><br><span class="line">        pre-&gt;next=p;</span><br><span class="line">        pre=p;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> a[]=&#123;<span class="number">3</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">7</span>&#125;;</span><br><span class="line">    listnode k=<span class="built_in">create</span>(a);</span><br><span class="line">    k=k-&gt;next;</span><br><span class="line">    <span class="keyword">while</span>(k!=<span class="literal">nullptr</span>)&#123;</span><br><span class="line">        cout&lt;&lt;k-&gt;data;</span><br><span class="line">        k=k-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æŸ¥æ‰¾å…ƒç´ "><a class="markdownIt-Anchor" href="#æŸ¥æ‰¾å…ƒç´ "></a> æŸ¥æ‰¾å…ƒç´ </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">search</span><span class="params">(listnode head,<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">        <span class="type">int</span> count=<span class="number">0</span>;<span class="comment">//è®¡æ•°å™¨</span></span><br><span class="line">        listnode p=head-&gt;next;</span><br><span class="line">        <span class="keyword">while</span>(p!=<span class="literal">nullptr</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(p-&gt;data==x)&#123;</span><br><span class="line">                count++;</span><br><span class="line">            &#125;</span><br><span class="line">            p=p-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ’å…¥å…ƒç´ "><a class="markdownIt-Anchor" href="#æ’å…¥å…ƒç´ "></a> æ’å…¥å…ƒç´ </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(listnode head, <span class="type">int</span> pos, <span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    listnode p=head;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;pos<span class="number">-1</span>;i++)&#123;</span><br><span class="line">        p=p-&gt;next;</span><br><span class="line">    &#125; <span class="comment">//cæ’å…¥åˆ°ä½ç½®çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå°±æ˜¯pos-1å“’</span></span><br><span class="line">    listnode q=<span class="keyword">new</span> node;</span><br><span class="line">    q-&gt;data=x;</span><br><span class="line">    q-&gt;next=p-&gt;next;</span><br><span class="line">    p-&gt;next=q;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åˆ é™¤å…ƒç´ "><a class="markdownIt-Anchor" href="#åˆ é™¤å…ƒç´ "></a> åˆ é™¤å…ƒç´ </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">del</span><span class="params">(listnode head,<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    listnode p=head-&gt;next;<span class="comment">//pä»ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å¼€å§‹æšä¸¾</span></span><br><span class="line">    listnode pre=head;<span class="comment">//preå§‹ç»ˆä¿å­˜å‰é©±èŠ‚ç‚¹çš„æŒ‡é’ˆ</span></span><br><span class="line">    <span class="keyword">while</span>(p!=<span class="literal">nullptr</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(p-&gt;data==x)&#123;</span><br><span class="line">            pre-&gt;next=p-&gt;next;</span><br><span class="line">            <span class="built_in">delete</span>(p);</span><br><span class="line">            p=pre-&gt;next;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;<span class="comment">//å¦‚æœä¸æ˜¯xï¼›å§preå’Œpéƒ½åç§»ä¸€ä½</span></span><br><span class="line">            pre=p;</span><br><span class="line">            p=p-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;note success flat&quot;&gt;&lt;p&gt;ä¸ºäº†å¿«é€Ÿè®°å¿†ï¼Œä»¥åŠé—å¿˜é€ŸæŸ¥ï¼Œä¹Ÿä¸ºäº†å‡å°‘ç¢ç‰‡åŒ–è®°å¿†ï¼ˆè¿™æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿã€‚è¯¥æ¿å—çš„ä»£ç æ ·ä¾‹ä¸ºå®Œæ•´ç‰ˆï¼Œæœ¬ç€å¤åˆ¶å°±èƒ½è¿è¡Œçš„æ€åº¦ï¼Œå¤§æ¦‚ä¼šæŒç»­æ›´æ–°å§&lt;/p&gt;
&lt;/div&gt;
&lt;h3 id=&quot;åˆ›å»ºé“¾è¡¨&quot;&gt;&lt;a class=&quot;markd</summary>
      
    
    
    
    <category term="bugçš„ç‚¼é‡‘å·¥åŠ" scheme="https://blog.youmingsama.cn/categories/bug%E7%9A%84%E7%82%BC%E9%87%91%E5%B7%A5%E5%9D%8A/"/>
    
    
    <category term="code" scheme="https://blog.youmingsama.cn/tags/code/"/>
    
  </entry>
  
  <entry>
    <title>æ’åº</title>
    <link href="https://blog.youmingsama.cn/posts/a444b428/"/>
    <id>https://blog.youmingsama.cn/posts/a444b428/</id>
    <published>2020-04-07T00:00:00.000Z</published>
    <updated>2023-06-23T07:25:57.098Z</updated>
    
    <content type="html"><![CDATA[<p>æ’åºå˜›ä¹‹å‰ä¹Ÿä¸æ˜¯æ²¡å†™è¿‡ï¼Œå°±åœ¨åˆšåˆšæ°´äº†1000å­—çš„æ—¶å€™ï¼Œæˆ‘ä¸€ä¸ªctrl+zæŒ‰è¿‡ç«äº†å¯¼è‡´ä¸å°å¿ƒæ²¡æœ‰ä¿å­˜çš„æºæ–‡ä»¶ä»˜è¯¸ä¸œæµï¼Œå¤ªè‰ç‡äº†ï¼Œç°åœ¨è¯´èµ·æ¥å¿ƒæƒ…å°±æœ‰ç‚¹ä½è½ï¼Œç½¢äº†ç½¢äº†ï¼Œæˆ‘çš„å¿ƒæƒ…çœŸçš„å¹³å¤ä¸‹æ¥äº†ã€‚è¯è¯´ä¹‹å‰ä¹Ÿè‰è‰çš„æ•´ç†è¿‡ä¸¤ç¯‡æ’åºçš„æ–‡ç« ï¼Œä¸è¿‡ç°åœ¨åœ¨çœ‹å‘æ›¾ç»æ•´ç†çš„ä¸œè¥¿ï¼Œå•Šå¤ªå¹¼ç¨šäº†</p><h2 id="æ€§èƒ½å¯¹æ¯”"><a class="markdownIt-Anchor" href="#æ€§èƒ½å¯¹æ¯”"></a> æ€§èƒ½å¯¹æ¯”</h2><escape> <table >      <tr><th rowspan="2">ç±»åˆ«</th><th rowspan="2">æ’åºæ–¹æ³•</th><th colspan="3">æ—¶é—´å¤æ‚åº¦</th><th>ç©ºé—´å¤æ‚åº¦</th><th rowspan="2">ç¨³å®šæ€§</th></tr>   <tr><td>æœ€å¥½æƒ…å†µ</td><td>æœ€åæƒ…å†µ</td><td>å¹³å‡æƒ…å†µ</td><td>è¾…åŠ©å‚¨å­˜</td></tr>   <tr><td rowspan="2">æ’å…¥æ’åº</td><td>ç›´æ¥æ’å…¥æ’åº</td><td>O(n)</td><td>O(n^2)</td><td>O(n^2)</td><td>O(1)</td><td>ä¸ç¨³å®š</td></tr><tr><td>å¸Œå°”æ’åº</td><td>O(n)</td><td>O(n^2)</td><td>~O(n^1.3)</td><td>O(1)</td><td>ä¸ç¨³å®š</td></tr><tr><td rowspan="2">äº¤æ¢æ’åº</td><td>å†’æ³¡æ’åº</td><td>O(n)</td><td>O(n^2)</td><td>O(n^2)</td><td>O(1)</td><td>ä¸ç¨³å®š</td></tr><tr><td>å¿«é€Ÿæ’åº</td><td>O(nlogn)</td><td>O(n^2)</td><td>O(nlogn)</td><td>O(nlogn)</td><td>ä¸ç¨³å®š</td></tr><tr><td rowspan="2">é€‰æ‹©æ’åº</td><td>ç›´æ¥é€‰æ‹©æ’åº</td><td>O(n^2)</td><td>O(n^2)</td><td>O(n^2)</td><td>O(1)</td><td>ä¸ç¨³å®š</td></tr><tr><td>å †æ’åº</td><td>O(nlogn)</td><td>O(nlogn)</td><td>O(nlogn)</td><td>O(n^2)</td><td>ä¸ç¨³å®š</td></tr><tr><td colspan="2">å½’å¹¶æ’åº</td><td>O(nlogn)</td><td>O(nlogn)</td><td>O(nlogn)</td><td>O(n)</td><td>ä¸ç¨³å®š</td></tr><tr><td colspan="2">åŸºæ•°æ’åºK:ä»£æ’å…ƒç´ çš„ç»´æ•°ï¼Œmä¸ºåŸºæ•°ä¸ªæ•°</td><td>O(m+n)</td><td>O(k*(n+m))</td><td>O(k*(n+m))</td><td>O(m+n)</td><td>ç¨³å®š</td></tr></table>   </escape> <p>pssssï¼šmakedownè¯­æ³•å¹¶æ²¡æœ‰åˆå¹¶å•å…ƒæ ¼çš„åŠŸèƒ½ï¼Œåˆ©ç”¨æ”¯æŒhtmlè¯­æ³•çš„ç‰¹æ€§çº¯æ‰‹æ’¸ï¼Œå—¯çœ‹èµ·æ¥æœç„¶æœ‰ç‚¹ä¸‘</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/laji.jpg" alt="" /></p><h2 id="æ’åºæœ‰ä»¥ä¸‹å‡ ç±»"><a class="markdownIt-Anchor" href="#æ’åºæœ‰ä»¥ä¸‹å‡ ç±»"></a> æ’åºæœ‰ä»¥ä¸‹å‡ ç±»</h2><table><thead><tr><th>ç§ç±»</th><th>æ–¹å¼1</th><th>æ–¹å¼2</th></tr></thead><tbody><tr><td>æŒ‰å‚¨å­˜ä»‹è´¨åˆ†</td><td>å†…éƒ¨æ’åº</td><td>å¤–éƒ¨æ’åº</td></tr><tr><td>æŒ‰æ¯”è¾ƒå™¨ä¸ªä¸ªæ•°åˆ†</td><td>ä¸²è¡Œæ’åºï¼šå•å¤„ç†å™¨</td><td>å¹¶è¡Œæ’åºï¼šå¤šå¤„ç†å™¨</td></tr><tr><td>æŒ‰ä¸»è¦æ“ä½œåˆ†</td><td>æ¯”è¾ƒæ’åº</td><td>åŸºæ•°æ’åº</td></tr><tr><td>æŒ‰è¾…åŠ©ç©ºé—´åˆ†</td><td>åŸç†æ’åº</td><td>éåŸåœ°æ’åº</td></tr><tr><td>æŒ‰ç¨³å®šæ€§åˆ†</td><td>ç¨³å®šæ’åºï¼šegæ’å…¥æ’åº</td><td>éç¨³å®šæ’åºï¼šegé€‰æ‹©æ’åº</td></tr><tr><td>æŒ‰è‡ªç„¶æ€§åˆ†</td><td>è‡ªç„¶æ’åº</td><td>éè‡ªç„¶æ’åº</td></tr></tbody></table><h2 id="æ’å…¥æ’åº"><a class="markdownIt-Anchor" href="#æ’å…¥æ’åº"></a> æ’å…¥æ’åº</h2><h3 id="ç›´æ¥æ’å…¥æ’åº"><a class="markdownIt-Anchor" href="#ç›´æ¥æ’å…¥æ’åº"></a> ç›´æ¥æ’å…¥æ’åº</h3><p>æ’å…¥æ’åºæ˜¯åº”è¯¥æ˜¯æœ€ç®€å•çš„æ’åºç®—æ³•ä¹‹ä¸€äº†ï¼Œä¸è¿‡æ’åºç®—æ³•ä¹Ÿæ²¡å‡ ä¸ªã€‚æ’å…¥æ’åºåˆN-1è¶Ÿæ’åºç»„æˆï¼Œå¯¹äºP=1åˆ°P=N-1è¶Ÿï¼Œæ’å…¥æ’åºåˆ©ç”¨äº†è¿™æ ·çš„äº‹å®ï¼›å…¶å®ä»0åˆ°ä½ç½®Pä¸Šçš„å…ƒç´ ä¸ºä»¥æ’åºçŠ¶æ€ã€‚æ’å…¥æ’åºåˆ©ç”¨äº†è¿™æ ·çš„äº‹å®ã€‚0åˆ°P-1çš„å…ƒç´ æ˜¯å·²ç»æ’è¿‡åºçš„ã€‚å¤§è‡´è¿‡ç¨‹å…¥ä¸‹</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/insertsort.jpg" alt="" /></p><blockquote><p>ä¸éš¾çŸ¥é“ï¼Œæ’å…¥æ’åºæ˜¯å°†å¾…æ’å…¥å…ƒç´ ä¸€ä¸ªä¸ªçš„æ’å…¥åˆ°å·²æœ‰åºçš„è¿‡ç¨‹ä¸­ï¼Œæ’å…¥ä½ç½®éµå¾ªäº†ä½¿ç”¨æ’å…¥ä»ç„¶ä¿æŒæœ‰åºçš„åŸåˆ™ï¼Œå…·ä½“åšæ³•æ˜¯ä»åå¾€å‰æšä¸¾å·²æœ‰çš„éƒ¨åˆ†æ¥ç¡®å®šæ’å…¥ä½ç½®ã€‚å…·ä½“å®ç°ä»£ç å¦‚ä¸‹</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span>&amp;lt;bits/stdc++.h&amp;gt;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insertsort</span><span class="params">(<span class="type">int</span> a[],<span class="type">int</span> n)</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="type">int</span> temp=a[i];<span class="type">int</span> j=i;</span><br><span class="line">            <span class="keyword">while</span> (j&gt;<span class="number">0</span>&amp;&amp;temp&lt;a[j<span class="number">-1</span>])</span><br><span class="line">            &#123;</span><br><span class="line">                a[j]=a[j<span class="number">-1</span>];</span><br><span class="line">                j--;</span><br><span class="line">            &#125;</span><br><span class="line">           a[j]=temp; </span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="type">int</span> a[]=&#123;<span class="number">9</span>,<span class="number">8</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">6</span>&#125;;</span><br><span class="line"><span class="built_in">insertsort</span>(a,<span class="number">9</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">9</span>;i++)&#123;</span><br><span class="line">    cout &lt;&lt; a[i];</span><br><span class="line">&#125;</span><br><span class="line">    <span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é€‰æ‹©æ’åº"><a class="markdownIt-Anchor" href="#é€‰æ‹©æ’åº"></a> é€‰æ‹©æ’åº</h2><h3 id="ç›´æ¥é€‰æ‹©æ’åº"><a class="markdownIt-Anchor" href="#ç›´æ¥é€‰æ‹©æ’åº"></a> ç›´æ¥é€‰æ‹©æ’åº</h3><p>é€‰æ‹©æ’åºä¹Ÿç®—æ˜¯æœ€ç®€å•çš„æ’åºç®—æ³•ä¹‹ä¸€äº†ã€‚æ²¡é”™åˆæ˜¯ä¹‹ä¸€ï¼ˆæ»‘ç¨½ã€‚ç”šè‡³æˆ‘ç”¨çš„è¿™æœ¬æ•™ç¨‹å·²ç»è‡ªåŠ¨çœç•¥äº†è¿™ä¸ªæ’åºç®—æ³•ã€‚è¿™æ ·å¤§æ¦‚å°±å¯ä»¥å† ä»¥æœ€ç®€å•çš„æ’åºç®—æ³•ä¹‹åäº†å§ï¼ˆé›¾ã€‚ç®€å•é€‰æ‹©æ’åºæ˜¯æŒ‡å¯¹äºä¸€ä¸ªåºåˆ—A[1]~A[n],ä»¤iä»1åˆ°næšä¸¾ï¼Œè¿›è¡Œnç³–æ“ä½œï¼Œæ¯è¶Ÿä»å¾…æ’åº[i,n]ä¸­é€‰æ‹©æœ€å°å…ƒç´ ã€‚ä»¤å…¶ä¸å¾…æ’åºéƒ¨åˆ†çš„ç¬¬ä¸€ä¸ªå…ƒç´ A[i]è¿›è¡Œäº¤æ¢ï¼Œè¿™æ ·å­çš„è¯å…ƒç´ A[i]å°±ä¼šä¸å½“å‰çš„æœ‰åºåŒºé—´[1,i-1]ï¼Œå½¢æˆæ–°çš„æœ‰åºåŒºé—´[1,i]ï¼Œäºæ˜¯åœ¨è¿›è¡Œnè¶Ÿæ’åºåï¼Œå…ƒç´ å°±ä¼šæ˜¯æœ‰åºçš„ã€‚</p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/selectsort2.jpg"  /><p>å®ç°ä»£ç å¦‚ä¸‹</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> &amp;lt;bits/stdc++.h&amp;gt;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">selectsort</span><span class="params">(<span class="type">int</span> a[], <span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n<span class="number">-1</span>;i++)&#123;</span><br><span class="line">        <span class="type">int</span> k=i;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=i;j&lt;n;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(a[k]&gt;a[j])</span><br><span class="line">            k=j;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">swap</span>(a[i],a[k]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> a[]=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">6</span>&#125;;</span><br><span class="line">    <span class="built_in">selectsort</span>(a,<span class="number">9</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">9</span>;i++)&#123;</span><br><span class="line">        cout &lt;&lt; a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>é€‰æ‹©æ’åºè™½ç„¶å¾ˆç®€å•ä¸é”™å•¦ï¼Œä½†æ˜¯ç”±äºæ—¶é—´å¤æ‚åº¦ä¸ºO(n<sup>2)çš„åŸå› å…¶å®å¤§éƒ¨åˆ†æƒ…å†µéƒ½ä¸èƒ½å¤„ç†ï¼Œå¤§æ¦‚åªèƒ½å¤„ç†10</sup>5è¿™ä¸ªèŒƒå›´åªèƒ½çš„æ•°æ®ã€‚æ‰€ä»¥åœ¨ä½¿ç”¨çš„æ—¶å€™è¦è®°ä½ä¸Šé™æ¡ä»¶ã€‚</p></blockquote><p>kaguyasamaå“‡å“‡å“‡å“‡å“‡å“‡å“‡ï¼ï¼ï¼ï¼ï¼ï¼ï¼</p><p>æˆ‘å·²ç»é¸½äº†å¥½ä¹…äº†ï¼ï¼jojoï¼ï¼ï¼æˆ‘ä¸å†™åšå®¢å•¦ï¼ï¼</p><h3 id="å †æ’åº"><a class="markdownIt-Anchor" href="#å †æ’åº"></a> å †æ’åº</h3><p>å¤§æ¦‚ç®€ä»‹ä¸Šåªæœ‰é‚£ä¹ˆçŸ­çŸ­ä¸‰å¥è¯ï¼Œ</p><ul><li>å¯¹æ‰€æœ‰è®°å½•å»º <a href="https://oi-wiki.org/ds/heap/">å †</a> ã€‚</li><li>ä¾æ¬¡å–å‡ºå †é¡¶å…ƒç´ ï¼Œå°±å¯ä»¥å¾—åˆ°æ’å¥½åºçš„åºåˆ—ã€‚</li><li>æ—¶é—´å¤æ‚åº¦ä¸ºO(nlogn) ã€‚</li></ul><p>å †å³æ˜¯ä¸€ä¸ªå¯ä»¥çœ‹ä½œä¸ºå®Œå…¨äºŒå‰æ ‘çš„æ•°ç»„ã€‚ã€Šç®—æ³•å¯¼è®ºã€‹ç¬¬ä¸‰ç‰ˆè¿™æ ·å®šä¹‰ï¼š</p><blockquote><p>*The(binary) heap data structure is an array object that we can view<br />as a nearly completely binary tree.</p></blockquote><p>åªè¦ä¸€ä¸ªåºåˆ—å¯ä»¥çœ‹ä½œä¸ºä¸€ä¸ªå®Œå…¨äºŒå‰æ ‘ï¼Œå®ƒåˆæ»¡è¶³å †çš„æ€§è´¨ï¼Œé‚£ä¹ˆå®ƒå°±å¯ä»¥ç§°<br />ä¹‹ä¸ºä¸€ä¸ªå †ã€‚â€”â€”ä¸€ä¸ªæ•°ç»„å¯ä»¥è¿™æ ·çœ‹æˆä¸€ä¸ªå®Œå…¨äºŒå‰æ ‘ï¼Œå°†ç¬¬ä¸€ä¸ªæ•°çœ‹ä½œæ ¹ç»“ç‚¹ï¼Œ<br />ç¬¬äºŒå’Œç¬¬ä¸‰ä¸ªæ•°çœ‹ä½œç¬¬ä¸€ä¸ªæ•°çš„å·¦å­©å­å’Œå³å­©å­ï¼Œâ€¦ï¼Œå°†ç¬¬<em>2n</em>å’Œç¬¬<em>2n+1</em>æ•°çœ‹ä½œ<br />æ˜¯ç¬¬nä¸ªæ•°çš„ä¸¤ä¸ªå­©å­ã€‚</p><p>å †å¯ä»¥åˆ†ä¸ºå¤§å †å’Œå°å †ï¼Œæ‰€è°“å †å±æ€§æ˜¯æŒ‡ç»“ç‚¹åº”æ€»æ˜¯å¤§äºå®ƒçš„å­©å­ï¼Œæ­¤ä¸ºå¤§å †å±æ€§ã€‚<br />å¯¹äºå°å †æ¥è®²åˆ™åä¹‹ã€‚ä¹Ÿå°±æ˜¯è¯´å †çš„æ ¹ç»“ç‚¹æ€»æ˜¯å­˜å‚¨ç€æœ€å¤§æˆ–æœ€å°çš„æ•°ï¼Œå½“ä¸€ä¸ªå®Œ<br />å…¨äºŒå‰æ ‘ä¸­æ‰€æœ‰çš„ç»“ç‚¹éƒ½æ»¡è¶³å †å±æ€§æ—¶æ­¤å®Œå…¨äºŒå‰æ ‘å°±å¯ä»¥çœ‹ä½œä¸ºä¸€ä¸ªå †ã€‚</p><p>æ€»çš„æ¥è®²ï¼Œå †æ’åºçš„è¦è¯€åœ¨äºå †çš„ä¸€ä¸ªç‰¹æ€§â€”â€”å †çš„æ ¹ç»“ç‚¹æ€»æ˜¯å­˜å‚¨ç€æœ€å¤§æˆ–æœ€å°çš„<br />æ•°ã€‚å‡ä½¿æˆ‘ä»¬èƒ½å°†ä¸€ç»„æ•°å»ºå †ï¼Œé‚£ä¹ˆåªéœ€è¦ä¸æ–­çš„åœ¨å–å‡ºæ ¹ç»“ç‚¹å’Œç»´æŒå †å±æ€§è¿™ä¸¤<br />æ­¥ä¸­ä¸æ–­å¾ªç¯å°±å¯ä»¥å®Œæˆæ’åºäº†</p><blockquote><p>ä»¥ä¸‹æ˜¯c++å®ç°ä»£ç </p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">HeapAdjust</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;list, <span class="type">int</span> parent, <span class="type">int</span> length)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> temp = list[parent];                    <span class="comment">// tempä¿å­˜å½“å‰çˆ¶èŠ‚ç‚¹</span></span><br><span class="line">    <span class="type">int</span> child = <span class="number">2</span> * parent + <span class="number">1</span>;                    <span class="comment">// å…ˆè·å¾—å·¦å­©å­</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">while</span> (child &lt; length)&#123;</span><br><span class="line">        <span class="comment">// å¦‚æœæœ‰å³å­©å­ç»“ç‚¹ï¼Œå¹¶ä¸”å³å­©å­ç»“ç‚¹çš„å€¼å¤§äºå·¦å­©å­ç»“ç‚¹ï¼Œåˆ™é€‰å–å³å­©å­ç»“ç‚¹</span></span><br><span class="line">        <span class="keyword">if</span> (child + <span class="number">1</span> &lt; length &amp;&amp; list[child] &lt; list[child + <span class="number">1</span>])&#123;</span><br><span class="line">            child++;</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="comment">// å¦‚æœæœ‰å³å­©å­ç»“ç‚¹ï¼Œå¹¶ä¸”å³å­©å­ç»“ç‚¹çš„å€¼å¤§äºå·¦å­©å­ç»“ç‚¹ï¼Œåˆ™é€‰å–å³å­©å­ç»“ç‚¹</span></span><br><span class="line">        <span class="keyword">if</span> (temp &gt;= list[child])&#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="comment">// æŠŠå­©å­ç»“ç‚¹çš„å€¼èµ‹ç»™çˆ¶ç»“ç‚¹</span></span><br><span class="line">        list[parent] = list[child];</span><br><span class="line"> </span><br><span class="line">        <span class="comment">// é€‰å–å­©å­ç»“ç‚¹çš„å·¦å­©å­ç»“ç‚¹,ç»§ç»­å‘ä¸‹ç­›é€‰</span></span><br><span class="line">        parent = child;</span><br><span class="line">        child = <span class="number">2</span> * parent + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    list[parent] = temp;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">HeadSort</span><span class="params">(vector&lt;<span class="type">int</span>&gt; list)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> length = list.<span class="built_in">size</span>();</span><br><span class="line">    <span class="comment">// å¾ªç¯å»ºç«‹åˆå§‹å †</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = length / <span class="number">2</span> - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)&#123;</span><br><span class="line">        <span class="built_in">HeapAdjust</span>(list, i, length);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// è¿›è¡Œn-1æ¬¡å¾ªç¯ï¼Œå®Œæˆæ’åº</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = length - <span class="number">1</span>; i &gt; <span class="number">0</span>; i--)&#123;</span><br><span class="line">        <span class="comment">// æœ€åä¸€ä¸ªå…ƒç´ å’Œç¬¬ä¸€å…ƒç´ è¿›è¡Œäº¤æ¢</span></span><br><span class="line">        <span class="type">int</span> temp = list[i];</span><br><span class="line">        list[i] = list[<span class="number">0</span>];</span><br><span class="line">        list[<span class="number">0</span>] = temp;</span><br><span class="line">        </span><br><span class="line"> </span><br><span class="line">        <span class="comment">// ç­›é€‰ R[0] ç»“ç‚¹ï¼Œå¾—åˆ°i-1ä¸ªç»“ç‚¹çš„å †</span></span><br><span class="line">        <span class="built_in">HeapAdjust</span>(list, <span class="number">0</span>, i);</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;ç¬¬&quot;</span> &lt;&lt; length - i &lt;&lt; <span class="string">&quot;è¶Ÿæ’åº:&quot;</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; list.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">            cout &lt;&lt; list[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> arr[] = &#123; <span class="number">5</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span> &#125;;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">test</span><span class="params">(arr, arr + <span class="keyword">sizeof</span>(arr) / <span class="keyword">sizeof</span>(arr[<span class="number">0</span>]))</span></span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;æ’åºå‰:&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; test.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">        cout &lt;&lt; test[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; result;</span><br><span class="line">    result = <span class="built_in">HeadSort</span>(test);</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;æ’åºå:&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; result.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">        cout &lt;&lt; result[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="äº¤æ¢æ’åº"><a class="markdownIt-Anchor" href="#äº¤æ¢æ’åº"></a> äº¤æ¢æ’åº</h2><h3 id="å†’æ³¡æ’åº"><a class="markdownIt-Anchor" href="#å†’æ³¡æ’åº"></a> å†’æ³¡æ’åº</h3><p>å†’æ³¡æ’åºåŸç†å®ç°å¾ˆç®€å•ï¼Œè¦æƒ³è½»æ¾ç®€å•çš„ç†è§£çš„ç†è§£å†’æ³¡æ’åºï¼Œå¯ä»¥å§æ•°ç»„ç†è§£æˆä¸€ä¸ªå‚ç›´çŒªè¹„ï¼Œå…¶ä¸­æœ€å°çš„å…ƒç´ åœ¨é¡¶éƒ¨ï¼Œæœ€å¤§çš„å…ƒç´ åœ¨åº•éƒ¨ã€‚æ•°ç»„ä»åº•éƒ¨å¾€ä¸Šæ‰«æã€‚å°±åƒæ°´çš„å†’æ³¡åŸç†ä¸€æ ·ï¼Œæ°”æ³¡æ˜¯ä»åº•éƒ¨ä¸€ç‚¹ç‚¹çš„å¾€ä¸Šå†’çš„ã€‚å¦‚æœç›¸é‚»çš„ä¸¤ä¸ªå…ƒç´ é€†åºã€‚åˆ™äº¤æ¢ä¸¤è€…çš„ä½ç½®ï¼Œ</p><p><strong>é¦–å…ˆ</strong></p><p>æ¯”è¾ƒ<strong>data[n-1]<strong>å’Œ</strong>data[n-2]<strong>ä¹‹é—´çš„å¤§å°ï¼Œå¦‚æœé€†åºåˆ™äº’æ¢ï¼Œæ¥ç€æ¯”è¾ƒ</strong>data[n-2]<strong>å’Œ</strong>data[n-3]</strong>ã€‚æœ‰éœ€è¦æ—¶å°±æ”¹å˜ä»–ä»¬çš„é¡ºåºï¼Œå°±è¿™æ ·ä¸€ç›´ä¸€ç›´çš„æ¯”è¾ƒåˆ°<strong>data[1]<strong>åˆ°</strong>data[0]</strong>ï¼›å°±è¿™æ ·æœ€å°çš„å…ƒç´ å°±ç§»åŠ¨åˆ°äº†é¡¶éƒ¨ã€‚</p><p>ç„¶è€Œï¼Œè¿™åªæ˜¯å®Œæˆäº†ç¬¬ä¸€æ­¥ã€‚æˆ‘ä»¬éœ€è¦å†æ¬¡å¯¹æ•°ç»„è¿›è¡Œæ‰«æï¼Œæ¯”è¾ƒå‰©ä¸‹æ¥çš„æ•°æ®é¡¹ã€‚å½“æœ‰éœ€è¦çš„æ—¶å€™éœ€è¦äº¤æ¢ä½ç½®ã€‚ç„¶åå°±è¿™æ ·å“ˆä¸€ç›´ä¸€ç›´çš„æ¯”ä¸‹å»ï¼Œæœ€åä¸€é¡¹æ¯”è¾ƒçš„æ˜¯<strong>data[1]<strong>å’Œ</strong>data[0]</strong>;ç”±äº<strong>data[0]<strong>åœ¨ç¬¬ä¸€æ¬¡ä¸€å®šå®Œæˆåå·²ç»æ˜¯æœ€å°çš„äº†ã€‚ä¹Ÿå°±æ˜¯ä½ç½®</strong>0</strong>ï¼Œç„¶è€Œç¬¬äºŒæ¬¡å†’æ³¡æœ€å°çš„å…ƒç´ ä¼šæ”¾åœ¨ç¬¬äºŒä¸ªä½ç½®ä¸Šä¹Ÿå°±æ˜¯<strong>1</strong>ï¼ï¼ï¼ï¼ï¼ç„¶åç¬¬ä¸‰æ¬¡ç¬¬å››æ¬¡ä¾æ¬¡æŒ‰ç…§åŒæ ·çš„æ–¹æ³•å°±è¡Œäº†ã€‚åˆ°æœ€åä¸€æ­¥åªéœ€è¦æ¯”è¾ƒ**data[n-1]<strong>å’Œ</strong>data[n-2]**ä¹‹é—´çš„å¤§å°å°±å¥½äº†ã€‚</p><p>ä¸‹é¢å†™ä¸Šä¼ªä»£ç </p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">bubblesort</span>(data[],n)</span><br><span class="line">    <span class="keyword">for</span> iåˆ°n<span class="number">-2</span></span><br><span class="line">        <span class="keyword">for</span> j=n<span class="number">-1</span>åˆ°i+<span class="number">1</span></span><br><span class="line">            å¦‚æœä¸¤è€…é€†åºï¼Œäº¤æ¢jå’Œj<span class="number">-1</span>ä½ç½®çš„å…ƒç´ </span><br></pre></td></tr></table></figure><h4 id="å…·ä½“å®ç°"><a class="markdownIt-Anchor" href="#å…·ä½“å®ç°"></a> å…·ä½“å®ç°</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">bubblesort</span><span class="params">(<span class="type">int</span> data[], <span class="type">int</span> n)</span><span class="comment">//ä»£ç å°±ä¸è§£é‡Šå•¦å…«</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n - <span class="number">1</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = n - <span class="number">1</span>; j &gt; i; --j)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (data[j] &lt; data[j - <span class="number">1</span>])</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">swap</span>(data[j], data[j - <span class="number">1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="type">int</span> a[n];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">size_t</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">bubblesort</span>(a, n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">size_t</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; a[i]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¿«é€Ÿæ’åº"><a class="markdownIt-Anchor" href="#å¿«é€Ÿæ’åº"></a> å¿«é€Ÿæ’åº</h3><p>å¿«é€Ÿæ’åº(quicksort)æ˜¯åœ¨å®è·µä¸­ä¸­ç›®å‰æœ€å¿«çš„å·²çŸ¥ç®—æ³•ï¼Œå¹³å‡è¿è¡Œä¸ºO(nlogn)ï¼Œè¯¥ç®—æ³•è¶…çº§å¿«ï¼Œä¸»è¦æ˜¯ç”±äºéå¸¸ç²¾ç‚¼å’Œé«˜åº¦ä¼˜åŒ–çš„å†…éƒ¨å¾ªç¯ï¼Œè™½ç„¶ä»–æœ€åçš„æƒ…å†µèƒ½è¾¾åˆ°O(n^2)ï¼Œä½†åªè¦ç¨åŠ åŠªåŠ›å°±èƒ½é¿å…è¿™ç§æƒ…å†µã€‚</p><p>å…¶æ ¸å¿ƒæ€æƒ³æ˜¯åˆ†æ²»ï¼šé€‰æ‹©æ•°ç»„ä¸­æŸä¸ªæ•°ä½œä¸ºåŸºæ•°ï¼Œé€šè¿‡ä¸€è¶Ÿæ’åºå°†è¦æ’åºçš„æ•°æ®åˆ†å‰²æˆç‹¬ç«‹çš„ä¸¤éƒ¨åˆ†ï¼Œå…¶ä¸­ä¸€éƒ¨åˆ†çš„æ‰€æœ‰æ•°éƒ½æ¯”åŸºæ•°å°ï¼Œå¦å¤–ä¸€éƒ¨åˆ†çš„æ‰€æœ‰æ•°éƒ½éƒ½æ¯”åŸºæ•°å¤§ï¼Œç„¶åå†æŒ‰æ­¤æ–¹æ³•å¯¹è¿™ä¸¤éƒ¨åˆ†æ•°æ®åˆ†åˆ«è¿›è¡Œå¿«é€Ÿæ’åºï¼Œå¾ªç¯é€’å½’ï¼Œæœ€ç»ˆä½¿æ•´ä¸ªæ•°ç»„å˜æˆæœ‰åºã€‚</p><p>å¤§æ¦‚å¯ä»¥æ€»ç»“ä¸ºä¸€ä¸‹ä¸‰ä¸ªè¿‡ç¨‹</p><ol><li>å°†æ•°åˆ—åˆ’åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼ˆä¸æ˜¯ç›´æ¥åˆ†ï¼Œè¦æ±‚ä¿è¯ç›¸å¯¹å¤§å°å…³ç³»ï¼‰</li><li>é€’å½’åˆ°ä¸¤ä¸ªå­åºåˆ—ä¸­åˆ†åˆ«è¿›è¡Œå¿«é€Ÿæ’åº</li><li>ä¸ç”¨åˆå¹¶ï¼Œå› ä¸ºæ­¤æ—¶æ•°åˆ—å·²ç»å®Œå…¨æœ‰åº</li></ol><p>å’Œå½’å¹¶æ’åºä¸åŒï¼Œç¬¬ä¸€æ­¥å¹¶ä¸æ˜¯ç›´æ¥åˆ†æˆå‰åä¸¤ä¸ªåºåˆ—ï¼Œè€Œæ˜¯åœ¨åˆ†çš„è¿‡ç¨‹ä¸­è¦ä¿è¯ç›¸å¯¹å¤§å°å…³ç³»ã€‚ç¬¬ä¸‰æ­¥ä¸­çš„åºåˆ—å·²ç»åˆ†åˆ«æœ‰åºä¸”ç¬¬ä¸€ä¸ªåºåˆ—ä¸­çš„æ•°éƒ½å°äºç¬¬äºŒä¸ªæ•°ï¼Œæ‰€ä»¥ç›´æ¥æ‹¼æ¥èµ·æ¥å°±å¥½äº†ã€‚å…·ä½“æ¥è¯´ï¼Œç¬¬ä¸€æ­¥è¦æ˜¯è¦æŠŠæ•°åˆ—åˆ†æˆä¸¤ä¸ªéƒ¨åˆ†ï¼Œç„¶åä¿è¯å‰ä¸€ä¸ªå­æ•°åˆ—ä¸­çš„æ•°éƒ½å°äºåä¸€ä¸ªå­æ•°åˆ—ä¸­çš„æ•°ã€‚æ€ä¹ˆæ“ä½œå‘¢ï¼Ÿ</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/zazima.jpg" alt="" /></p><p>ä¸ºäº†ä¿è¯å¹³å‡æ—¶é—´å¤æ‚åº¦ï¼Œä¸€èˆ¬æ˜¯éšæœºé€‰æ‹©ä¸€ä¸ªæ•° m æ¥å½“åšä¸¤ä¸ªå­æ•°åˆ—çš„åˆ†ç•Œã€‚ä¹‹åï¼Œç»´æŠ¤ä¸€å‰ä¸€åä¸¤ä¸ªæŒ‡é’ˆ p å’Œ qï¼Œä¾æ¬¡è€ƒè™‘å½“å‰çš„æ•°æ˜¯å¦æ”¾åœ¨äº†åº”è¯¥æ”¾çš„ä½ç½®ï¼ˆå‰è¿˜æ˜¯åï¼‰ï¼Œå½“å‰ä½ç½®æ”¾å¯¹äº†ä¹‹åï¼Œå†ç§»åŠ¨æŒ‡é’ˆç»§ç»­å¤„ç†ï¼Œç›´åˆ°ä¸¤ä¸ªæŒ‡é’ˆç›¸é‡ã€‚å¦‚æœå½“å‰çš„æ•°æ²¡æ”¾å¯¹å‘¢ï¼Ÿæ¯”å¦‚è¯´å¦‚æœåé¢çš„æŒ‡é’ˆ q é‡åˆ°äº†ä¸€ä¸ªæ¯” m å°çš„æ•°ï¼Œé‚£ä¹ˆå¯ä»¥äº¤æ¢ p å’Œ q ä½ç½®ä¸Šçš„æ•°ï¼Œå†æŠŠ p å‘åç§»ä¸€ä½ã€‚å…¶å®ï¼Œå¿«é€Ÿæ’åºæ²¡æœ‰æŒ‡å®šåº”å¦‚ä½•å…·ä½“å®ç°ç¬¬ä¸€æ­¥ï¼Œä¸è®ºæ˜¯é€‰æ‹© m çš„è¿‡ç¨‹è¿˜æ˜¯åˆ’åˆ†çš„è¿‡ç¨‹ï¼Œéƒ½ä¸æ˜¯åªæœ‰ä¸€ç§å®ç°æ–¹æ³•ã€‚</p><p>ä¸€èˆ¬æˆ‘ä»¬è¯´çš„å¿«é€Ÿæ’åºçš„æ—¶é—´å¤æ‚åº¦æ˜¯å¹³å‡ä¸º O(nlogn)ï¼Œæœ€åæ˜¯ O(n^2)ï¼Œå®è·µä¸­å‡ ä¹ä¸å¯èƒ½è¾¾åˆ°æœ€åæƒ…å†µã€‚ä¸”å› ä¸ºå¿«é€Ÿæ’åºçš„å†…å­˜è®¿é—®éµå¾ªå±€éƒ¨æ€§åŸç†ï¼Œå¤šæ•°æƒ…å†µä¸‹å¿«é€Ÿæ’åºçš„è¡¨ç°å¤§å¹…ä¼˜äºå †æ’åºç­‰å…¶ä»–å¤æ‚åº¦ä¸ºO(nlogn) çš„æ’åºç®—æ³•ã€‚</p><p>å…¶å®ï¼Œåœ¨é€‰æ‹© m çš„è¿‡ç¨‹ä¸­ä½¿ç”¨ <a href="https://en.wikipedia.org/wiki/Median_of_medians">Median of Medians</a> ç®—æ³•ï¼Œå°±å¯ä»¥ä¿è¯æœ€åæ—¶é—´å¤æ‚åº¦ä¸º O(nlogn)ï¼Œä½†æ˜¯ç”±äºå…¶è¿‡äºå¤æ‚ï¼Œå®è·µä¸­ä¸€èˆ¬ä¸ä½¿ç”¨ã€‚</p><h3 id="å…·ä½“å®ç°-2"><a class="markdownIt-Anchor" href="#å…·ä½“å®ç°-2"></a> å…·ä½“å®ç°</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">partition</span><span class="params">(<span class="type">int</span> a[],<span class="type">int</span> left,<span class="type">int</span> right)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> temp=a[left];</span><br><span class="line">    <span class="keyword">while</span> (left&lt;right)</span><br><span class="line">    &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(left&lt;right&amp;&amp;a[right]&gt;temp)right--;</span><br><span class="line">    a[left]=a[right];</span><br><span class="line">    <span class="keyword">while</span>(left&lt;right&amp;&amp;a[left]&lt;temp)left++;</span><br><span class="line">    a[right]=a[left];</span><br><span class="line">&#125;</span><br><span class="line">a[left]=temp;</span><br><span class="line"><span class="keyword">return</span> left;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">quicksort</span><span class="params">(<span class="type">int</span> a[],<span class="type">int</span> left,<span class="type">int</span> right)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(left&lt;right)&#123;</span><br><span class="line">    <span class="type">int</span> post=<span class="built_in">partition</span>(a,left,right);</span><br><span class="line">    <span class="built_in">quicksort</span>(a,left,post<span class="number">-1</span>);</span><br><span class="line">    <span class="built_in">quicksort</span>(a,post+<span class="number">1</span>,right);</span><br><span class="line">&#125;&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="type">int</span> a[]=&#123;<span class="number">7</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">1</span>,<span class="number">8</span>,<span class="number">9</span>&#125;;</span><br><span class="line"><span class="built_in">quicksort</span>(a,<span class="number">0</span>,<span class="number">8</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">9</span>;i++)</span><br><span class="line">cout &lt;&lt; a[i];</span><br><span class="line">    <span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¸Œå°”æ’åº"><a class="markdownIt-Anchor" href="#å¸Œå°”æ’åº"></a> å¸Œå°”æ’åº</h2><blockquote><p>é€‰æ‹©æ’åºä¹Ÿæ˜¯ä¸€ç§æ’å…¥æ’åº</p></blockquote><p>è¯´èµ·å¸Œå°”æ’åºå½“ç„¶æ˜¯å’Œä»–çš„å‘æ˜è€…å¸Œå°”æœ‰å…³ç³»å•¦ï¼ˆé›¾ï¼Œè¯¥ç®—æ³•ç®—æ˜¯æœ€æ—©çš„ä¸€æ‰¹å†²ç ´äºŒæ¬¡å±éšœçš„ç®—æ³•çš„å‰è¾ˆäº†ã€‚è¿‡äº†è‹¥å¹²å¹´åæ‰è¯æ˜äº†ä»–çš„äºšäºŒæ¬¡ç•Œï¼ŒåŸç†æ˜¯é€šè¿‡æ¯”è¾ƒç›¸è·ä¸€å®šé—´éš”çš„å…ƒç´ æ¥å·¥ä½œï¼›å„è¶Ÿæ¯”è¾ƒæ‰€ç”¨çš„è·ç¦»éšç€ç®—æ³•çš„è¿›è¡Œè€Œå‡å°ï¼Œç›´åˆ°æ¯”è¾ƒç›¸é‚»å…ƒç´ çš„æœ€åä¸€è¶Ÿæ’åºä¸ºæ­¢ï¼Œæ‰€ä»¥å¸Œå°”æ’åºæœ‰æ—¶ä¹Ÿè¢«å«åšç¼©å°å¢é‡æ’åº(<code>diminishing increment sort</code>)</p><p>å¤§æ¦‚å®ç°å›¾è§£</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/xier.webp" alt="" /></p><h3 id="é‡ç‚¹æ¥å•¦"><a class="markdownIt-Anchor" href="#é‡ç‚¹æ¥å•¦"></a> <s>é‡ç‚¹æ¥å•¦ï¼ï¼ï¼</s></h3><p>Shell æ’åºæ˜¯ä»¥å®ƒçš„å‘æ˜è€…å‘½åçš„ï¼ˆåºŸè¯ï¼Œä¹Ÿç§°ä¸ºç¼©å°å¢é‡æ’åºæ³•ã€‚Shell æ’åºå¯¹ä¸ç›¸é‚»çš„è®°å½•è¿›è¡Œæ¯”è¾ƒå’Œç§»åŠ¨ï¼š</p><ol><li>å°†å¾…æ’åºåºåˆ—åˆ†ä¸ºè‹¥å¹²å­åºåˆ—ï¼ˆæ¯ä¸ªå­åºåˆ—çš„å…ƒç´ åœ¨åŸå§‹æ•°ç»„ä¸­é—´è·ç›¸åŒï¼‰</li><li>å¯¹è¿™äº›å­åºåˆ—è¿›è¡Œæ’å…¥æ’åº</li><li>å‡å°æ¯ä¸ªå­åºåˆ—ä¸­å…ƒç´ ä¹‹é—´çš„é—´è·ï¼Œé‡å¤ä¸Šè¿°è¿‡ç¨‹ç›´è‡³é—´è·å‡å°‘ä¸º 1</li></ol><p>Shell æ’åºçš„å¤æ‚åº¦å’Œé—´è·åºåˆ—çš„é€‰å–ï¼ˆå°±æ˜¯é—´è·å¦‚ä½•å‡å°åˆ° 1ï¼‰æœ‰å…³ï¼Œæ¯”å¦‚â€œé—´è·æ¯æ¬¡é™¤ä»¥ 3â€çš„ Shell æ’åºçš„å¤æ‚åº¦æ˜¯ O(n^2/3)ã€‚</p><h3 id="å…·ä½“å®ç°-3"><a class="markdownIt-Anchor" href="#å…·ä½“å®ç°-3"></a> å…·ä½“å®ç°</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span>&amp;lt;bits/stdc++.h&amp;gt;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">shellsort</span><span class="params">(<span class="type">int</span> a[],<span class="type">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> i,j,Increment;</span><br><span class="line">    <span class="type">int</span> temp;</span><br><span class="line">    <span class="keyword">for</span>(Increment=n/<span class="number">2</span>;Increment&gt;<span class="number">0</span>;Increment/=<span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span>(i=Increment;i&lt;n;i++)&#123;</span><br><span class="line">            temp=a[i];</span><br><span class="line">            <span class="keyword">for</span>(j=i;j&gt;=Increment;j-=Increment)</span><br><span class="line">            <span class="keyword">if</span>(temp&lt;a[j-Increment])</span><br><span class="line">            a[j]=a[j-Increment];</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line">            a[j]=temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> a[]=&#123;<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">7</span>,<span class="number">1</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">2</span>,<span class="number">9</span>,<span class="number">5</span>&#125;;</span><br><span class="line">    <span class="built_in">shellsort</span>(a,<span class="number">10</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)</span><br><span class="line">    cout&lt;&lt;a[i]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">    <span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å½’å¹¶æ’åº"><a class="markdownIt-Anchor" href="#å½’å¹¶æ’åº"></a> å½’å¹¶æ’åº</h2><p>å½’å¹¶æ’åºæ˜¯ä¸€ç§é‡‡ç”¨äº† <a href="https://oi-wiki.org/basic/divide-and-conquer/">åˆ†æ²»</a> æ€æƒ³çš„æ’åºç®—æ³•ã€‚</p><p>å½’å¹¶æ’åºåˆ†ä¸ºä¸‰ä¸ªè¿‡ç¨‹ï¼š</p><ol><li>å°†æ•°åˆ—åˆ’åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼ˆåœ¨å‡åŒ€åˆ’åˆ†æ—¶æ—¶é—´å¤æ‚åº¦ä¸º Oï¼ˆnlognï¼‰ï¼›</li><li>é€’å½’åœ°åˆ†åˆ«å¯¹ä¸¤ä¸ªå­åºåˆ—è¿›è¡Œå½’å¹¶æ’åºï¼›</li><li>åˆå¹¶ä¸¤ä¸ªå­åºåˆ—ã€‚</li></ol><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/MERGE-SORT.png" alt="" /></p><p>ä¸éš¾å‘ç°ï¼Œå½’å¹¶æ’åºçš„æ ¸å¿ƒæ˜¯å¦‚ä½•åˆå¹¶ä¸¤ä¸ªå­åºåˆ—ï¼Œå‰ä¸¤æ­¥éƒ½å¾ˆå¥½å®ç°ã€‚ç›´æ¥æ’‚ä»£ç </p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/bqb.jpg" alt="" /></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn = <span class="number">100</span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">merge</span><span class="params">(<span class="type">int</span> A[], <span class="type">int</span> L1, <span class="type">int</span> R1, <span class="type">int</span> L2, <span class="type">int</span> R2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> i = L1, j = L2;</span><br><span class="line">    <span class="type">int</span> temp[maxn], index = <span class="number">0</span>;<span class="comment">//tempä¸´æ—¶å‚¨å­˜å˜é‡</span></span><br><span class="line">    <span class="keyword">while</span> (i &lt;= R1 &amp;&amp; j &lt;= R2)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (A[i] &lt;= A[j])</span><br><span class="line">        &#123;</span><br><span class="line">            temp[index++] = A[i++];<span class="comment">//å¦‚æœæ»¡è¶³æ¡ä»¶å°†A[i]åŠ å…¥temp</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            temp[index++] = A[j++];<span class="comment">//å¦åˆ™åŠ å…¥A[j]</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (i &lt;= R1)</span><br><span class="line">        temp[index++] = A[i++];<span class="comment">//åŠ å…¥å‰©ä½™å…ƒç´ </span></span><br><span class="line">    <span class="keyword">while</span> (j &lt;= R2)</span><br><span class="line">        temp[index++] = A[j++];</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; index; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        A[L1 + i] = temp[i];<span class="comment">//åˆå¹¶æˆ–çš„åºåˆ—èµ‹å€¼å›æ•°ç»„A</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">mergeSort</span><span class="params">(<span class="type">int</span> A[], <span class="type">int</span> left, <span class="type">int</span> right)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (left &lt; right)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> mid = (left + right) / <span class="number">2</span>;</span><br><span class="line">        <span class="built_in">mergeSort</span>(A, left, mid);</span><br><span class="line">        <span class="built_in">mergeSort</span>(A, mid + <span class="number">1</span>, right);</span><br><span class="line">        <span class="built_in">merge</span>(A,left,mid,mid+<span class="number">1</span>,right);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> A[] = &#123;<span class="number">1</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">7</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">2</span>, <span class="number">9</span>&#125;;</span><br><span class="line">    <span class="built_in">mergeSort</span>(A, <span class="number">0</span>, <span class="number">8</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">9</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; A[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å•Šï¼Œå¯¹äº†åŠ ä¸Šéé€’å½’å®ç°</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">mergeSort</span><span class="params">(<span class="type">int</span> A[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> step = <span class="number">2</span>; step / <span class="number">2</span> &lt; n; step *= <span class="number">2</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i += step)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> mid = i + step / <span class="number">2</span> - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (mid + <span class="number">1</span> &lt;= n)</span><br><span class="line">                <span class="built_in">merge</span>(A, i, mid, mid + <span class="number">1</span>, <span class="built_in">min</span>(i + step - <span class="number">1</span>, n));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¦‚æœæƒ³è§‚å¯Ÿæ¯ä¸€æ¬¡æ’åºåçš„ç»“æœ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">merge</span><span class="params">(<span class="type">int</span> a[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> step = <span class="number">2</span>; step / <span class="number">2</span> &lt; <span class="number">9</span>; step *= <span class="number">2</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">9</span>; i += step)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">sort</span>(a + i, a + <span class="built_in">min</span>(i + step, <span class="number">10</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">9</span>; i++)</span><br><span class="line">            cout &lt;&lt; a[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åŸºæ•°æ’åº"><a class="markdownIt-Anchor" href="#åŸºæ•°æ’åº"></a> åŸºæ•°æ’åº</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬è¦æœ‰åä¸ªæ¡¶ï¼Œå’Œä¸€ä¸ªå¤§æ¡¶ï¼ˆæ¡¶é‡Œçš„æ•°æ ¹æ®å…ˆåˆ°å…ˆå‡ºçš„é¡ºåºï¼Œæ˜¯ä¸€ä¸ªé˜Ÿåˆ—ï¼Œä¸‹æ–‡ä¸ä½œè¯´æ˜äº†ï¼‰</p><p>ç¬¬ä¸€æ­¥ï¼ŒæŠŠæ•°ç»„é‡Œçš„æ•°ä¾æ¬¡æ”¾åˆ°æ¡¶é‡Œï¼›</p><p>ç¬¬äºŒæ­¥ï¼ŒæŠŠå€’æ•°ç¬¬iä½ï¼ˆiä»1å¼€å§‹ï¼‰ä¸ºkçš„æ•°æ”¾åˆ°ç¬¬kä¸ªæ¡¶é‡Œï¼›</p><p>ç¬¬ä¸‰æ­¥ï¼Œä»ç¬¬ä¸€ä¸ªæ¡¶å¼€å§‹ï¼ŒæŠŠæ‰€æœ‰æ•°æ”¾åˆ°å¤§æ¡¶é‡Œï¼›</p><p>ç¬¬å››æ­¥ï¼Œé‡å¤ç¬¬äºŒã€ä¸‰æ­¥ï¼Œç›´åˆ°æ‰€æœ‰æ•°ä¸­çš„æœ€å¤§æ•°å€’æ•°ç¬¬iä½æ˜¯0ï¼›</p><p>æ’åºå®Œæˆ</p><p>ä¾‹å¦‚å¯¹<code>&#123;41, 467, 334, 500, 169, 724, 478, 358, 962, 464&#125;</code>è¿›è¡ŒåŸºæ•°æ’åºã€‚</p><p>1ã€â€“&gt; <code>&#123;500&#125;, &#123;41&#125;, &#123;962&#125;, &#123;334, 464&#125;, &#123;467&#125;, &#123;478, 358&#125;, &#123;169&#125;</code></p><p>2ã€â€“&gt; <code>&#123;500, 41, 962, 334, 464, 467, 478, 358, 169&#125;</code></p><p>3ã€â€“&gt; <code>&#123;500&#125;, &#123;724&#125;, &#123;334&#125;, &#123;41&#125;, &#123;358&#125;, &#123;962, 467, 169&#125;, &#123;478&#125;</code></p><p>4ã€â€“&gt; <code>&#123;500, 724, 334, 41, 358, 962, 467, 169, 478&#125;</code></p><p>5ã€â€“&gt; <code>&#123;041&#125;, &#123;169&#125;, &#123;334, 358&#125;, &#123;464, 467, 478&#125;, &#123;500&#125;, &#123;724&#125;, &#123;962&#125;</code></p><p>6ã€â€“&gt; <code>&#123;041, 169, 334, 358, 464, 467, 478, 500, 724, 962&#125;</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ±‚å‡ºæ•°ç»„ä¸­æœ€å¤§æ•°çš„ä½æ•°çš„å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">MaxBit</span><span class="params">(vector&lt;<span class="type">int</span>&gt; input)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// æ•°ç»„æœ€å¤§å€¼</span></span><br><span class="line">    <span class="type">int</span> max_data = input[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; input.<span class="built_in">size</span>(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (input[i] &gt; max_data)</span><br><span class="line">        &#123;</span><br><span class="line">            max_data = input[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ•°ç»„æœ€å¤§å€¼çš„ä½æ•°</span></span><br><span class="line">    <span class="type">int</span> bits_num = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (max_data)</span><br><span class="line">    &#123;</span><br><span class="line">        bits_num++;</span><br><span class="line">        max_data /= <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> bits_num;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å–æ•°xxxä¸Šçš„ç¬¬dä½æ•°å­—</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">digit</span><span class="params">(<span class="type">int</span> num, <span class="type">int</span> d)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> pow = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (--d &gt; <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        pow *= <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> num / pow % <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŸºæ•°æ’åº</span></span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">RadixSort</span><span class="params">(vector&lt;<span class="type">int</span>&gt; input, <span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// ä¸´æ—¶æ•°ç»„ï¼Œç”¨æ¥å­˜æ”¾æ’åºè¿‡ç¨‹ä¸­çš„æ•°æ®</span></span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">bucket</span><span class="params">(n)</span></span>;</span><br><span class="line">    <span class="comment">// ä½è®°æ•°å™¨ï¼Œä»ç¬¬0ä¸ªå…ƒç´ åˆ°ç¬¬9ä¸ªå…ƒç´ ä¾æ¬¡ç”¨æ¥è®°å½•å½“å‰æ¯”è¾ƒä½æ˜¯0çš„æœ‰å¤šå°‘ä¸ª...æ˜¯9çš„æœ‰å¤šå°‘ä¸ªæ•°</span></span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">count</span><span class="params">(<span class="number">10</span>)</span></span>;</span><br><span class="line">    <span class="comment">// ä»ä½ä½å¾€é«˜ä½å¾ªç¯</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> d = <span class="number">1</span>; d &lt;= <span class="built_in">MaxBit</span>(input); d++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// è®¡æ•°å™¨æ¸…0</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            count[i] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç»Ÿè®¡å„ä¸ªæ¡¶ä¸­çš„ä¸ªæ•°</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            count[<span class="built_in">digit</span>(input[i], d)]++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        * æ¯”å¦‚æŸæ¬¡ç»è¿‡ä¸Šé¢ç»Ÿè®¡åç»“æœä¸ºï¼š[0, 2, 3, 3, 0, 0, 0, 0, 0, 0]åˆ™ç»è¿‡ä¸‹é¢è®¡ç®—å ç»“æœä¸ºï¼š [0, 2,</span></span><br><span class="line"><span class="comment">        * 5, 8, 8, 8, 8, 8, 8, 8]ä½†å®è´¨ä¸Šåªæœ‰å¦‚ä¸‹[0, 2, 5, 8, 0, 0, 0, 0, 0, 0]ä¸­</span></span><br><span class="line"><span class="comment">        * éé›¶æ•°æ‰ç”¨åˆ°ï¼Œå› ä¸ºå…¶ä»–ä½ä¸å­˜åœ¨ï¼Œå®ƒä»¬åˆ†åˆ«è¡¨ç¤ºå¦‚ä¸‹ï¼š2è¡¨ç¤ºæ¯”è¾ƒä½ä¸º1çš„å…ƒç´ å¯ä»¥å­˜æ”¾åœ¨ç´¢å¼•ä¸º1ã€0çš„</span></span><br><span class="line"><span class="comment">        * ä½ç½®ï¼Œ5è¡¨ç¤ºæ¯”è¾ƒä½ä¸º2çš„å…ƒç´ å¯ä»¥å­˜æ”¾åœ¨4ã€3ã€2ä¸‰ä¸ª(5-2=3)ä½ç½®ï¼Œ8è¡¨ç¤ºæ¯”è¾ƒä½ä¸º3çš„å…ƒç´ å¯ä»¥å­˜æ”¾åœ¨</span></span><br><span class="line"><span class="comment">        * 7ã€6ã€5ä¸‰ä¸ª(8-5=3)ä½ç½®</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            count[i] += count[i - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        * æ³¨ï¼Œè¿™é‡Œåªèƒ½ä»æ•°ç»„åå¾€å‰å¾ªç¯ï¼Œå› ä¸ºæ’åºæ—¶è¿˜éœ€ä¿æŒä»¥å‰çš„å·²æ’åºå¥½çš„é¡ºåºï¼Œä¸åº”è¯¥æ‰“</span></span><br><span class="line"><span class="comment">        * ä¹±åŸæ¥å·²æ’å¥½çš„åºï¼Œå¦‚æœä»å‰å¾€åå¤„ç†ï¼Œåˆ™ä¼šæŠŠåŸæ¥åœ¨å‰é¢ä¼šæ‘†åˆ°åé¢å»ï¼Œå› ä¸ºåœ¨å¤„ç†æŸä¸ª</span></span><br><span class="line"><span class="comment">        * å…ƒç´ çš„ä½ç½®æ—¶ï¼Œä½è®°æ•°å™¨æ˜¯ä»å¤§åˆ°åˆ°å°ï¼ˆcount[digit(arr[i], d)]--ï¼‰çš„æ–¹å¼æ¥å¤„</span></span><br><span class="line"><span class="comment">        * ç†çš„ï¼Œå³å…ˆå­˜æ”¾ç´¢å¼•å¤§çš„å…ƒç´ ï¼Œå†å­˜æ”¾ç´¢å¼•å°çš„å…ƒç´ ï¼Œæ‰€ä»¥éœ€ä»æœ€åä¸€ä¸ªå…ƒç´ å¼€å§‹å¤„ç†ã€‚</span></span><br><span class="line"><span class="comment">        * å¦‚æœ‰è¿™æ ·çš„ä¸€ä¸ªåºåˆ—[212,213,312]ï¼Œå¦‚æœæŒ‰ç…§ä»ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹å¾ªç¯çš„è¯ï¼Œç»è¿‡ç¬¬ä¸€è½®</span></span><br><span class="line"><span class="comment">        * åï¼ˆä¸ªä½ï¼‰æ’åºåï¼Œå¾—åˆ°è¿™æ ·ä¸€ä¸ªåºåˆ—[312,212,213]ï¼Œç¬¬ä¸€æ¬¡å¥½åƒæ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†é—®é¢˜ä¼š</span></span><br><span class="line"><span class="comment">        * ä»ç¬¬äºŒè½®å¼€å§‹å‡ºç°ï¼Œç¬¬äºŒè½®æ’åºåï¼Œä¼šå¾—åˆ°[213,212,312]ï¼Œè¿™æ ·ä¸ªä½ä¸º3çš„å…ƒç´ æœ¬åº”è¯¥</span></span><br><span class="line"><span class="comment">        * æ”¾åœ¨æœ€åï¼Œä½†ç»è¿‡ç¬¬äºŒè½®åå´æ’åœ¨äº†å‰é¢äº†ï¼Œæ‰€ä»¥å‡ºç°äº†é—®é¢˜</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> k = <span class="built_in">digit</span>(input[i], d);</span><br><span class="line">            bucket[count[k] - <span class="number">1</span>] = input[i];</span><br><span class="line">            count[k]--;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä¸´æ—¶æ•°ç»„å¤åˆ¶åˆ° input ä¸­</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            input[i] = bucket[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> input;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> arr[] = &#123;<span class="number">50</span>, <span class="number">123</span>, <span class="number">543</span>, <span class="number">187</span>, <span class="number">49</span>, <span class="number">30</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">11</span>, <span class="number">100</span>&#125;;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">test</span><span class="params">(arr, arr + <span class="keyword">sizeof</span>(arr) / <span class="keyword">sizeof</span>(arr[<span class="number">0</span>]))</span></span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;æ’åºå‰:&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; test.<span class="built_in">size</span>(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; test[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; result = test;</span><br><span class="line">    result = <span class="built_in">RadixSort</span>(result, result.<span class="built_in">size</span>());</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;æ’åºå:&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; result.<span class="built_in">size</span>(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; result[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä¼ ç»Ÿè‰ºèƒ½"><a class="markdownIt-Anchor" href="#ä¼ ç»Ÿè‰ºèƒ½"></a> ä¼ ç»Ÿè‰ºèƒ½</h2><p>æœ€åç»™ä½ ä»¬æ•´ä¸ªç»æ´»ï¼Œå’•å’•å’•å’•å’•å’•ï¼Œè¿™ç¯‡æ’åºå‰å‰ååé¸½äº†å¿«ä¸€ä¸ªæœˆæ‰å†™å®Œï¼Œä¹Ÿå‚è€ƒäº†å‡ ç¯‡æ–‡ç« ã€‚ä¹‹æ‰€ä»¥ä¸ºä»€ä¹ˆè¦é¸½ä¸€ä¸ªæœˆå˜›â€¦å› ä¸ºå½“é¸½å­æ˜¯çœŸçš„çˆ½ã€‚</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/jiaxinjiang3.jpg" alt="" /></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æ’åºå˜›ä¹‹å‰ä¹Ÿä¸æ˜¯æ²¡å†™è¿‡ï¼Œå°±åœ¨åˆšåˆšæ°´äº†1000å­—çš„æ—¶å€™ï¼Œæˆ‘ä¸€ä¸ªctrl+zæŒ‰è¿‡ç«äº†å¯¼è‡´ä¸å°å¿ƒæ²¡æœ‰ä¿å­˜çš„æºæ–‡ä»¶ä»˜è¯¸ä¸œæµï¼Œå¤ªè‰ç‡äº†ï¼Œç°åœ¨è¯´èµ·æ¥å¿ƒæƒ…å°±æœ‰ç‚¹ä½è½ï¼Œç½¢äº†ç½¢äº†ï¼Œæˆ‘çš„å¿ƒæƒ…çœŸçš„å¹³å¤ä¸‹æ¥äº†ã€‚è¯è¯´ä¹‹å‰ä¹Ÿè‰è‰çš„æ•´ç†è¿‡ä¸¤ç¯‡æ’åºçš„æ–‡ç« ï¼Œä¸è¿‡ç°åœ¨åœ¨çœ‹å‘æ›¾ç»æ•´ç†çš„ä¸œè¥¿ï¼Œå•Šå¤ªå¹¼ç¨šäº†&lt;/p&gt;
</summary>
      
    
    
    
    <category term="print*,&quot;hello world!!!&quot;" scheme="https://blog.youmingsama.cn/categories/print-hello-world/"/>
    
    
    <category term="ç®—æ³•å•¦" scheme="https://blog.youmingsama.cn/tags/%E7%AE%97%E6%B3%95%E5%95%A6/"/>
    
  </entry>
  
  <entry>
    <title>å…³äº#includeä¸htmlçš„å¥‡æ€ªå†²çª</title>
    <link href="https://blog.youmingsama.cn/posts/3c41776c/"/>
    <id>https://blog.youmingsama.cn/posts/3c41776c/</id>
    <published>2020-04-02T00:00:00.000Z</published>
    <updated>2020-04-02T00:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>æˆ‘é‡åˆ°äº†ä¸€ä¸ªæ£˜æ‰‹çš„é—®é¢˜ï¼Œåœ¨çº¿ç­‰ï¼Œå¾ˆæ€¥ï¼ï¼ï¼å½“ä»Šå¤©ä¹Ÿæ˜¯æ…¢æ…¢æ‚ æ‚ çš„æ‰“å¼€åšå®¢é‚£ä¸€ç¬é—´çªç„¶å‘ç°å¤´æ–‡ä»¶#includeåé¢çš„ä¸œè¥¿å…¨éƒ½ä¸è§äº†ï¼Ÿï¼Ÿï¼Ÿæ¯”å¦‚è¯´æ‡’äººä¸“ç”¨å¤´æ–‡ä»¶<code>#include&lt; bit/stdc++.h&gt;</code>è«åçš„å˜æˆäº†<code>#include</code>ï¼Œæœ¬æ¥ä»¥ä¸ºæˆ‘åªæ˜¯ç²—å¿ƒå¿˜è®°æ‰“äº†ã€‚ä¸å¯¹ï¼Œæˆ‘æ€ä¹ˆä¼šçŠ¯é‚£ä¹ˆæ„šè ¢çš„é”™è¯¯ï¼Œæ‰“å¼€æºæ–‡ä»¶ä¸€çœ‹ï¼Œå‘ç°å®Œæ•´ç‰ˆå¤´æ–‡ä»¶å¥½å¥½çš„èººåœ¨é‚£ï¼Ÿï¼Ÿï¼Ÿï¼Ÿç„¶åæŸ¥çœ‹æˆ‘ä¹‹å‰çš„æºä»£ç å‘ç°ä¹Ÿéƒ½æ˜¯å‡ºç°äº†åŒæ ·çš„é—®é¢˜ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿ</p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/ç–‘æƒ‘.jpg" style="zoom:80%;" /><p>ä¸€ç•ªæ“ä½œçŒ›å¦‚è™ä¹‹åã€é›¾ã€‘ï¼Œå¾—çŸ¥è¿™ä¸ª<code>#include&lt;&gt;</code>ä¸htmlçš„â€™&gt;â€˜å’Œâ€™&lt;'å†²çªæ‰€è‡´ä½†æ˜¯ç”±äºæäº¤blogçš„æ—¶å€™ä¼šå¯¹&lt;å’Œ&gt;è¿›è¡Œè½¬ä¹‰ï¼Œæœ‰æ—¶å€™ä¿®æ”¹äº†å‡ æ¬¡å°±è½¬ä¸æˆäº†(blogå¼•æ“çš„bug)ï¼Œç»“æœå°±è¢«å½“ä½œäº†ä¸€ä¸ªä¸å¯è¯†åˆ«çš„æ ‡ç­¾ã€‚</p><h2 id="è§£å†³æ–¹æ³•"><a class="markdownIt-Anchor" href="#è§£å†³æ–¹æ³•"></a> è§£å†³æ–¹æ³•</h2><ul><li>åœ¨#include&lt;åé¢åŠ ä¸Šç©ºæ ¼</li></ul><p>ä½†æ˜¯è¿™æ ·æ˜¾ç¤ºå‡ºæ¥æ—¶ä¹Ÿä¼šå¸¦ä¸Šç©ºæ ¼ï¼Œå¼ºè¿«ç—‡è¡¨ç¤ºæœ‰å¤±ç¾å­¦ï¼Œè€Œä¸”ç›´æ¥å¤åˆ¶ä¸‹æ¥è¿è¡Œæ—¶è¿˜éœ€è¦å°†åŸæœ‰å¤šä½™çš„ç©ºæ ¼å»æ‰ï¼Œä¸ºä»€ä¹ˆï¼Ÿï¼Ÿï¼Ÿå› ä¸ºä¼šç¼–è¯‘æŠ¥é”™å•Šç¬¨è›‹ï¼ï¼ï¼ä½œä¸ºä¸€åæ‡’äººä¸»ä¹‰è‡³ä¸Šçš„å®Œç¾äººå£«æˆ‘ç»å¯¹é‡‡ç”¨ç¬¬äºŒç§æ–¹æ³•ã€‚</p><ul><li>ä½¿ç”¨å­—ç¬¦å®ä½“<code>&quot;&amp; lt&quot;</code>å’Œ<code>â€œ&amp; gt&quot;</code></li></ul><p>è¿™æ ·å°±æ²¡é—®é¢˜äº†ï¼Œå°±æ˜¯éœ€è¦è´¹åŠ›çš„æ¢æˆ&amp;ltå’Œ&amp;gtäº†ã€‚å¾ˆå¥½ç¬¦åˆå®Œå…¨æ‡’äººç²¾ç¥ã€Ã—ã€‘</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æˆ‘é‡åˆ°äº†ä¸€ä¸ªæ£˜æ‰‹çš„é—®é¢˜ï¼Œåœ¨çº¿ç­‰ï¼Œå¾ˆæ€¥ï¼ï¼ï¼å½“ä»Šå¤©ä¹Ÿæ˜¯æ…¢æ…¢æ‚ æ‚ çš„æ‰“å¼€åšå®¢é‚£ä¸€ç¬é—´çªç„¶å‘ç°å¤´æ–‡ä»¶#includeåé¢çš„ä¸œè¥¿å…¨éƒ½ä¸è§äº†ï¼Ÿï¼Ÿï¼Ÿæ¯”å¦‚è¯´æ‡’äººä¸“ç”¨å¤´æ–‡ä»¶&lt;code&gt;#include&amp;lt; bit/stdc++.h&amp;gt;&lt;/code&gt;è«åçš„å˜æˆäº†&lt;code&gt;#inclu</summary>
      
    
    
    
    <category term="bugçš„ç‚¼é‡‘å·¥åŠ" scheme="https://blog.youmingsama.cn/categories/bug%E7%9A%84%E7%82%BC%E9%87%91%E5%B7%A5%E5%9D%8A/"/>
    
    
    <category term="buggggg" scheme="https://blog.youmingsama.cn/tags/buggggg/"/>
    
  </entry>
  
  <entry>
    <title>Hashè¡¨</title>
    <link href="https://blog.youmingsama.cn/posts/a1205a06/"/>
    <id>https://blog.youmingsama.cn/posts/a1205a06/</id>
    <published>2020-03-31T00:00:00.000Z</published>
    <updated>2020-04-02T00:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>æ•£åˆ—è¡¨ï¼ˆä¹Ÿå« Hash è¡¨ï¼‰æ˜¯ä¸€ç§åº”ç”¨è¾ƒä¸ºå¹¿æ³›çš„æ•°æ®ç»“æ„ï¼Œå‡ ä¹æ‰€æœ‰çš„é«˜çº§ç¼–ç¨‹è¯­è¨€éƒ½å†…ç½®äº†æ•£åˆ—è¡¨è¿™ç§æ•°æ®ç»“æ„ã€‚åœ¨ç°ä»£çš„ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œå‡ ä¹éƒ½ä¼šæœ‰æ•£åˆ—è¡¨çš„èº«å½±ï¼Œæ•…è€Œéš¾ä»¥å¿½è§†å®ƒä¸ºç¨‹åºå‘˜æ‰€å¸¦æ¥çš„ç§ç§ä¾¿åˆ©æ€§ã€‚æ•£åˆ—è·Ÿæ•°ç»„æ˜¯å¾ˆç›¸ä¼¼çš„ï¼Œè¾ƒå¤§çš„åŒºåˆ«åœ¨äºï¼Œæ•°ç»„ç›´æ¥é€šè¿‡ç‰¹å®šçš„ç´¢å¼•æ¥è®¿é—®ç‰¹å®šä½ç½®çš„æ•°æ®ï¼Œè€Œæ•£åˆ—è¡¨åˆ™æ˜¯å…ˆé€šè¿‡<em>æ•£åˆ—å‡½æ•°</em>æ¥è·å–å¯¹åº”çš„ç´¢å¼•ï¼Œç„¶åå†å®šä½åˆ°å¯¹åº”çš„å­˜å‚¨ä½ç½®ã€‚è¿™æ˜¯æ¯”è¾ƒåº•å±‚çš„çŸ¥è¯†äº†ï¼Œä¸€èˆ¬çš„æ•£åˆ—è¡¨ï¼Œåœ¨åº•å±‚éƒ½æ˜¯é€šè¿‡æ•°ç»„æ¥è¿›è¡Œå­˜å‚¨ï¼Œåˆ©ç”¨æ•°ç»„ä½œä¸ºåº•å±‚å­˜å‚¨çš„æ•°æ®ç»“æ„æœ€å¤§çš„å¥½å¤„åœ¨äºå®ƒçš„éšæœºè®¿é—®ç‰¹æ€§ï¼Œä¸ç®¡æ•°ç»„æœ‰å¤šé•¿ï¼Œè®¿é—®è¯¥æ•°ç»„çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯<code>O(1)</code>ã€‚å½“ç„¶è¿™æ˜¯é’ˆå¯¹æŸäº›æƒ…å†µï¼Œåœ¨å®é™…åº”ç”¨ä¸­å®ƒçš„æ—¶é—´å¤æ‚åº¦ä¸ä¸€å®šçš„Oï¼ˆ1ï¼‰ï¼›æ˜¾è€Œæ˜“è§è¿™æ˜¯ä¸€ç§ç©ºé—´æ¢æ—¶é—´çš„åšæ³•ã€</p><h2 id="æ•£åˆ—è¡¨æœ‰å¤šç®€å•å‘¢"><a class="markdownIt-Anchor" href="#æ•£åˆ—è¡¨æœ‰å¤šç®€å•å‘¢"></a> æ•£åˆ—è¡¨æœ‰å¤šç®€å•å‘¢</h2><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/Hash.png" alt="" /></p><p>æ•£åˆ—è¡¨åœ¨ç»“æ„ä¸ŠçœŸçš„æ˜¯ä¸èƒ½å†ç®€å•äº†ï¼Œå®ƒæ˜¯ä¸€ä¸ªåŒ…å«å…³é”®å­—çš„å…·æœ‰å›ºå®šæ•°ç»„çš„å¤§å°ã€‚æ¯ä¸ªå…³é”®å­—è¢«æ˜ å°„åˆ°0~TableSize-1è¿™ä¸ªèŒƒå›´ä¸­çš„æŸä¸ªæ•°ï¼Œå¹¶ä¸”è¢«æ”¾åˆ°é€‚å½“çš„å•å…ƒä¸­ï¼Œè¿™ä¸ªæ˜ å°„å°±å«åšæ•£åˆ—å‡½æ•°ï¼Œå½“ç„¶æ˜ å°„çš„æ–¹å¼å°±æ˜¯æ ¹æ®æ•£åˆ—å‡½æ•°æ¥åˆ¶å®šçš„ã€‚æœ€å¸¸è§çš„å°±æ˜¯è¿™ä¸ªå…³é”®å­—(Key)æ˜¯å‡ å°±æ˜ å°„åˆ°ç¬¬å‡ ä¸ªå•å…ƒï¼Œä¸è¿‡è¿™æ ·å­çš„è¯ç©ºé—´åˆ©ç”¨ç‡æ˜¾ç„¶ä¸è®©äººæ„Ÿåˆ°æ»¡æ„ã€‚</p><p>å½“ç„¶è¦è®¾è®¡ä¸€ä¸ªèƒ½ç”¨çš„æ•£åˆ—è¡¨ï¼Œåœ¨åº•å±‚ä»…ä»…ç”¨æ™®é€šçš„æ•°ç»„æ˜¯ä¸å¤Ÿçš„ï¼Œæ¯•ç«Ÿæˆ‘ä»¬éœ€è¦å­˜å‚¨çš„ä¸ä»…ä»…æ˜¯æ•°å€¼ç±»å‹ï¼Œè¿˜å¯èƒ½ä¼šå­˜å‚¨å­—ç¬¦ä¸²ä¸ºé”®ï¼Œå­—ç¬¦ä¸²ä¸ºå€¼ï¼Œæˆ–è€…ä»¥å­—ç¬¦ä¸²ä¸ºé”®ï¼ŒæŸä¸ªå‡½æ•°çš„æŒ‡é’ˆä¸ºå€¼ çš„é”®å€¼å¯¹ã€‚åœ¨è¿™ç±»æƒ…å†µä¸­ï¼Œæˆ‘ä»¬éœ€è¦å¯¹åº•å±‚çš„ç»“ç‚¹è¿›è¡Œç²¾å¿ƒè®¾è®¡ï¼Œæ‰èƒ½å¤Ÿè®©æ•£åˆ—è¡¨å­˜å‚¨æ›´å¤šå…ƒåŒ–çš„æ•°æ®ã€‚</p><p>æ— è®ºä»¥ä½•ç§æ•°æ®ç±»å‹ä¸ºé”®ï¼Œæˆ‘ä»¬å§‹ç»ˆéƒ½éœ€è¦æœ‰æŠŠé”®è½¬æ¢æˆåº•å±‚æ•°ç»„ä»»æ„ä½ç½®ç´¢å¼•çš„èƒ½åŠ›ï¼Œé€šè¿‡æ•£åˆ—å‡½æ•°å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ã€‚æ•£åˆ—å‡½æ•°æ˜¯ä¸ªå¾ˆè€ƒç©¶çš„ä¸œè¥¿ï¼Œè®¾è®¡å¾—ä¸å¥½å¯èƒ½ä¼šå¯¼è‡´é¢‘ç¹å‡ºç°å¤šä¸ªä¸åŒçš„é”®æ˜ å°„åˆ°åŒä¸€ä¸ªç´¢å¼•å€¼çš„ç°è±¡ï¼Œè¿™ç§ç°è±¡ç§°ä¹‹ä¸º<strong>å†²çª</strong>ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæ¯æ¬¡ä¸ºæ•£åˆ—è¡¨æ‰€åˆ†é…çš„ç©ºé—´æ˜¯æœ‰é™çš„ï¼Œéšç€å…ƒç´ çš„æ’å…¥ï¼Œæ•£åˆ—è¡¨ä¼šè¶Šæ¥è¶Šæ»¡ï¼Œè¿™æ—¶ï¼Œå†²çªçš„å‡ ç‡å°±è¶Šé«˜ã€‚æ•…è€Œï¼Œæˆ‘ä»¬éœ€è¦å®šæœŸå¯¹æ•£åˆ—è¡¨è¿›è¡Œæ‰©å¼ ï¼Œå¹¶æŠŠå·²æœ‰çš„é”®å€¼å¯¹é‡æ–°æ˜ å°„åˆ°æ–°çš„ç©ºé—´ä¸­å»ï¼Œè®©æ•£åˆ—è¡¨ä¸­çš„é”®å€¼å¯¹æ›´åŠ åˆ†æ•£ï¼Œé™ä½å†²çªçš„å‡ ç‡ã€‚è¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä¸º Resizeã€‚è¿™ä¸ªè¿‡ç¨‹èƒ½å¤Ÿåœ¨ä¸€å®šç¨‹åº¦ä¸Šé™ä½æ•£åˆ—è¡¨çš„å†²çªå‡ ç‡ï¼Œæé«˜æŸ¥æ‰¾æ•ˆç‡ã€‚</p><h2 id="ä¸ºä»€ä¹ˆä¸ç”¨é“¾è¡¨æ¥å‚¨å­˜é”®å€¼"><a class="markdownIt-Anchor" href="#ä¸ºä»€ä¹ˆä¸ç”¨é“¾è¡¨æ¥å‚¨å­˜é”®å€¼"></a> ä¸ºä»€ä¹ˆä¸ç”¨é“¾è¡¨æ¥å‚¨å­˜é”®å€¼</h2><p>å¯¹äºé“¾è¡¨è™½ç„¶ä¸ä¼šæœ‰æ‰€è°“çš„å†²çªäº§ç”Ÿï¼Œä½†æ˜¯å¯¹äºé“¾è¡¨æ¥è¯´ä¸ç®¡æ˜¯æ’å…¥ï¼ŒæŸ¥æ‰¾è¿˜æ˜¯åˆ é™¤éƒ½éœ€è¦éå†æ•´ä¸ªé“¾è¡¨ï¼Œå‡è®¾ç¨ç¨è¿æ°”ä¸å¥½ç‚¹æœ€åæƒ…å†µä¸‹æ—¶é—´å¤æ‚åº¦å¯èƒ½éƒ½æ˜¯<code>O(n)</code>ï¼Œå‡è®¾æˆ‘ä»¬å‚¨å­˜å°‘é‡çš„é”®å€¼ã€‚çœ‹èµ·æ¥æ˜¯æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯å¦‚æœå‚¨å­˜å¤§é‡çš„é”®å€¼æ‰€èŠ±è´¹çš„æ—¶é—´æˆæœ¬å¯èƒ½çœŸçš„æ˜¯ä»¤äººéš¾ä»¥æ¥å—ã€‚ç„¶è€Œå¯¹äºæ•£åˆ—æ¥è¯´åªè¦ä¿è¯æ²¡æœ‰å†²çªå‘ç”Ÿï¼Œå®ƒçš„æ—¶é—´æ—¶é—´å¤æ‚åº¦éƒ½ä¸ºOï¼ˆ1ï¼‰ï¼Œå½“ç„¶è¿™æ˜¯éå¸¸ç†æƒ³çš„æƒ…å†µï¼Œåœ¨å®é™…åº”ç”¨ä¸­å¤æ‚åº¦å¾€å¾€æ˜¯å¤§äºO(1)çš„ã€‚ä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾è®¡è®©å®ƒå°½é‡æ¥è¿‘Oï¼ˆ1ï¼‰æˆ–è€…è¾¾åˆ°O(1);</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/%E6%B2%A1%E6%83%B3%E5%88%B0%E5%90%A7.jpg" alt="" /></p><h2 id="é‚£ä¹ˆå¦‚ä½•æé«˜hashè¡¨çš„æŸ¥æ‰¾æ•ˆç‡å‘¢"><a class="markdownIt-Anchor" href="#é‚£ä¹ˆå¦‚ä½•æé«˜hashè¡¨çš„æŸ¥æ‰¾æ•ˆç‡å‘¢"></a> é‚£ä¹ˆå¦‚ä½•æé«˜Hashè¡¨çš„æŸ¥æ‰¾æ•ˆç‡å‘¢</h2><p>ä½¿ç”¨å¹³å‡æŸ¥æ‰¾é•¿åº¦ASLæ¥è¡¡é‡æŸ¥æ‰¾æ•ˆç‡ï¼ŒASLå–å†³äº</p><ul><li>æ•£åˆ—å‡½æ•°</li><li>å¤„ç†å†²çªçš„æ–¹æ³•</li><li>æ•£åˆ—è¡¨çš„è£…å¡«å› å­ a=è¡¨ä¸­å¡«å…¥çš„è®°å½•æ•°/å“ˆå¸Œè¡¨é•¿åº¦</li></ul><h2 id="æ¥ä¸‹æ¥æ˜¯ä¸€ä¸ªè¶…çº§ç®€å•çš„æ•£åˆ—å‡½æ•°"><a class="markdownIt-Anchor" href="#æ¥ä¸‹æ¥æ˜¯ä¸€ä¸ªè¶…çº§ç®€å•çš„æ•£åˆ—å‡½æ•°"></a> æ¥ä¸‹æ¥æ˜¯ä¸€ä¸ªè¶…çº§ç®€å•çš„æ•£åˆ—å‡½æ•°</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Index <span class="title">Hash</span><span class="params">(ElementType Key, <span class="type">int</span> TableSize)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> Key % TableSize;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå°±æ˜¯å‰é¢æåˆ°çš„<code>Key</code>æ˜¯å‡ å°±æ˜ å°„åˆ°ç¬¬å‡ ä¸ªä½ç½®ï¼Œè¿™ä¸ªæ˜¯æœ€ç›´è§‚æœ€ç®€å•çš„æ–¹æ³•äº†ï¼Œè™½ç„¶æ˜¯ç©ºé—´åˆ©ç”¨æ•ˆç‡ä¸æ€ä¹ˆæ ·ï¼Œä½†â€œä¸ä¹ŸæŒºå¥½çš„å—â€ã€‚è™½ç„¶ç©ºé—´åˆ©ç”¨ç‡æœ‰äº›ä½ï¼Œä½†åŒæ—¶ä¹Ÿå°½å¯èƒ½çš„é¿å…äº†ä¸åŒçš„é”®æ˜ å°„åˆ°ç›¸åŒçš„ç´¢å¼•å€¼ã€‚æˆ‘è§‰å¾—æ˜¯åˆ©å¤§äºå¼Šçš„ã€‚ç›¸æ¯”äºå†²çªå¤ªå¤šä¼šé™ä½å½±å“æ•ˆç‡è¿™ç‚¹æ¥çœ‹ï¼Œæ˜¾ç„¶é™¤ç•™ä½™æ•°æ³•åšæ•£åˆ—å‡½æ•°ä¼˜äºå…¶ä»–ç±»å‹çš„æ•£åˆ—å‡½æ•°ã€‚å½“ç„¶å¾€å¾€éƒ½æ˜¯å»TableSizeçš„æœ€å¤§è´¨æ•°æ¥é¿å…å†²çª</p><h2 id="å¦‚ä½•é¿å…å†²çª"><a class="markdownIt-Anchor" href="#å¦‚ä½•é¿å…å†²çª"></a> å¦‚ä½•é¿å…å†²çª</h2><p>å‰é¢æ‰€è®¾è®¡çš„æ•£åˆ—å‡½æ•°çœŸçš„è¶…çº§ååˆ†ç®€å•ï¼Œç„¶è€Œæ‰€åˆ†é…çš„ç©ºé—´å´æœ€å¤šåªèƒ½å¤Ÿå­˜å‚¨ TableSize ä¸ªé”®å€¼å¯¹ï¼Œè¿™ç§æƒ…å†µä¸‹å¾ˆå¿«å°±ä¼šäº§ç”Ÿå†²çªã€‚æ‰€è°“å†²çªå°±æ˜¯ä¸åŒçš„é”®ï¼Œç»è¿‡æ•£åˆ—å‡½æ•°å¤„ç†ä¹‹åå¾—åˆ°ç›¸åŒçš„æ•£åˆ—å€¼ã€‚ä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªæ—¶å€™ï¼Œå®ƒä»¬éƒ½æŒ‡å‘äº†æ•°ç»„çš„åŒä¸€ä¸ªä½ç½®ã€‚æˆ‘ä»¬éœ€è¦å¯»æ±‚ä¸€äº›æ‰‹æ®µæ¥å¤„ç†è¿™ç§å†²çªï¼Œå¸¸è§çš„æœ‰<strong>å¼€æ”¾åœ°å€æ³•</strong>ä»¥åŠ<strong>é“¾åœ°å€æ³•</strong></p><h2 id="å¼€æ”¾åœ°å€æ³•"><a class="markdownIt-Anchor" href="#å¼€æ”¾åœ°å€æ³•"></a> å¼€æ”¾åœ°å€æ³•</h2><p>æ˜¯å½“å†²çªäº§ç”Ÿçš„æ—¶å€™é€šè¿‡æŸç§æ¢æµ‹æ‰‹æ®µæ¥åœ¨åŸæœ‰çš„æ•°ç»„ä¸Šå¯»æ‰¾ä¸‹ä¸€ä¸ªå­˜æ”¾é”®å€¼å¯¹ä½ç½®ã€‚å¦‚æœä¸‹ä¸ªä½ç½®ä¹Ÿå­˜æœ‰ä¸œè¥¿äº†åˆ™å†ç”¨ç›¸åŒçš„æ¢æµ‹ç®—æ³•å»å¯»æ‰¾ä¸‹ä¸‹ä¸ªä½ç½®ï¼Œç›´åˆ°èƒ½å¤Ÿæ‰¾åˆ°åˆé€‚çš„å­˜å‚¨ä½ç½®ä¸ºæ­¢ã€‚å¸¸ç”¨çš„å¤§æ¦‚æœ‰ä¸‹é¢è¿™ä¸‰ç§ã€‚</p><ul><li><p>çº¿æ€§æ¢æµ‹æ³•</p></li><li><p>å¹³æ–¹æ¢æµ‹æ³•</p></li><li><p>ä¼ªéšæœºæ¢æµ‹æ³•</p></li></ul><h3 id="çº¿æ€§æ¢æµ‹æ³•"><a class="markdownIt-Anchor" href="#çº¿æ€§æ¢æµ‹æ³•"></a> çº¿æ€§æ¢æµ‹æ³•</h3><p>çº¿æ€§æ¢æµ‹æ³•å…¶å®å°±åƒçº¿æ€§å‡½æ•°ä¸€æ ·ï¼Œä¸€ä¸ªè‡ªå˜é‡å¯¹åº”ä¸€ä¸ªå› å˜é‡ã€‚è¿™æ ·å°±é¿å…äº†å†²çªçš„äº§ç”Ÿã€‚ï¼Œè®¡ç®—å…¬å¼ä¸º<code>hashNext = (hash(key) + i) mod size</code>ã€‚ä¸¾ä¸ªç›´è§‚ç‚¹çš„ä¾‹å­ï¼Œç›®å‰æ•£åˆ—è¡¨ä¸­ç´¢å¼•ä¸º 5 çš„ä½ç½®å·²ç»æœ‰æ•°æ®äº†ã€‚å½“ä¸‹ä¸€ä¸ªé”®å€¼å¯¹ä¹Ÿæƒ³åœ¨è¿™ä¸ªä½ç½®å­˜æ”¾æ•°æ®çš„æ—¶å€™ï¼Œå†²çªäº§ç”Ÿäº†ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡çº¿æ€§æ¢æµ‹ç®—æ³•æ¥è®¡ç®—ä¸‹ä¸€ä¸ªå­˜å‚¨çš„ä½ç½®ï¼Œä¹Ÿå°±æ˜¯<code>(5 + 1) % 7 = 6</code>ã€‚å¦‚æœè¿™ä¸ªåœ°æ–¹ä¹Ÿå·²ç»æœ‰æ•°æ®äº†ï¼Œåˆ™å†æ¬¡è¿ç”¨å…¬å¼<code>(5 + 2) % 7 = 0</code>ï¼Œå¦‚æœè¿˜æœ‰å†²çªï¼Œåˆ™ç»§ç»­<code>(5 + 3) % 7 = 1</code>ä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°æ‰¾åˆ°å¯¹åº”çš„å­˜å‚¨ä½ç½®ä¸ºæ­¢ã€‚å¾ˆæ˜æ˜¾çš„ä¸€ä¸ªé—®é¢˜å°±æ˜¯å½“æ•°ç»„è¶Šæ»¡çš„æ—¶å€™ï¼Œå†²çªçš„å‡ ç‡è¶Šé«˜ï¼Œè¶Šéš¾æ‰¾åˆ°åˆé€‚çš„ä½ç½®ã€‚è¿™é‡Œæœ¬äººæ¯”è¾ƒå€¾å‘å¹³æ³•æ¢æµ‹æ³•ï¼Œæ‰€ä»¥è¿™é‡Œå…·ä½“çš„å®ç°ä»£ç ä½¿ç”¨å¹³æ³•æ¢æµ‹æ³•ã€‚å•Šè¿˜æœ‰ä¸€ç‚¹å°±æ˜¯è™½ç„¶å¹³æ–¹æ¢æµ‹æ³•å¯ä»¥æœ‰æ•ˆå‡å°‘èšé›†ï¼Œä½†æ˜¯ä»–ä¹Ÿæ˜¯é¿å…ä¸äº†èšé›†çš„ï¼Œåªæ˜¯æ¯”çº¿æ€§æ¢æµ‹æ³•ç¨å¾®å¥½é‚£ä¹ˆä¸€ç‚¹ç½¢äº†ã€‚åŒæ ·ä¹Ÿä¼šäº§ç”ŸäºŒæ¬¡èšé›†é—®é¢˜ã€‚</p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/å¦®å¯å¦®å¯.jpg" style="zoom: 33%;" /><h3 id="give-me-your-code"><a class="markdownIt-Anchor" href="#give-me-your-code"></a> Give me your codeï¼ï¼ï¼</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-------fatal.h-------</span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt; stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt; stdlib.h &gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> Error( Str )        FatalError( Str )</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> FatalError( Str )   fprintf( stderr, <span class="string">&quot;%s\n&quot;</span>, Str ), exit( 1 )</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œå’Œä¸‹é¢é“¾åœ°å€æ³•æ˜¯åŒä¸€ä¸ªfatal.hã€‚ä¸“ä¸šå¼ºè¿«ç—‡äººå£«è¡¨ç¤ºå¿…é¡»è¦åŠ ä¸Šã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">---------hashquad.h---------</span><br><span class="line"><span class="comment">/* Interface for quadratic probing hash table */</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> ElementType;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* START: fig5_14.txt */</span></span><br><span class="line">        <span class="meta">#<span class="keyword">ifndef</span> _HashQuad_H</span></span><br><span class="line">        <span class="meta">#<span class="keyword">define</span> _HashQuad_H</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">int</span> Index;</span><br><span class="line">        <span class="keyword">typedef</span> Index Position;</span><br><span class="line"></span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">HashTbl</span>;</span></span><br><span class="line">        <span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">HashTbl</span> *<span class="title">HashTable</span>;</span></span><br><span class="line"></span><br><span class="line">        HashTable <span class="title function_">InitializeTable</span><span class="params">( <span class="type">int</span> TableSize )</span>;</span><br><span class="line">        <span class="type">void</span> <span class="title function_">DestroyTable</span><span class="params">( HashTable H )</span>;</span><br><span class="line">        Position <span class="title function_">Find</span><span class="params">( ElementType Key, HashTable H )</span>;</span><br><span class="line">        <span class="type">void</span> <span class="title function_">Insert</span><span class="params">( ElementType Key, HashTable H )</span>;</span><br><span class="line">        ElementType <span class="title function_">Retrieve</span><span class="params">( Position P, HashTable H )</span>;</span><br><span class="line">        HashTable <span class="title function_">Rehash</span><span class="params">( HashTable H )</span>;</span><br><span class="line">        <span class="comment">/* Routines such as Delete are MakeEmpty are omitted */</span></span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">endif</span>  <span class="comment">/* _HashQuad_H */</span></span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br></pre></td><td class="code"><pre><span class="line">-------HashEntry----------</span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;fatal.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;hashquad.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> &amp;lt;stdlib.h&amp;gt;</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt; bits/stdc++.h &gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> NumItems 400</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MinTableSize (10)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">KindOfEntry</span></span><br><span class="line">&#123;</span><br><span class="line">    Legitimate,</span><br><span class="line">    Empty,</span><br><span class="line">    Deleted</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">HashEntry</span></span><br><span class="line">&#123;</span><br><span class="line">    ElementType Element;</span><br><span class="line">    <span class="keyword">enum</span> <span class="title class_">KindOfEntry</span> Info;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="title class_">HashEntry</span> Cell;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Cell *TheCells will be an array of */</span></span><br><span class="line"><span class="comment">/* HashEntry cells, allocated later */</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">HashTbl</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> TableSize;</span><br><span class="line">    Cell *TheCells;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Return next prime; assume N &gt;= 10 */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">static</span> <span class="type">int</span></span></span><br><span class="line"><span class="function"><span class="title">NextPrime</span><span class="params">(<span class="type">int</span> N)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (N % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">        N++;</span><br><span class="line">    <span class="keyword">for</span> (;; N += <span class="number">2</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">3</span>; i * i &lt;= N; i += <span class="number">2</span>)</span><br><span class="line">            <span class="keyword">if</span> (N % i == <span class="number">0</span>)</span><br><span class="line">                <span class="keyword">goto</span> ContOuter; <span class="comment">/* Sorry about this! */</span></span><br><span class="line">        <span class="keyword">return</span> N;</span><br><span class="line">    ContOuter:;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Hash function for ints */</span></span><br><span class="line"><span class="function">Index <span class="title">Hash</span><span class="params">(ElementType Key, <span class="type">int</span> TableSize)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> Key % TableSize;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">HashTable</span></span><br><span class="line"><span class="function"><span class="title">InitializeTable</span><span class="params">(<span class="type">int</span> TableSize)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    HashTable H;</span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (TableSize &lt; MinTableSize)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">Error</span>(<span class="string">&quot;Table size too small&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Allocate table */</span></span><br><span class="line">    H = <span class="keyword">new</span> HashTbl;</span><br><span class="line">    <span class="keyword">if</span> (H == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="built_in">FatalError</span>(<span class="string">&quot;Out of space!!!&quot;</span>);</span><br><span class="line"></span><br><span class="line">    H-&gt;TableSize = <span class="built_in">NextPrime</span>(TableSize);</span><br><span class="line"></span><br><span class="line">    H-&gt;TheCells = (Cell *)<span class="built_in">malloc</span>(<span class="built_in">sizeof</span>(Cell) * H-&gt;TableSize);</span><br><span class="line">    <span class="keyword">if</span> (H-&gt;TheCells == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="built_in">FatalError</span>(<span class="string">&quot;Out of space!!!&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; H-&gt;TableSize; i++)</span><br><span class="line">        H-&gt;TheCells[i].Info = Empty; <span class="comment">//åˆå§‹åŒ–ä¸º1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> H;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Position</span></span><br><span class="line"><span class="function"><span class="title">Find</span><span class="params">(ElementType Key, HashTable H)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Position CurrentPos;</span><br><span class="line">    <span class="type">int</span> CollisionNum;</span><br><span class="line"></span><br><span class="line">    CollisionNum = <span class="number">0</span>;</span><br><span class="line">    CurrentPos = <span class="built_in">Hash</span>(Key, H-&gt;TableSize);</span><br><span class="line">    cout&lt;&lt;H-&gt;TableSize&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">    <span class="keyword">while</span> (H-&gt;TheCells[CurrentPos].Info != Empty &amp;&amp;</span><br><span class="line">           H-&gt;TheCells[CurrentPos].Element != Key)</span><br><span class="line">    <span class="comment">/* Probably need strcmp!! */</span></span><br><span class="line">    &#123;</span><br><span class="line">        CurrentPos += <span class="number">2</span> * ++CollisionNum - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (CurrentPos &gt;= H-&gt;TableSize)</span><br><span class="line">            CurrentPos -= H-&gt;TableSize;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> CurrentPos;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Insert</span><span class="params">(ElementType Key, HashTable H)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Position Pos;</span><br><span class="line"></span><br><span class="line">    Pos = <span class="built_in">Find</span>(Key, H);</span><br><span class="line">    <span class="keyword">if</span> (H-&gt;TheCells[Pos].Info != Legitimate)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">/* OK to insert here */</span></span><br><span class="line">        H-&gt;TheCells[Pos].Info = Legitimate;</span><br><span class="line">        H-&gt;TheCells[Pos].Element = Key;</span><br><span class="line">        <span class="comment">/* Probably need strcpy! */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">HashTable</span></span><br><span class="line"><span class="function"><span class="title">Rehash</span><span class="params">(HashTable H)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> i, OldSize;</span><br><span class="line">    Cell *OldCells;</span><br><span class="line"></span><br><span class="line">    OldCells = H-&gt;TheCells;</span><br><span class="line">    OldSize = H-&gt;TableSize;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Get a new, empty table */</span></span><br><span class="line">    H = <span class="built_in">InitializeTable</span>(<span class="number">2</span> * OldSize);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Scan through old table, reinserting into new */</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; OldSize; i++)</span><br><span class="line">        <span class="keyword">if</span> (OldCells[i].Info == Legitimate)</span><br><span class="line">            <span class="built_in">Insert</span>(OldCells[i].Element, H);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">free</span>(OldCells);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> H;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ElementType</span></span><br><span class="line"><span class="function"><span class="title">Retrieve</span><span class="params">(Position P, HashTable H)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> H-&gt;TheCells[P].Element;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">DestroyTable</span><span class="params">(HashTable H)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">free</span>(H-&gt;TheCells);</span><br><span class="line">    <span class="built_in">free</span>(H);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    HashTable H;</span><br><span class="line">    Position P;</span><br><span class="line">    <span class="type">int</span> i, j = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> CurrentSize;</span><br><span class="line">    H = <span class="built_in">InitializeTable</span>(CurrentSize = <span class="number">17</span>);</span><br><span class="line">    <span class="built_in">Insert</span>(<span class="number">9</span>, H);</span><br><span class="line">    <span class="built_in">Insert</span>(<span class="number">13</span>, H);</span><br><span class="line">    <span class="built_in">Insert</span>(<span class="number">6</span>, H);</span><br><span class="line">    <span class="built_in">Insert</span>(<span class="number">2</span>, H);</span><br><span class="line">    <span class="type">int</span> m=<span class="number">14</span>;</span><br><span class="line">    P=<span class="built_in">Find</span>(m,H);</span><br><span class="line">    cout&lt;&lt;P;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">Retrieve</span>(P,H)==m)</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;Findï¼&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span> cout&lt;&lt;<span class="string">&quot;Not Find!&quot;</span>;</span><br><span class="line">     H=<span class="built_in">Rehash</span>(H);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡ŒåŠ ä¸Šçš„æµ‹è¯•ä»£ç ã€‚åŒæ—¶å…¼é¡¾äº†å¹³æ–¹æ¢æµ‹æ³•çš„ç‰¹ç‚¹ï¼ŒåŠ ä¸Šäº†Resizeå‡½æ•°ï¼Œå…·ä½“å®ç°ä¸ºRehashå‡½æ•°ã€‚</p><h2 id="é“¾åœ°å€æ³•"><a class="markdownIt-Anchor" href="#é“¾åœ°å€æ³•"></a> é“¾åœ°å€æ³•</h2><p>é“¾åœ°å€æ³•è·Ÿå¼€æ”¾åœ°å€æ³•çš„çº¿æ€§æ¢æµ‹ååˆ†ç›¸ä¼¼ï¼Œæœ€å¤§çš„ä¸åŒåœ¨äºçº¿æ€§æ¢æµ‹æ³•ä¸­çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ˜¯åœ¨å½“å‰çš„æ•°ç»„ä¸Šå»å¯»æ‰¾ï¼Œè€Œé“¾åœ°å€æ³•åˆ™æ˜¯é€šè¿‡é“¾è¡¨çš„æ–¹å¼å»è¿½åŠ ç»“ç‚¹ã€‚å®é™…ä¸Šæ‰€åˆ†é…æ•°ç»„çš„æ¯ä¸€ä¸ªä½ç½®éƒ½å¯ä»¥ç§°ä¹‹ä¸ºæ¡¶ï¼Œæ€»çš„æ¥è¯´ï¼Œå¼€æ”¾åœ°å€æ³•äº§ç”Ÿå†²çªçš„æ—¶å€™ï¼Œä¼šå»å¯»æ‰¾ä¸€ä¸ªæ–°çš„æ¡¶æ¥å­˜æ”¾é”®å€¼å¯¹ï¼Œè€Œé“¾åœ°å€æ³•åˆ™æ˜¯ä¾ç„¶ä½¿ç”¨å½“å‰çš„æ¡¶ï¼Œä½†æ˜¯ä¼šè¿½åŠ æ–°ç»“ç‚¹å¢åŠ æ¡¶çš„<strong>æ·±åº¦</strong>ã€‚</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/%E9%93%BE%E5%9C%B0%E5%9D%80%E6%B3%95.png" alt="" /></p><h3 id="give-me-your-code-2"><a class="markdownIt-Anchor" href="#give-me-your-code-2"></a> Give me your codeï¼ï¼ï¼</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">----------fatal.h------------</span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt; stdio.h &gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt; stdlib.h &gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> Error( Str )        FatalError( Str )</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> FatalError( Str )   fprintf( stderr, <span class="string">&quot;%s\n&quot;</span>, Str ), exit( 1 )    </span></span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">-------hashsep.h---------</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> ElementType;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">int</span> Index;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> _HashSep_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _HashSep_H</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span>;</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span> *<span class="title">Position</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">HashTbl</span>;</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">HashTbl</span> *<span class="title">HashTable</span>;</span></span><br><span class="line"></span><br><span class="line">HashTable <span class="title function_">InitializeTable</span><span class="params">(<span class="type">int</span> TableSize)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">DestroyTable</span><span class="params">(HashTable H)</span>;</span><br><span class="line">Position <span class="title function_">Find</span><span class="params">(ElementType Key, HashTable H)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">Insert</span><span class="params">(ElementType Key, HashTable H)</span>;</span><br><span class="line">ElementType <span class="title function_">Retrieve</span><span class="params">(Position P)</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;fatal.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;hashsep.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt; stdlib.h &gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> NumItems 5</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MinTableSize (10)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">ListNode</span></span><br><span class="line">&#123;</span><br><span class="line">    ElementType Element;</span><br><span class="line">    Position Next;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> Position List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* List *TheList will be an array of lists, allocated later */</span></span><br><span class="line"><span class="comment">/* The lists use headers (for simplicity), */</span></span><br><span class="line"><span class="comment">/* though this wastes space */</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">HashTbl</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> TableSize;</span><br><span class="line">    List *TheLists;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Return next prime; assume N &gt;= 10 */</span></span><br><span class="line"><span class="function"><span class="type">static</span> <span class="type">int</span></span></span><br><span class="line"><span class="function"><span class="title">NextPrime</span><span class="params">(<span class="type">int</span> N)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (N % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">        N++;</span><br><span class="line">    <span class="keyword">for</span> (;; N += <span class="number">2</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">3</span>; i * i &lt;= N; i += <span class="number">2</span>)</span><br><span class="line">            <span class="keyword">if</span> (N % i == <span class="number">0</span>)</span><br><span class="line">                <span class="keyword">goto</span> ContOuter; <span class="comment">/* Sorry about this! */</span></span><br><span class="line">        <span class="keyword">return</span> N;</span><br><span class="line">    ContOuter:;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Index <span class="title">Hash</span><span class="params">(ElementType Key, <span class="type">int</span> TableSize)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> Key % TableSize;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">HashTable</span></span><br><span class="line"><span class="function"><span class="title">InitializeTable</span><span class="params">(<span class="type">int</span> TableSize)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    HashTable H;</span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (TableSize &lt; MinTableSize)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">Error</span>(<span class="string">&quot;Table size too small&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Allocate table */</span></span><br><span class="line">    H=<span class="keyword">new</span> HashTbl;</span><br><span class="line">    <span class="keyword">if</span> (H == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="built_in">FatalError</span>(<span class="string">&quot;Out of space!!!&quot;</span>);</span><br><span class="line"></span><br><span class="line">    H-&gt;TableSize = <span class="built_in">NextPrime</span>(TableSize);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Allocate array of lists */</span></span><br><span class="line">    H-&gt;TheLists = (List*)<span class="built_in">malloc</span>(<span class="built_in">sizeof</span>(List) * H-&gt;TableSize);</span><br><span class="line">    <span class="keyword">if</span> (H-&gt;TheLists == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="built_in">FatalError</span>(<span class="string">&quot;Out of space!!!&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Allocate list headers */</span><span class="comment">/*å®ç°è¡¨å¤´*/</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; H-&gt;TableSize; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        H-&gt;TheLists[i] = <span class="keyword">new</span> ListNode;</span><br><span class="line">        <span class="keyword">if</span> (H-&gt;TheLists[i] == <span class="literal">NULL</span>)</span><br><span class="line">            <span class="built_in">FatalError</span>(<span class="string">&quot;Out of space!!!&quot;</span>);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            H-&gt;TheLists[i]-&gt;Next = <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> H;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Position</span></span><br><span class="line"><span class="function"><span class="title">Find</span><span class="params">(ElementType Key, HashTable H)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Position P;</span><br><span class="line">    List L;</span><br><span class="line"></span><br><span class="line">    L = H-&gt;TheLists[<span class="built_in">Hash</span>(Key, H-&gt;TableSize)];</span><br><span class="line">    P = L-&gt;Next;</span><br><span class="line">    <span class="keyword">while</span> (P != <span class="literal">NULL</span> &amp;&amp; P-&gt;Element != Key)</span><br><span class="line">        <span class="comment">/* Probably need strcmp!! */</span></span><br><span class="line">        P = P-&gt;Next;</span><br><span class="line">    <span class="keyword">return</span> P;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Insert</span><span class="params">(ElementType Key, HashTable H)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Position Pos, NewCell;</span><br><span class="line">    List L;</span><br><span class="line"></span><br><span class="line">    Pos = <span class="built_in">Find</span>(Key, H);</span><br><span class="line">    <span class="keyword">if</span> (Pos == <span class="literal">NULL</span>) <span class="comment">/* Key is not found */</span></span><br><span class="line">    &#123;</span><br><span class="line">        NewCell = <span class="keyword">new</span> ListNode;</span><br><span class="line">        <span class="keyword">if</span> (NewCell == <span class="literal">NULL</span>)</span><br><span class="line">            <span class="built_in">FatalError</span>(<span class="string">&quot;Out of space!!!&quot;</span>);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            L = H-&gt;TheLists[<span class="built_in">Hash</span>(Key, H-&gt;TableSize)];</span><br><span class="line">            NewCell-&gt;Next = L-&gt;Next;</span><br><span class="line">            NewCell-&gt;Element = Key; <span class="comment">/* Probably need strcpy! */</span></span><br><span class="line">            L-&gt;Next = NewCell;S</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ElementType</span></span><br><span class="line"><span class="function"><span class="title">Retrieve</span><span class="params">(Position P)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> P-&gt;Element;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">DestroyTable</span><span class="params">(HashTable H)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; H-&gt;TableSize; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        Position P = H-&gt;TheLists[i];</span><br><span class="line">        Position Tmp;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (P != <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            Tmp = P-&gt;Next;</span><br><span class="line">            <span class="built_in">free</span>(P);</span><br><span class="line">            P = Tmp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">free</span>(H-&gt;TheLists);</span><br><span class="line">    <span class="built_in">free</span>(H);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    HashTable H;</span><br><span class="line">    Position P;</span><br><span class="line">    <span class="type">int</span> i, j = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> k;</span><br><span class="line">     <span class="type">int</span> CurrentSize;</span><br><span class="line">    H = <span class="built_in">InitializeTable</span>(CurrentSize = <span class="number">13</span>);</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; NumItems<span class="number">-3</span>; i++, j += <span class="number">71</span>)</span><br><span class="line">        <span class="built_in">Insert</span>(j, H);</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>, j = <span class="number">0</span>; i &lt; NumItems; i++, j += <span class="number">71</span>)&#123;</span><br><span class="line">         <span class="keyword">if</span>( ( P = <span class="built_in">Find</span>( j, H ) ) == <span class="literal">NULL</span> || <span class="built_in">Retrieve</span>( P ) != j )</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;Error at %d\n&quot;</span>, j);</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="built_in">DestroyTable</span>(H);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;End of program.\n&quot;</span>);</span><br><span class="line">    <span class="built_in">system</span>(<span class="string">&quot;Pause&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>ä»£ç ç»æµ‹è¯•æ²¡æœ‰é—®é¢˜</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/%E6%B2%A1%E6%83%B3%E5%88%B0%E5%90%A7.jpg" alt="" /></p><p>é™¤äº†åŸæ¥çš„æ•°æ®å­—æ®µä¹‹å¤–ï¼Œè¿˜éœ€è¦ç»´æŠ¤ä¸€ä¸ªæŒ‡å‘ä¸‹ä¸€ä¸ªå†²çªç»“ç‚¹çš„æŒ‡é’ˆï¼Œå®é™…ä¸Šå°±æ˜¯çš„é“¾è¡¨çš„æ–¹å¼ã€‚è¿™ç§å¤„ç†æ–¹å¼æœ‰ä¸ªå¥½å¤„å°±æ˜¯ï¼Œäº§ç”Ÿå†²çªçš„æ—¶å€™ï¼Œä¸å†éœ€è¦ä¸ºäº†å¯»æ‰¾åˆé€‚çš„ä½ç½®è€Œè¿›è¡Œå¤§é‡çš„æ¢æµ‹ï¼Œåªè¦é€šè¿‡æ•£åˆ—å‡½æ•°æ‰¾åˆ°å¯¹åº”æ¡¶çš„ä½ç½®ï¼Œç„¶åéå†æ¡¶ä¸­çš„é“¾è¡¨å³å¯ã€‚æ­¤å¤–ï¼Œåˆ©ç”¨è¿™ç§æ–¹å¼åˆ é™¤èŠ‚ç‚¹ä¹Ÿæ˜¯æ¯”è¾ƒå®¹æ˜“çš„ã€‚å³ä¾¿æ˜¯é‡‡ç”¨äº†é“¾åœ°å€æ³•ï¼Œåˆ°äº†ä¸€å®šæ—¶å€™è¿˜æ˜¯è¦å¯¹æ•£åˆ—è¡¨è¿›è¡Œ Resize çš„ï¼Œä¸ç„¶ç­‰æ¡¶å¤ªæ·±çš„æ—¶å€™ï¼Œä¾æ—§ä¸åˆ©äºæŸ¥æ‰¾ã€‚</p><p>æ€»ä½“è€Œè¨€ï¼Œé‡‡ç”¨å¼€æ”¾åœ°å€æ³•æ‰€éœ€è¦çš„å†…å­˜ç©ºé—´æ¯”è¾ƒå°‘ï¼Œå®ç°èµ·æ¥ä¹Ÿç›¸å¯¹ç®€å•ä¸€äº›ï¼Œå½“å†²çªäº§ç”Ÿçš„æ—¶å€™å®ƒæ˜¯é€šè¿‡æ¢æµ‹å‡½æ•°æ¥æŸ¥æ‰¾ä¸‹ä¸€ä¸ªå­˜æ”¾çš„ä½ç½®ã€‚ä½†æ˜¯åˆ é™¤ç»“ç‚¹çš„æ—¶å€™éœ€è¦å¦å¤–ç»´æŠ¤ä¸€ä¸ªçŠ¶æ€ï¼Œæ‰ä¸è‡³äºæŸ¥æ‰¾é“¾çš„ä¸­æ–­ã€‚é“¾åœ°å€æ³•åˆ™æ˜¯é€šè¿‡é“¾è¡¨æ¥å­˜å‚¨å†²çªæ•°æ®ï¼Œè¿™ä¸ºæ•°æ®æ“ä½œå¸¦æ¥ä¸å°‘ä¾¿åˆ©æ€§ã€‚ç„¶è€Œï¼Œæ— è®ºé‡‡ç”¨å“ªç§æ–¹å¼ï¼Œéƒ½éœ€è¦åœ¨æ°å½“çš„æ—¶å€™è¿›è¡Œ Resizeï¼Œæ‰èƒ½å¤Ÿè®©æ—¶é—´å¤æ‚åº¦ä¿æŒåœ¨<code>O(1)</code>å·¦å³ã€‚</p><h2 id="è‡³äºä¼ªéšæœºæ¢æµ‹æ³•"><a class="markdownIt-Anchor" href="#è‡³äºä¼ªéšæœºæ¢æµ‹æ³•"></a> è‡³äºä¼ªéšæœºæ¢æµ‹æ³•</h2><p>ç»è¿‡å¤šæ–¹å‚è€ƒå¤§æ¦‚æ˜¯è¿™ä¸ªæ ·å­ã€é›¾ã€‘</p><p>ä¸Šé¢ä¸¤ä¸ªç®—æ³•æœ€å¤§çš„ç‰¹ç‚¹åœ¨äºï¼Œå¯¹äºç›¸åŒçš„åœ°å€è¾“å…¥ï¼Œæ€»ä¼šæŒ‰ç…§ä¸€ä¸ªå›ºå®šçš„è·¯çº¿å»å¯»æ‰¾åˆé€‚çš„ä½ç½®ï¼Œè¿™æ ·ä»¥åè¦å†ä»æ•£åˆ—è¡¨ä¸­æŸ¥æ‰¾å¯¹åº”çš„é”®å€¼å¯¹å°±æœ‰è¿¹å¯å¾ªäº†ã€‚å…¶å®ä¼ªéšæœºæ•°ä¹Ÿæœ‰è¿™ç§ç‰¹æ€§ï¼Œåªè¦éšæœºçš„ç§å­æ•°æ®æ˜¯ç›¸åŒçš„ï¼Œé‚£ä¹ˆæ¯æ¬¡å¾—åˆ°çš„éšæœºåºåˆ—éƒ½æ˜¯ä¸€å®šçš„ã€‚å¯ä»¥åˆ©ç”¨ä¸‹é¢çš„ç¨‹åºè§‚å¯Ÿä¼ªéšæœºæ•°çš„è¡Œä¸º</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt; stdio.h &gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt; stdlib.h &gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> seed = <span class="number">100</span>;</span><br><span class="line">    srand(seed);</span><br><span class="line">    <span class="type">int</span> value = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> i=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (i=<span class="number">0</span>; i&lt; <span class="number">5</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        value =rand();</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;value is %d\n&quot;</span>, value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¼ªéšæœºç§å­æ˜¯<code>seed = 100</code>ï¼Œè¿™ä¸ªç¨‹åºæ— è®ºè¿è¡Œå¤šå°‘æ¬¡æ‰“å°çš„ç»“æœæ€»æ˜¯ä¸€è‡´çš„ï¼Œåœ¨æˆ‘çš„è®¡ç®—æœºä¸Šä¼šæ‰“å°ä»¥ä¸‹æ•°å€¼</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">value is <span class="number">365</span></span><br><span class="line">value is <span class="number">1216</span></span><br><span class="line">value is <span class="number">5415</span></span><br><span class="line">value is <span class="number">16704</span></span><br><span class="line">value is <span class="number">24504</span></span><br></pre></td></tr></table></figure><p>åˆ©ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œæˆ‘ä»¬å°±èƒ½å¤Ÿä»¥ä¼ªéšæœºçš„æœºåˆ¶æ¥å®ç°ä¼ªéšæœºæ¢æµ‹å‡½æ•°<code>randomProbing</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">randomProbing</span><span class="params">(Hash *hash, <span class="type">int</span> address, <span class="type">int</span> size)</span> &#123;</span><br><span class="line">  srand(address);</span><br><span class="line">  <span class="keyword">while</span> (!hash[address].isNull) &#123;</span><br><span class="line">    address = rand() % size;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> address;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ— è®ºé‡‡ç”¨å“ªç§æ–¹å¼ï¼Œåªè¦æœ‰ç›¸åŒçš„ address è¾“å…¥ï¼Œéƒ½ä¼šå¾—åˆ°ç›¸åŒçš„æŸ¥æ‰¾è·¯çº¿ã€‚æ€»ä½“è€Œè¨€ï¼Œç”¨å¼€æ”¾åœ°å€æ³•æ¥è§£å†³åœ°å€å†²çªé—®é¢˜ï¼Œåœ¨ä¸è€ƒè™‘å“ˆå¸Œè¡¨ Resize çš„æƒ…å†µä¸‹ï¼Œå®ç°èµ·æ¥è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ã€‚ä¸è¿‡ä¸éš¾æƒ³åˆ°ï¼Œå®ƒè¾ƒå¤§é—®é¢˜åœ¨äºå½“æ•£åˆ—è¡¨æ»¡åˆ°ä¸€å®šç¨‹åº¦çš„æ—¶å€™ï¼Œå†²çªçš„å‡ ç‡ä¼šæ¯”è¾ƒå¤§ï¼Œè¿™ç§æƒ…å†µä¸‹ä¸ºäº†æ‰¾åˆ°åˆé€‚çš„ä½ç½®å¿…é¡»è¦è¿›è¡Œå¤šæ¬¡è®¡ç®—ã€‚å¦å¤–è¿˜æœ‰ä¸ªé—®é¢˜ï¼Œå°±æ˜¯åˆ é™¤é”®å€¼å¯¹çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸èƒ½æŠŠé”®å€¼å¯¹çš„æ•°æ®ç®€å•åœ° â€œåˆ é™¤â€ æ‰ï¼Œå¹¶æŠŠå½“å‰ä½ç½®è®¾ç½®æˆç©ºã€‚å› ä¸ºå¦‚æœç›´æ¥åˆ é™¤å¹¶è®¾ç½®ä¸ºç©ºçš„è¯ä¼šå‡ºç°æŸ¥æ‰¾é“¾ä¸­æ–­çš„æƒ…å†µï¼Œä»»ä½•ä¾èµ–äºå½“å‰ä½ç½®æ‰€åšçš„æœç´¢éƒ½ä¼šä½œåºŸï¼Œå¯ä»¥è€ƒè™‘å¦å¤–ç»´æŠ¤ä¸€ä¸ªçŠ¶æ€æ¥æ ‡è¯†å½“å‰ä½ç½®æ˜¯ â€œç©ºé—²â€ çš„ï¼Œè¡¨æ˜å®ƒæ›¾ç»æœ‰è¿‡æ•°æ®ï¼Œç°åœ¨ä¹Ÿæ¥å—æ–°æ•°æ®çš„æ’å…¥ã€‚</p><p>PSSSSS: åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åªåˆ©ç”¨<code>isNull</code>å­—æ®µæ¥æ ‡è¯†ä¸åŒçŠ¶æ€ã€‚ç”¨æ•°å€¼ 0 æ¥æ ‡è¯†å½“å‰ç»“ç‚¹å·²ç»æœ‰æ•°æ®äº†ï¼Œç”¨ 1 æ¥æ ‡è¯†å½“å‰ç»“ç‚¹æ˜¯ç©ºçš„ï¼Œé‡‡ç”¨ 2 æ¥æ ‡è¯†å½“å‰ç»“ç‚¹æ›¾ç»æœ‰è¿‡æ•°æ®ï¼Œç›®å‰å¤„äºç©ºé—²çŠ¶æ€ï¼Œå¹¶ä¸”æ¥å—æ–°æ•°æ®çš„æ’å…¥ã€‚è¿™æ ·å°±ä¸ä¼šå‡ºç°æŸ¥æ‰¾é“¾ä¸­æ–­çš„æƒ…å†µäº†ã€‚ä¸è¿‡éœ€è¦å¯¹ä¸Šé¢çš„æ¢æµ‹å‡½æ•°ç¨å¾®åšä¸€äº›è°ƒæ•´ï¼Œè¿™é‡Œä¸å±•å¼€è¯´</p><h2 id="æ’å…¥"><a class="markdownIt-Anchor" href="#æ’å…¥"></a> æ’å…¥</h2><ol><li>é€šè¿‡æ•£åˆ—å‡½æ•°è®¡ç®—å‡ºé”®æ‰€å¯¹åº”çš„æ•£åˆ—å€¼ã€‚</li><li>æ ¹æ®æ•£åˆ—å€¼ä»æ•°ç»„ä¸­æ‰¾åˆ°ç›¸å¯¹åº”çš„ç´¢å¼•ä½ç½®ã€‚</li><li>å¦‚æœè¿™ä¸ªä½ç½®æ˜¯ â€œç©ºé—²â€ çš„ï¼Œåˆ™æ’å…¥æ•°æ®ã€‚å¦‚æœè¯¥é”®å€¼å¯¹å·²ç»å­˜åœ¨äº†ï¼Œåˆ™æ›¿æ¢æ‰åŸæ¥çš„æ•°æ®ã€‚4</li><li>å¦‚æœè¿™ä¸ªä½ç½®å·²ç»æœ‰åˆ«çš„æ•°æ®äº†ï¼Œè¡¨æ˜å†²çªå·²ç»äº§ç”Ÿã€‚</li><li>é€šè¿‡ç‰¹å®šçš„æ¢æµ‹æ³•ï¼Œè®¡ç®—ä¸‹ä¸€ä¸ªå¯ä»¥å­˜æ”¾çš„ä½ç½®ã€‚</li><li>è¿”å›ç¬¬ä¸‰æ­¥ã€‚</li></ol><h2 id="æŸ¥æ‰¾"><a class="markdownIt-Anchor" href="#æŸ¥æ‰¾"></a> æŸ¥æ‰¾</h2><ol><li>é€šè¿‡æ•£åˆ—å‡½æ•°è®¡ç®—å‡ºé”®æ‰€å¯¹åº”çš„æ•£åˆ—å€¼ã€‚</li><li>æ ¹æ®æ•£åˆ—å€¼ä»æ•°ç»„ä¸­æ‰¾åˆ°ç›¸å¯¹åº”çš„ç´¢å¼•ä½ç½®ã€‚</li><li>å¦‚æœè¿™ä¸ªä½ç½®ä¸ºç©ºçš„è¯åˆ™ç›´æ¥è¿”å›è¯´æ‰¾ä¸åˆ°æ•°æ®ã€‚</li><li>å¦‚æœè¿™ä¸ªä½ç½®èƒ½å¤ŸåŒ¹é…å½“å‰æŸ¥æ‰¾çš„é”®ï¼Œåˆ™è¿”å›éœ€è¦æŸ¥æ‰¾çš„æ•°æ®ã€‚</li><li>å¦‚æœè¿™ä¸ªä½ç½®å·²ç»æœ‰åˆ«çš„æ•°æ®ï¼Œæˆ–è€…çŠ¶æ€æ˜¾ç¤ºæ›¾ç»æœ‰è¿‡åˆ«çš„æ•°æ®ï¼Œè¡¨æ˜æœ‰å†²çªäº§ç”Ÿã€‚</li><li>é€šè¿‡ç‰¹å®šçš„æ¢æµ‹æ³•ï¼Œè®¡ç®—ä¸‹ä¸€ä¸ªä½ç½®ã€‚</li><li>è¿”å›ç¬¬ä¸‰æ­¥ã€‚</li></ol><p>é“¾åœ°å€æ³•å…¶å®ä¹Ÿç±»ä¼¼çš„ï¼Œå¯ä»¥çœ‹ä¸Šé¢çš„å…·ä½“å®ç°ä»£ç ã€‚åŒºåˆ«åœ¨äºæ’å…¥é”®å€¼å¯¹çš„æ—¶å€™å¦‚æœè¯†åˆ«åˆ°å†²çªï¼Œé“¾åœ°å€æ³•å¹¶ä¸ä¼šé€šè¿‡ä¸€å®šçš„æ¢æµ‹æ³•æ¥æŸ¥æ‰¾ä¸‹ä¸€ä¸ªå­˜æ”¾æ•°æ®çš„ä½ç½®ï¼Œè€Œæ˜¯é¡ºç€é“¾è¡¨å¾€ä¸‹æœç´¢ï¼Œå¢æ·»æ–°çš„ç»“ç‚¹ï¼Œæˆ–è€…æ›´æ–°å·²æœ‰çš„ç»“ç‚¹ã€‚æŸ¥æ‰¾çš„æ—¶å€™åˆ™æ˜¯æ²¿ç€é“¾è¡¨å¾€ä¸‹æŸ¥æ‰¾ï¼Œæ‰¾åˆ°ç›®æ ‡æ•°æ®åˆ™ç›´æ¥æŠŠç»“æœè¿”å›ã€‚å‡è®¾ç©·å°½é“¾è¡¨éƒ½æ— æ³•æ‰¾åˆ°å¯¹åº”çš„æ•°æ®ï¼Œè¡¨æ˜æ•°æ®ä¸å­˜åœ¨ã€‚</p><h2 id="åŒæ•£åˆ—"><a class="markdownIt-Anchor" href="#åŒæ•£åˆ—"></a> åŒæ•£åˆ—</h2><p>ä¸ºäº†<strong>é¿å…èšé›†</strong>ï¼Œåœ¨æ¢æµ‹æ—¶é€‰æ‹©è·³è·ƒå¼çš„æ¢æµ‹ï¼Œå³å†ä½¿ç”¨ä¸€ä¸ªæ•£åˆ—å‡½æ•°ï¼Œç”¨æ¥è®¡ç®—æ¢æµ‹çš„ä½ç½®ã€‚å‡è®¾å‰é¢çš„æ•£åˆ—å‡½æ•°ä¸ºhash1(X)ï¼Œç”¨äºæ¢æµ‹çš„æ•£åˆ—å‡½æ•°ä¸ºhash2(X)ï¼Œé‚£ä¹ˆä¸€ç§æµè¡Œçš„é€‰æ‹©æ˜¯F(i) = i * hash2(X)ï¼Œå³ç¬¬ä¸€æ¬¡å†²çªæ—¶æ¢æµ‹hash1(X)+hash2(X)çš„ä½ç½®ï¼Œç¬¬äºŒæ¬¡æ¢æµ‹hash1(X)+2hash2(X)çš„ä½ç½®ã€‚æ¨¡æ‹Ÿè¡¨æ˜ï¼ŒåŒæ•£åˆ—çš„æ¢æµ‹å‡ ä¹å’Œéšæœºå†²çªè§£å†³æ–¹æ³•æƒ…æ™¯ç›¸åŒï¼Œè¿™ä½¿å¾—åŒæ•£åˆ—åœ¨ç†è®ºä¸Šå¾ˆæœ‰å¸å¼•åŠ›ã€‚ä¸è¿‡å¯¹äºå¹³æ–¹æ¢æµ‹å°±æ²¡æœ‰å¿…è¦ä½¿ç”¨ç¬¬äºŒä¸ªæ•£åˆ—å‡½æ•°äº†ã€‚è¿™ä¸ªå°±ä¸åœ¨å…·ä½“è¯´äº†ã€‚</p><h2 id="å†æ•£åˆ—"><a class="markdownIt-Anchor" href="#å†æ•£åˆ—"></a> å†æ•£åˆ—</h2><p>è¿™ä¸ªå…·ä½“çš„å®ç°æ–¹æ³•åœ¨å‰é¢çš„å¼€æ”¾å®šå€æ³•å°±å·²ç»å®ç°è¿‡äº†ï¼Œå¯¹äºå¹³æ³•æ¢æµ‹æ³•ï¼Œå¦‚æœè¡¨çš„å…ƒç´ å¡«çš„å¤ªæ»¡ï¼Œå®é™…æ“ä½œä¼°è®¡ä¹Ÿå°±æ¯”50%å¤šä¸€ç‚¹å§ã€‚ä¸ä»…è¿è¡Œæ—¶é—´è¾ƒé•¿ï¼Œæ•ˆç‡ä¹Ÿä¼šå˜æ…¢ã€‚Insertæ“ä½œä¹Ÿå¯èƒ½å¤±è´¥ï¼Œæ‰€ä»¥ä¸€ç§æ–¹æ³•æ˜¯å»ºç«‹å¦ä¸€ä¸ªå¤§çº¦ä¸¤å€å¤§çš„è¡¨ï¼Œæ‰«ææ•´ä¸ªåŸå§‹æ•£åˆ—è¡¨ï¼Œè®¡ç®—æ¯ä¸ªæœªåˆ é™¤çš„æ–°æ•£åˆ—å€¼å¹¶å°†å…¶æ’å…¥åˆ°æ–°è¡¨ä¸­ã€‚å…·ä½“å®ç°å¯å‚è€ƒå‰é¢å®ç°çš„æºä»£ç ã€‚</p><h2 id="å¯æ‰©æ•£åˆ—"><a class="markdownIt-Anchor" href="#å¯æ‰©æ•£åˆ—"></a> å¯æ‰©æ•£åˆ—</h2><p>å¦‚æœæ•°æ®é‡å¤ªå¤§è€Œæ— æ³•è£…è¿›å†…å­˜ï¼Œå°±éœ€è¦è€ƒè™‘æ£€ç´¢æ•°æ®æ‰€éœ€çš„ç£ç›˜å­˜å–æ¬¡æ•°ã€‚å‰é¢çš„ä¸¤ç§æ•£åˆ—æ³•åœ¨å‘ç”Ÿå†²çªæ—¶å¯èƒ½å¼•èµ·å¤šä¸ªåŒºå—çš„è¯»å–ã€‚</p><p>å¯æ‰©æ•£åˆ—å…è®¸ç”¨ä¸¤æ¬¡ç£ç›˜è®¿é—®æ‰§è¡Œä¸€æ¬¡æŸ¥æ‰¾ï¼Œæ’å…¥æ“ä½œä¹Ÿåªéœ€å¾ˆå°‘çš„ç£ç›˜è®¿é—®ã€‚å®ƒå¯ä»¥çœ‹ä½œç”±B-æ ‘å˜åŒ–è€Œæ¥ï¼Œå¢åŠ  <em>M</em> ï¼Œä½¿B-æ ‘çš„æ·±åº¦ä¸º1ã€‚æ ¹ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œç”¨ <em>D</em> ä»£è¡¨æ ¹ä½¿ç”¨çš„ä½æ•°ï¼Œ <em>D</em> ä¹Ÿç§°ä¸ºç›®å½•ï¼Œåˆ™ç›®å½•ä¸­çš„é¡¹æ•°ä¸º 2<em>D</em> ã€‚æ ‘å¶çš„å…ƒç´ ä¸ªæ•°æœ€å¤šä¸º <em>M</em> ï¼Œ <em>d**L</em> ä¸ºæ ‘å¶ <em>L</em> æ‰€æœ‰å…ƒç´ å…±æœ‰çš„æœ€é«˜ä½çš„ä½æ•°ï¼Œ <em>d**L</em>â‰¤<em>D</em> ã€‚ä¸‹å›¾æ˜¯å¯æ‰©æ•£åˆ—çš„ä¸€ä¸ªä¾‹å­ã€‚</p><blockquote><p>æ’å…¥100</p></blockquote><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/%E5%86%8D%E6%95%A3%E5%88%972.jpg" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/sanlie.jpg" alt="" /></p><blockquote><p>æ’å…¥000000</p></blockquote><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/%E5%86%8D%E6%95%A3%E5%88%973.jpg" alt="" /></p><p>å¯æ‰©æ•£åˆ—æ’å…¥æ—¶ï¼Œå¦‚æœæ ‘å¶å·²ç»æ»¡äº†ï¼Œåˆ™å¢åŠ ç›®å½•å¤§å°ï¼Œåˆ†è£‚æ ‘å¶ï¼Œæœªåˆ†è£‚çš„æ ‘å¶ç”±ç›¸é‚»çš„ç›®å½•é¡¹å…±åŒæŒ‡å‘ã€‚å¯ä»¥çœ‹åˆ°å°½ç®¡ç›®å½•è¢«é‡å†™ï¼Œä½†å…¶ä»–æ ‘å¶æœªè¢«è®¿é—®ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæœ‰å¯èƒ½ä¸€ä¸ªæ ‘å¶çš„å…ƒç´ æœ‰å¤šäº <em>D</em>+1 ä¸ªå‰å¯¼ä½ç›¸åŒæ—¶éœ€è¦å¤šæ¬¡ç›®å½•åˆ†è£‚ï¼Œå¦‚ä¸Šå›¾ <em>D</em>=2 æ—¶ï¼Œæ’å…¥ <code>111010</code> ã€ <code>111011</code> åå†æ’å…¥ <code>111100</code> ï¼›å¦ä¸€ä¸ªé—®é¢˜æ˜¯å¦‚æœå…è®¸é‡å¤å…³é”®å­—ï¼Œè‹¥å­˜åœ¨è¶…è¿‡ <em>M</em> ä¸ªé‡å¤å…³é”®å­—ï¼Œåˆ™ç®—æ³•æ— æ•ˆã€‚</p><p>å¯æ‰©æ•£åˆ—æä¾›äº†å¯¹å¤§å‹æ•°æ®åº“æ’å…¥å’ŒæŸ¥æ‰¾æ“ä½œçš„å¿«é€Ÿå­˜å–ã€‚</p><h2 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h2><ul><li>æ•£åˆ—è¡¨å¯ä»¥ä»¥å¸¸æ•°æ—¶é—´å®ç°Insertå’ŒFindæ“ä½œï¼Œä½¿ç”¨æ•£åˆ—è¡¨æ˜¯ï¼Œæ³¨æ„åŠ è£…å¡«å› è¿™æ ·çš„ç»†èŠ‚å­ä¹Ÿæ˜¯éå¸¸é‡è¦çš„ï¼Œå¦åˆ™æ—¶é—´ç•Œä¸åœ¨æœ‰æ•ˆï¼Œå½“å…³é”®å­—ä¸æ˜¯çŸ­ä¸²æˆ–è€…æ•´æ•°æ—¶ï¼Œéœ€è¦ä»”ç»†é€‰æ‹©æ•£åˆ—å‡½æ•°ä¹Ÿæ˜¯éå¸¸é‡è¦çš„ã€‚</li><li>å¯¹äºé“¾åœ°å€æ³•ï¼Œè£…å¡«å› å­ä¸æ˜¯å¾ˆå¤§æ—¶æ€§èƒ½å¹¶ä¸ä¼šæ˜æ˜¾é™ä½ï¼Œä½†è£…å¡«å› å­é»‘å…½åº”è¯¥æ¥è¿‘äº1ï¼Œå¯¹äºå¼€æ”¾å®šå€ç®—æ³•ï¼Œé™¤éç©å»å“ªä¸å¯ä»¥é¿å…ï¼Œå¦åˆ™è£…å¡«å› å­ä¸åº”è¯¥è¶…è¿‡0.5ï¼Œå¦‚æœä½¿ç”¨çº¿æ€§æ¢æµ‹ï¼Œé‚£ä¹ˆæ€§èƒ½ä¼šéšç€æ¥è¿‘äº1æ€¥é€Ÿä¸‹é™ã€‚å¯ä»¥é€šè¿‡åœ¨æ•£åˆ—çš„æ‰©å……æ¥å®ç°ã€‚ä¿æŒåˆç†çš„è£…å¡«å› å­ï¼Œå¯¹äºç©ºé—´ç´§ç¼ºå¹¶ä¸”ä¸å¯èƒ½å£°æ˜å·¨å¤§æ•£åˆ—è¡¨çš„æƒ…å†µæ˜¯å¾ˆé‡è¦çš„ã€‚</li><li>äºŒå‰æ ‘ä¹Ÿå¯ä»¥ç”¨æ¥å®ç°Insertå’ŒFindè¿ç®—ï¼Œè™½ç„¶å¹³å‡æ—¶é—´ç•Œä¸ºOï¼ˆlog N)ã€‚ä½†æ˜¯æ˜¾ç„¶äºŒå‰æŸ¥æ‰¾æ ‘æ›´å¼ºå¤§ï¼Œæ•£åˆ—ä¸å¯èƒ½æ‰¾å‡ºæœ€å°å…ƒç´ ã€‚é™¤éå‡†ç¡®çš„çŸ¥é“ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚å¦åˆ™å¯¹äºæ•£åˆ—è¡¨æ¥è¯´æ˜¯ä¸å¯èƒ½æœ‰æ•ˆçš„æ‰¾åˆ°å®ƒçš„ï¼ŒäºŒå‰æŸ¥æ‰¾æ ‘å¯ä»¥åœ¨ä¸€å®šèŒƒå›´å†…è¿…é€ŸæŸ¥æ‰¾ï¼Œè€Œä¸”å•å•ä»æ—¶é—´ç•Œæ¥çœ‹Oï¼ˆlog N)ä¹Ÿä¸å¿…Oï¼ˆ1ï¼‰å¤§å¤šå°‘ï¼Œè¿™æ˜¯å› ä¸ºä½¿æŸ¥æ‰¾æ ‘ä¸éœ€è¦å¤šä½™çš„ä¹˜æ³•å’Œé™¤æ³•ã€‚</li><li>æ•£åˆ—è¡¨çš„åº”ç”¨éå¸¸å¹¿æ³›ï¼Œç¼–è¯‘å™¨ä½¿ç”¨æ•£åˆ—è¡¨è·Ÿè¸ªæºä»£ç ä¸­çš„å£°æ˜å˜é‡ï¼Œè¿™ç§æ•°æ®ç»“æ„å«åšç¬¦å·è¡¨ã€‚è¿˜æœ‰ç”¨æ˜¯åœ¨ä¸ºæ¸¸æˆç¼–åˆ¶çš„ç¨‹åºä¸­ï¼Œå½“ç¨‹åºæœç´¢æ¸¸æˆçš„ä¸åŒè¡Œæ—¶ï¼Œå®ƒè¦è·Ÿè¸ªé€šè¿‡è®¡ç®—åŸºäºä½ç½®çš„æ•£åˆ—å‡½æ•°è€Œçœ‹åˆ°çš„ä¸€äº›ä½ç½®ï¼Œå¦‚æœåŒæ ·çš„ä½ç½®åœ¨å‡ºç°æ—¶é€šå¸¸ç»è¿‡ç®€å•çš„ç§»åŠ¨å˜æ¢æ¥é¿å…æ˜‚è´µçš„é‡å¤è®¡ç®—ï¼Œæ¸¸æˆç¨‹åºçš„è¿™ç§ç‰¹ç‚¹ä¸€èˆ¬å«åšäº¤æ¢è¡¨ã€‚</li></ul><h3 id="è‡³äºå¯æ‰©æ•£åˆ—çš„å…·ä½“å®ç°"><a class="markdownIt-Anchor" href="#è‡³äºå¯æ‰©æ•£åˆ—çš„å…·ä½“å®ç°"></a> è‡³äºå¯æ‰©æ•£åˆ—çš„å…·ä½“å®ç°</h3><p>å†™æ˜¯ä¸å¯èƒ½å†™çš„,åªèƒ½å¶å°”åˆ’åˆ’æ°´è¿™æ ·å­,æ‰èƒ½å‹‰å¼ºç»´æŒçš„äº†æ°´åšå®¢è¿™æ ·å­ã€‚</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/images5.jpg" alt="" /></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æ•£åˆ—è¡¨ï¼ˆä¹Ÿå« Hash è¡¨ï¼‰æ˜¯ä¸€ç§åº”ç”¨è¾ƒä¸ºå¹¿æ³›çš„æ•°æ®ç»“æ„ï¼Œå‡ ä¹æ‰€æœ‰çš„é«˜çº§ç¼–ç¨‹è¯­è¨€éƒ½å†…ç½®äº†æ•£åˆ—è¡¨è¿™ç§æ•°æ®ç»“æ„ã€‚åœ¨ç°ä»£çš„ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œå‡ ä¹éƒ½ä¼šæœ‰æ•£åˆ—è¡¨çš„èº«å½±ï¼Œæ•…è€Œéš¾ä»¥å¿½è§†å®ƒä¸ºç¨‹åºå‘˜æ‰€å¸¦æ¥çš„ç§ç§ä¾¿åˆ©æ€§ã€‚æ•£åˆ—è·Ÿæ•°ç»„æ˜¯å¾ˆç›¸ä¼¼çš„ï¼Œè¾ƒå¤§çš„åŒºåˆ«åœ¨äºï¼Œæ•°ç»„ç›´æ¥é€šè¿‡ç‰¹å®šçš„ç´¢å¼•æ¥è®¿é—®ç‰¹å®šä½ç½®çš„æ•°æ®</summary>
      
    
    
    
    <category term="bugçš„ç‚¼é‡‘å·¥åŠ" scheme="https://blog.youmingsama.cn/categories/bug%E7%9A%84%E7%82%BC%E9%87%91%E5%B7%A5%E5%9D%8A/"/>
    
    
    <category term="data structure" scheme="https://blog.youmingsama.cn/tags/data-structure/"/>
    
  </entry>
  
  <entry>
    <title>githubè¢«æ”»å‡»ä¹‹å°è’Ÿè’»ç‘Ÿç‘Ÿå‘æŠ–</title>
    <link href="https://blog.youmingsama.cn/posts/fd7e80ac/"/>
    <id>https://blog.youmingsama.cn/posts/fd7e80ac/</id>
    <published>2020-03-30T00:00:00.000Z</published>
    <updated>2020-03-30T00:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>äº‹æƒ…å‘ç”Ÿåœ¨3æœˆ26æ—¥ï¼Œæˆ‘ä¸€è¾¹åœ¨ä¿®æ”¹åšå®¢çš„cssæ ·å¼ï¼Œä¸€è¾¹åœ¨ä¸åœçš„æäº¤æŸ¥çœ‹æ•ˆæœï¼Œç„¶è€Œå‰ä¸€ç§’è¿˜èƒ½å®‰ç„¶è¿™åˆ·æ–°çš„åšå®¢ï¼Œå½“æˆ‘ä¸‹ä¸€ç§’åœ¨æ­¤åˆ·æ–°æ˜¯ï¼Œè°·æ­Œç«Ÿç„¶å‘å‡ºäº†è¯ä¹¦æ— æ•ˆçš„è­¦å‘Šï¼ï¼ï¼ï¼ï¼Ÿ</p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/3135067790645782.jpg" style="zoom:33%;" /><p>åœ¨è¿™ä¸‡åˆ†å±æ€¥çš„æ—¶åˆ»ï¼Œæˆ‘ç¬¬ä¸€ååº”æ˜¯ç½‘ç»œåŠ«æŒã€é›¾ã€‘ï¼Œè½¬å¿µä¸€æƒ³åŠ ä¸€å¯»æ€ä¸å¯¹å•Šï¼Œé™æ€ç½‘ç«™ä¹Ÿæœ‰äººæ”»å‡»ï¼Ÿï¼Ÿï¼Ÿäºæ˜¯è¿™ä¸ªæƒ³æ³•åœ¨ä¸åˆ°0.1ç§’çš„æ—¶é—´å†…è¢«æˆ‘ä¸¢å¼ƒï¼Œç„¶åå¼€å§‹æ€€ç–‘æˆ‘githubè¯ä¹¦æ˜¯ä¸æ˜¯è¿‡ç­¾äº†ï¼ŒæŒ‰è¯´æå‰ä¸€ä¸ªæœˆå°±åº”è¯¥è‡ªåŠ¨ç»­ç­¾çš„ï¼Ÿï¼Ÿï¼Ÿä¸€ç•ªæ“ä½œçŒ›å¦‚è™ã€‚ç¡®å®šäº†æ²¡é—®é¢˜ä¹‹åï¼Œæˆ‘å¼€å§‹æ€€ç–‘æ˜¯ipè§£æå‡ºäº†é—®é¢˜ï¼Œç„¶åæˆ‘pingäº†ä¸€ä¸‹ç°æœ‰ipã€‚ä¹Ÿpingçš„é€šå•Šã€‚æˆ‘ç°æœ‰ä¸­å›½åœ°åŒºè§£æipæ˜¯185.199.111.153.æˆ‘æŠŠå®˜æ–¹æä¾›çš„110ï¼Œ109ï¼Œ108ï¼Œè¯•äº†ä¸ªéã€‚åœ¨æœç´¢å¼•æ“å†…å†…è¾“å…¥ipåœ°å€ä»ç„¶ä¸èƒ½æ‰“å¼€ï¼Œä»ç„¶æ˜¯è°·æ­Œçš„è¯ä¹¦æ— æ•ˆçš„è­¦å‘Šã€‚æ€ä¹ˆè‚¥äº‹???æˆ‘æ…Œäº†ï¼Œå°è’Ÿè’»æ„Ÿè§‰å¾ˆæ…Œã€‚æˆ‘è§‰çš„ç°åœ¨éå¸¸æœ‰å¯èƒ½æ˜¯github pageså—åˆ°äº†æ”»å‡»ï¼Œå½“ç„¶githubè¿˜èƒ½æ‰“å¼€ã€‚å½“ç„¶ä½œä¸ºä¸€ä¸ªå°è’Ÿè’»è¿™ä¸ªæ—¶å€™å°±åº”è¯¥å»æ±‚åŠ©å¤§ä½¬äº†ã€‚</p><ul><li>å•¥ï¼Ÿï¼Ÿï¼Ÿ</li><li>æ‰“ä¸å¼€ï¼Ÿï¼Ÿï¼Ÿï¼Ÿ</li><li>ä½ ç¡®å®šï¼Ÿï¼Ÿï¼Ÿ</li></ul><p>å¤§ä½¬ç–‘é—®ä¸‰è¿ï¼Œçº³å°¼ï¼ï¼è¿˜çœŸæ‰“ä¸å¼€ï¼Œä¸€é¡¿æ“ä½œçŒ›å¦‚è™ã€‚æˆ‘ä»¬å‘ç°äº†ç½‘ç«™è¯ä¹¦å˜ä¸ºä¸€å¼ é€šè¿‡ç§äººQQé‚®ç®±è‡ªç­¾åçš„è¯ä¹¦ã€‚ç”Ÿæˆæ—¶é—´ä¸º2019å¹´9æœˆ26ã€‚æˆ‘æœ¬æ¥ä»¥ä¸ºè¿™æ˜¯æ”»å‡»è€…ä¸ºäº†ç”ŸæˆCAè¯ä¹¦ï¼Œéšä¾¿å¡«çš„é‚®ç®±â€¦ç„¶åçœ‹ç½‘ä¸Šçš„æ¶ˆæ¯è¿™ä¸ªQQå·å¥½åƒå°±æ˜¯æ”»å‡»è€…æœ¬äººï¼Ÿï¼Ÿï¼Ÿï¼Ÿä¸æ˜¯å§ï¼ŒçœŸçš„ç•™äº†QQå·ï¼Ÿï¼Ÿï¼Ÿemmmmmmç‰›å•Šï¼ï¼ï¼ï¼ï¼å˜›ï¼Œäº‹åˆ°å¦‚ä»Šä¹Ÿåªèƒ½ç­‰å¹³å°æ¢å¤äº†ã€‚åœ¨æ”»å‡»äº‹ä»¶è¿‡äº†å‡ åä¸ªå°æ—¶ågithubå’Œgithub pagesæ¢å¤äº†æ­£å¸¸çš„è®¿é—®ã€‚å…¶å®è¿™å·²ç»ä¸æ˜¯githubåœ¨å›½å†…é­å—çš„ç¬¬ä¸€æ¬¡ä¸­é—´äººæ”»å‡»äº†ã€‚2013å¹´ä¹Ÿæ›¾å‘ç”Ÿè¿‡è¿‡ã€‚</p><h2 id="ä¸­é—´äººæ”»å‡»"><a class="markdownIt-Anchor" href="#ä¸­é—´äººæ”»å‡»"></a> ä¸­é—´äººæ”»å‡»</h2><p>ä¸­é—´äººæ”»å‡»ï¼ˆè‹±è¯­ï¼šMan-in-the-middle attackï¼Œç¼©å†™ï¼šMITMï¼‰åœ¨å¯†ç å­¦å’Œè®¡ç®—æœºå®‰å…¨é¢†åŸŸä¸­æ˜¯æŒ‡æ”»å‡»è€…ä¸é€šè®¯çš„ä¸¤ç«¯åˆ†åˆ«åˆ›å»ºç‹¬ç«‹çš„è”ç³»ï¼Œå¹¶äº¤æ¢å…¶æ‰€æ”¶åˆ°çš„æ•°æ®ï¼Œä½¿é€šè®¯çš„ä¸¤ç«¯è®¤ä¸ºä»–ä»¬æ­£åœ¨é€šè¿‡ä¸€ä¸ªç§å¯†çš„è¿æ¥ä¸å¯¹æ–¹ç›´æ¥å¯¹è¯ï¼Œä½†äº‹å®ä¸Šæ•´ä¸ªä¼šè¯éƒ½è¢«æ”»å‡»è€…å®Œå…¨æ§åˆ¶ã€‚åœ¨ä¸­é—´äººæ”»å‡»ä¸­ï¼Œæ”»å‡»è€…å¯ä»¥æ‹¦æˆªé€šè®¯åŒæ–¹çš„é€šè¯å¹¶æ’å…¥æ–°çš„å†…å®¹ã€‚åœ¨è®¸å¤šæƒ…å†µä¸‹è¿™æ˜¯å¾ˆç®€å•çš„ï¼ˆä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªæœªåŠ å¯†çš„Wi-Fi æ— çº¿æ¥å…¥ç‚¹çš„æ¥å—èŒƒå›´å†…çš„ä¸­é—´äººæ”»å‡»è€…ï¼Œå¯ä»¥å°†è‡ªå·±ä½œä¸ºä¸€ä¸ªä¸­é—´äººæ’å…¥è¿™ä¸ªç½‘ç»œï¼‰ã€‚</p><p>ä¸€ä¸ªä¸­é—´äººæ”»å‡»èƒ½æˆåŠŸçš„å‰ææ¡ä»¶æ˜¯æ”»å‡»è€…èƒ½å°†è‡ªå·±ä¼ªè£…æˆæ¯ä¸€ä¸ªå‚ä¸ä¼šè¯çš„ç»ˆç«¯ï¼Œå¹¶ä¸”ä¸è¢«å…¶ä»–ç»ˆç«¯è¯†ç ´ã€‚ä¸­é—´äººæ”»å‡»æ˜¯ä¸€ä¸ªï¼ˆç¼ºä¹ï¼‰ç›¸äº’è®¤è¯çš„æ”»å‡»ã€‚å¤§å¤šæ•°çš„åŠ å¯†åè®®éƒ½ä¸“é—¨åŠ å…¥äº†ä¸€äº›ç‰¹æ®Šçš„è®¤è¯æ–¹æ³•ä»¥é˜»æ­¢ä¸­é—´äººæ”»å‡»ã€‚ä¾‹å¦‚ï¼ŒSSLåè®®å¯ä»¥éªŒè¯å‚ä¸é€šè®¯çš„ä¸€æ–¹æˆ–åŒæ–¹ä½¿ç”¨çš„è¯ä¹¦æ˜¯å¦æ˜¯ç”±æƒå¨çš„å—ä¿¡ä»»çš„æ•°å­—è¯ä¹¦è®¤è¯æœºæ„é¢å‘ï¼Œå¹¶ä¸”èƒ½æ‰§è¡ŒåŒå‘èº«ä»½è®¤è¯ã€‚</p><p>ç®€å•ç‚¹æ¥è¯´ï¼Œæ‰€è°“çš„ä¸­é—´äººæ”»å‡»å°±æ˜¯é€šè¿‡æ‹¦æˆªæ­£å¸¸çš„ç½‘ç»œé€šä¿¡æ•°æ®ï¼Œå¹¶è¿›è¡Œæ•°æ®ç¯¡æ”¹å’Œå—…æ¢ï¼Œè€Œé€šä¿¡çš„åŒæ–¹å´æ¯«ä¸çŸ¥æƒ…ã€‚æ‰€ä»¥è¯´å»ºç«‹å®‰å…¨çš„HTTPSé€šä¿¡éå¸¸é‡è¦ï¼!ï¼ï¼ã€æºœã€‘</p><h3 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™</h3><ul><li><a href="https://baike.baidu.com/item/%E4%B8%AD%E9%97%B4%E4%BA%BA%E6%94%BB%E5%87%BB/1739730?fr=aladdin">â€œMan-in-the-MiddleAttackâ€ç™¾åº¦ç™¾ç§‘</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;äº‹æƒ…å‘ç”Ÿåœ¨3æœˆ26æ—¥ï¼Œæˆ‘ä¸€è¾¹åœ¨ä¿®æ”¹åšå®¢çš„cssæ ·å¼ï¼Œä¸€è¾¹åœ¨ä¸åœçš„æäº¤æŸ¥çœ‹æ•ˆæœï¼Œç„¶è€Œå‰ä¸€ç§’è¿˜èƒ½å®‰ç„¶è¿™åˆ·æ–°çš„åšå®¢ï¼Œå½“æˆ‘ä¸‹ä¸€ç§’åœ¨æ­¤åˆ·æ–°æ˜¯ï¼Œè°·æ­Œç«Ÿç„¶å‘å‡ºäº†è¯ä¹¦æ— æ•ˆçš„è­¦å‘Šï¼ï¼ï¼ï¼ï¼Ÿ&lt;/p&gt;
&lt;img src=&quot;https://npm.elemecdn.com/youmingsama_</summary>
      
    
    
    
    <category term="bugçš„ç‚¼é‡‘å·¥åŠ" scheme="https://blog.youmingsama.cn/categories/bug%E7%9A%84%E7%82%BC%E9%87%91%E5%B7%A5%E5%9D%8A/"/>
    
    
    <category term="ç½‘ç»œå®‰å…¨" scheme="https://blog.youmingsama.cn/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"/>
    
  </entry>
  
  <entry>
    <title>æ˜¯Bæ ‘ä¸æ˜¯B-æ ‘</title>
    <link href="https://blog.youmingsama.cn/posts/c7537434/"/>
    <id>https://blog.youmingsama.cn/posts/c7537434/</id>
    <published>2020-03-26T00:00:00.000Z</published>
    <updated>2020-03-27T00:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ˜¯bæ ‘ä¸æ˜¯b-æ ‘"><a class="markdownIt-Anchor" href="#æ˜¯bæ ‘ä¸æ˜¯b-æ ‘"></a> æ˜¯Bæ ‘ä¸æ˜¯B-æ ‘</h1><p>å­¦ä¹‹å‰æ‰¾äº†ä¸€ä¸‹ç½‘ä¸Šçš„èµ„æ–™ã€‚Bæ ‘ï¼ŒB-æ ‘æ˜¯ä¸¤ç§æ ‘ï¼Ÿï¼Ÿï¼Ÿç„¶åæ‰å‘ç°B-æ ‘å°±æ˜¯Bæ ‘ï¼Œå› ä¸ºB-treeç„¶åå›½å†…å¤§å¤šæ•°ç›´è¯‘ä¸ºB-treeï¼Œä¸å¾—ä¸è¯´è¿™çœŸæ˜¯ä¸€ç§éå¸¸ç³Ÿç³•çš„ç¿»è¯‘ã€‚ç„¶åå°±æ˜¯æˆ‘è¿™æœ¬å›½å¤–æ•™æä¸Šçš„Bæ ‘å†…å®¹çœŸçš„æ˜¯éå¸¸çš„æ¯ç‡¥ã€‚ç„¶åä¹‹å‰åœ¨ç½‘ä¸Šçœ‹åˆ°äº†ä¸€ç¯‡éå¸¸æœ‰æ„æ€çš„ä»‹ç»Bæ ‘çš„æ¼«ç”»ç„¶åæˆ‘å°±å°†ä»–è½¬è½½æ¥äº†ã€‚ä¸å¾—ä¸è¯´è¿™åˆæ˜¯ä¸€æ¬¡æˆåŠŸçš„<s>å‰½çªƒã€‚</s></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/huima.png" alt="" /></p><div class="note success flat"><p>ä»¥ä¸‹æ–‡ç« æ¥æºäºè½¬è½½**<a href="https://www.jianshu.com/p/8b653423c586">è½¬è½½é“¾æ¥</a>**</p></div><p>æœ¬æ–‡æåˆ°çš„ã€ŒB-æ ‘ã€ï¼Œå°±æ˜¯ã€ŒBæ ‘ã€ï¼Œéƒ½æ˜¯ B-tree çš„ç¿»è¯‘ï¼Œé‡Œé¢ä¸æ˜¯å‡å·-ï¼Œæ˜¯è¿æ¥ç¬¦-ã€‚å› ä¸ºæœ‰äººæŠŠ B-tree ç¿»æˆ ã€ŒB-æ ‘ã€ï¼Œè®©äººä»¥ä¸ºã€ŒBæ ‘ã€å’Œã€ŒB-æ ‘ã€æ˜¯ä¸¤ç§æ ‘ï¼Œå®é™…ä¸Šä¸¤è€…å°±æ˜¯åŒä¸€ç§æ ‘ã€‚</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/111.png" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/222.png" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/333.png" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/444.png" alt="" /></p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/555.png" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/666.png" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/777.png" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/888.webp" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/999.webp" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/10.webp" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/14.webp" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/12.webp" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/13.webp" alt="" /></p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/15.webp" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/16.webp" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/17.webp" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/18.webp" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/19.webp" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/20.webp" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/21.webp" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/22.webp" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/23.webp" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/24.webp" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/25.webp" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/26.webp" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/27.webp" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/28.webp" alt="" /></p><p><strong>äºŒå‰æŸ¥æ‰¾æ ‘çš„ç»“æ„ï¼š</strong></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/29.webp" alt="" /></p><p><strong>ç¬¬1æ¬¡ç£ç›˜IOï¼š</strong></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/30.webp" alt="" /></p><p><strong>ç¬¬2æ¬¡ç£ç›˜IOï¼š</strong></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/31.webp" alt="" /></p><p><strong>ç¬¬3æ¬¡ç£ç›˜IOï¼š</strong></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/32.webp" alt="" /></p><p><strong>ç¬¬4æ¬¡ç£ç›˜IOï¼š</strong></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/33.webp" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/34.webp" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/35.webp" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/36.webp" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/37.webp" alt="" /></p><p><strong>ä¸‹é¢æ¥å…·ä½“ä»‹ç»ä¸€ä¸‹B-æ ‘ï¼ˆBalance Treeï¼‰ï¼Œä¸€ä¸ªmé˜¶çš„Bæ ‘å…·æœ‰å¦‚ä¸‹å‡ ä¸ªç‰¹å¾ï¼š</strong></p><p>1.æ ¹ç»“ç‚¹è‡³å°‘æœ‰ä¸¤ä¸ªå­å¥³ã€‚</p><p>2.æ¯ä¸ªä¸­é—´èŠ‚ç‚¹éƒ½åŒ…å«k-1ä¸ªå…ƒç´ å’Œkä¸ªå­©å­ï¼Œå…¶ä¸­ m/2 &lt;= k &lt;= m</p><p>3.æ¯ä¸€ä¸ªå¶å­èŠ‚ç‚¹éƒ½åŒ…å«k-1ä¸ªå…ƒç´ ï¼Œå…¶ä¸­ m/2 &lt;= k &lt;= m</p><p>4.æ‰€æœ‰çš„å¶å­ç»“ç‚¹éƒ½ä½äºåŒä¸€å±‚ã€‚</p><p>5.æ¯ä¸ªèŠ‚ç‚¹ä¸­çš„å…ƒç´ ä»å°åˆ°å¤§æ’åˆ—ï¼ŒèŠ‚ç‚¹å½“ä¸­k-1ä¸ªå…ƒç´ æ­£å¥½æ˜¯kä¸ªå­©å­åŒ…å«çš„å…ƒç´ çš„å€¼åŸŸåˆ†åˆ’ã€‚</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/38.webp" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/39.webp" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/40.webp" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/41.webp" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/42.webp" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/43.webp" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/44.webp" alt="" /></p><p><strong>ç¬¬1æ¬¡ç£ç›˜IOï¼š</strong></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/45.webp" alt="" /></p><p><strong>åœ¨å†…å­˜ä¸­å®šä½ï¼ˆå’Œ9æ¯”è¾ƒï¼‰ï¼š</strong></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/46.webp" alt="" /></p><p><strong>ç¬¬2æ¬¡ç£ç›˜IOï¼š</strong></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/47.webp" alt="" /></p><p><strong>åœ¨å†…å­˜ä¸­å®šä½ï¼ˆå’Œ2ï¼Œ6æ¯”è¾ƒï¼‰ï¼š</strong></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/48.webp" alt="" /></p><p>ç¬¬3æ¬¡ç£ç›˜IOï¼š</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/49.webp" alt="" /></p><p><strong>åœ¨å†…å­˜ä¸­å®šä½ï¼ˆå’Œ3ï¼Œ5æ¯”è¾ƒï¼‰ï¼š</strong></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/50.webp" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/51.webp" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/52.webp" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/53.webp" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/54.webp" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/55.webp" alt="" /></p><p>è‡ªé¡¶å‘ä¸‹æŸ¥æ‰¾4çš„èŠ‚ç‚¹ä½ç½®ï¼Œå‘ç°4åº”å½“æ’å…¥åˆ°èŠ‚ç‚¹å…ƒç´ 3ï¼Œ5ä¹‹é—´ã€‚</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/56.webp" alt="" /></p><p>èŠ‚ç‚¹3ï¼Œ5å·²ç»æ˜¯ä¸¤å…ƒç´ èŠ‚ç‚¹ï¼Œæ— æ³•å†å¢åŠ ã€‚çˆ¶äº²èŠ‚ç‚¹ 2ï¼Œ 6 ä¹Ÿæ˜¯ä¸¤å…ƒç´ èŠ‚ç‚¹ï¼Œä¹Ÿæ— æ³•å†å¢åŠ ã€‚æ ¹èŠ‚ç‚¹9æ˜¯å•å…ƒç´ èŠ‚ç‚¹ï¼Œå¯ä»¥å‡çº§ä¸ºä¸¤å…ƒç´ èŠ‚ç‚¹ã€‚äºæ˜¯<strong>æ‹†åˆ†</strong>èŠ‚ç‚¹3ï¼Œ5ä¸èŠ‚ç‚¹2ï¼Œ6ï¼Œè®©æ ¹èŠ‚ç‚¹9å‡çº§ä¸ºä¸¤å…ƒç´ èŠ‚ç‚¹4ï¼Œ9ã€‚èŠ‚ç‚¹6ç‹¬ç«‹ä¸ºæ ¹èŠ‚ç‚¹çš„ç¬¬äºŒä¸ªå­©å­ã€‚</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/57.webp" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/58.webp" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/59.webp" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/60.webp" alt="" /></p><p>è‡ªé¡¶å‘ä¸‹æŸ¥æ‰¾å…ƒç´ 11çš„èŠ‚ç‚¹ä½ç½®ã€‚</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/61.webp" alt="" /></p><p>åˆ é™¤11åï¼ŒèŠ‚ç‚¹12åªæœ‰ä¸€ä¸ªå­©å­ï¼Œä¸ç¬¦åˆBæ ‘è§„èŒƒã€‚å› æ­¤æ‰¾å‡º12,13,15ä¸‰ä¸ªèŠ‚ç‚¹çš„ä¸­ä½æ•°13ï¼Œå–ä»£èŠ‚ç‚¹12ï¼Œè€ŒèŠ‚ç‚¹12è‡ªèº«ä¸‹ç§»æˆä¸ºç¬¬ä¸€ä¸ªå­©å­ã€‚ï¼ˆè¿™ä¸ªè¿‡ç¨‹ç§°ä¸º<strong>å·¦æ—‹</strong>ï¼‰</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/62.webp" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/63.webp" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/64.webp" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/65.webp" alt="" /></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img1/66.webp" alt="" /></p><p>å°±è¿™æ ·å°ç°å†ä¹Ÿæ²¡æœ‰æ”¶åˆ°é‚£ä¸ªé¢è¯•å®˜çš„ç”µè¯ã€é›¾ã€‘</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;æ˜¯bæ ‘ä¸æ˜¯b-æ ‘&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#æ˜¯bæ ‘ä¸æ˜¯b-æ ‘&quot;&gt;&lt;/a&gt; æ˜¯Bæ ‘ä¸æ˜¯B-æ ‘&lt;/h1&gt;
&lt;p&gt;å­¦ä¹‹å‰æ‰¾äº†ä¸€ä¸‹ç½‘ä¸Šçš„èµ„æ–™ã€‚Bæ ‘ï¼ŒB-æ ‘æ˜¯ä¸¤ç§æ ‘ï¼Ÿï¼Ÿï¼Ÿç„¶åæ‰å‘ç°B-æ ‘å°±æ˜¯Bæ ‘ï¼Œå› ä¸ºB-treeç„¶åå›½å†…å¤§å¤šæ•°</summary>
      
    
    
    
    <category term="print*,&quot;hello world!!!&quot;" scheme="https://blog.youmingsama.cn/categories/print-hello-world/"/>
    
    
    <category term="data structure" scheme="https://blog.youmingsama.cn/tags/data-structure/"/>
    
  </entry>
  
  <entry>
    <title>æ ‘çš„éå†</title>
    <link href="https://blog.youmingsama.cn/posts/332b8f17/"/>
    <id>https://blog.youmingsama.cn/posts/332b8f17/</id>
    <published>2020-03-25T00:00:00.000Z</published>
    <updated>2020-04-21T00:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ ‘çš„éå†"><a class="markdownIt-Anchor" href="#æ ‘çš„éå†"></a> æ ‘çš„éå†</h1><p>è¿™æ˜¯ä¸€ç¯‡æ°´æ–‡ã€ç†ç›´æ°”å£®ã€‘</p><p>åºŸè¯ä¸å¤šè¯´å…ˆä¸Šä»£ç </p><h2 id="å…ˆåºéå†"><a class="markdownIt-Anchor" href="#å…ˆåºéå†"></a> å…ˆåºéå†</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">PreorderTravel</span><span class="params">(AVLTree T)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (T != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, T-&gt;Element);</span><br><span class="line">        <span class="built_in">PreorderTravel</span>(T-&gt;Left);</span><br><span class="line">        <span class="built_in">PreorderTravel</span>(T-&gt;Right);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>èŠ‚ç‚¹åœ¨å…¶å„¿å­çš„èŠ‚ç‚¹å‰è¿›è¡Œå¤„ç†ï¼Œè¿™ç§éå†å¯ä»¥ç”¨æ¥åˆ©ç”¨èŠ‚ç‚¹æ·±åº¦æ¥æ ‡è®°æ¯ä¸€ä¸ªèŠ‚ç‚¹</p><h2 id="ä¸­åºéå†"><a class="markdownIt-Anchor" href="#ä¸­åºéå†"></a> ä¸­åºéå†</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">InorderTravel</span><span class="params">(AVLTree T)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (T != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">InorderTravel</span>(T-&gt;Left);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, T-&gt;Element);</span><br><span class="line">        <span class="built_in">InorderTravel</span>(T-&gt;Right);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸­åºéå†çš„ä¸€èˆ¬ç­–ç•¥æ˜¯é¦–å…ˆéå†å·¦å­æ ‘ï¼Œç„¶åæ˜¯å½“å‰èŠ‚ç‚¹ï¼Œæœ€åéå†å³å­æ ‘ï¼Œè¿™ä¸ªç®—æ³•æœ‰è¶£çš„éƒ¨åˆ†é™¤ä»–ç®€å•çš„ç‰¹æ€§å¤–ï¼Œè¿˜åœ¨äºæ€»è¿è¡Œæ—¶é—´ä¸ºOï¼ˆNï¼‰ã€‚è¿™æ˜¯å› ä¸ºåœ¨æ ‘çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹é™¤è¿›è¡Œçš„å·¥ä½œéƒ½æ˜¯å¸¸æ•°æ—¶é—´çš„ï¼Œæ¯ä¸€ä¸ªèŠ‚ç‚¹è®¿é—®ä¸€æ¬¡ï¼Œè€Œåœ¨æ¯ä¸€ä¸ªèŠ‚ç‚¹è¿›è¡Œçš„å·¥ä½œæ˜¯æ£€æµ‹æ˜¯å¦ä¸ºNULLï¼Œå»ºç«‹ä¸¤ä¸ªè¿‡ç¨‹è°ƒç”¨å¹¶æ‰§è¡Œè¾“å‡ºå‡½æ•°ï¼Œç”±äºæ¯ä¸ªèŠ‚ç‚¹çš„å·¥ä½œå‘è´¹æ—¶é—´ä»¥åŠæ€»å…±æœ‰Nä¸ªèŠ‚ç‚¹ï¼Œå› æ­¤è¿è¡Œæ—¶é—´ä¸ºOï¼ˆNï¼‰ï¼›</p><h2 id="ååºéå†"><a class="markdownIt-Anchor" href="#ååºéå†"></a> ååºéå†</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">PostorderTravel</span><span class="params">(AVLTree T)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (T != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">PostorderTravel</span>(T-&gt;Left);</span><br><span class="line">        <span class="built_in">PostorderTravel</span>(T-&gt;Right);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, T-&gt;Element);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“æœ‰æ—¶æˆ‘ä»¬éœ€è¦å¤„ç†ä¸¤ä¸ªå­æ ‘ç„¶åæ‰èƒ½å¤„ç†å½“å‰èŠ‚ç‚¹ã€‚ä¾‹å¦‚ï¼Œä¸ºäº†è®¡ç®—ä¸€ä¸ªèŠ‚ç‚¹çš„é«˜åº¦ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“ä»–ä¸¤æ£µå­æ ‘çš„é«˜åº¦ï¼Œç”±äºæ£€æŸ¥ä¸€äº›ç‰¹æ®Šæƒ…å†µæ€»æ˜¯æœ‰ç›Šçš„ï¼Œç‰¹åˆ«æ˜¯å•Šåœ¨æˆ‘ä»¬ä½¿ç”¨é€’å½’çš„æƒ…å†µä¸‹ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦æ³¨æ„è¿™ä¸ªå£°æ˜ä¸­çš„æ ‘å¶çš„é«˜åº¦ï¼Œè¿è¡Œæ—¶é—´å’Œä¸Šé¢åŒå‡ºä¸€è¾™ä¹Ÿæ˜¯Oï¼ˆNï¼‰ï¼›</p><h2 id="æ–°çš„æ›´æ–°åŠ ä¸Šäº†å±‚åºéå†"><a class="markdownIt-Anchor" href="#æ–°çš„æ›´æ–°åŠ ä¸Šäº†å±‚åºéå†"></a> æ–°çš„æ›´æ–°åŠ ä¸Šäº†å±‚åºéå†</h2><p>å±‚åºéå†å’Œbfså¾ˆåƒï¼Œä»ä¸Šåˆ°ä¸‹ä¸€å±‚ä¸€å±‚çš„è¿›è¡Œéå†</p><ul><li>æ ¹èŠ‚ç‚¹rootåŠ å…¥é˜Ÿåˆ—</li><li>å–å‡ºé˜Ÿé¦–èŠ‚ç‚¹è®¿é—®å®ƒ</li><li>å¦‚æœè¯¥èŠ‚ç‚¹æœ‰å·¦å­©å­ï¼Œå°†å·¦å­©å­å…¥é˜Ÿ</li><li>å¦‚æœè¯¥èŠ‚ç‚¹æœ‰å³å­©å­ï¼Œå°†å³å­©å­å…¥é˜Ÿ</li><li>è¿”å›ç¬¬äºŒæ­¥ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸ºç©ºã€‚</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">LayerOrder</span><span class="params">(T root)</span></span>&#123;</span><br><span class="line">    queue&lt;T&gt;q;</span><br><span class="line">    q.<span class="built_in">push</span>(root);</span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        T now=q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        cout&lt;&lt;now-&gt;data;</span><br><span class="line">        <span class="keyword">if</span>(now-&gt;Left!=<span class="literal">nullptr</span>)</span><br><span class="line">        q.<span class="built_in">push</span>(now-&gt;Left);</span><br><span class="line">        <span class="keyword">if</span>(now-&gt;Right!=<span class="literal">nullptr</span>)</span><br><span class="line">        q.<span class="built_in">push</span>(now-&gt;Right);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä»Šå¤©çš„æˆ‘æœç„¶ä¹Ÿæ²¡æœ‰é¸½å‘¢"><a class="markdownIt-Anchor" href="#ä»Šå¤©çš„æˆ‘æœç„¶ä¹Ÿæ²¡æœ‰é¸½å‘¢"></a> <s>ä»Šå¤©çš„æˆ‘æœç„¶ä¹Ÿæ²¡æœ‰é¸½å‘¢</s></h3><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/gouma2.jpg" alt="" /></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;æ ‘çš„éå†&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#æ ‘çš„éå†&quot;&gt;&lt;/a&gt; æ ‘çš„éå†&lt;/h1&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ç¯‡æ°´æ–‡ã€ç†ç›´æ°”å£®ã€‘&lt;/p&gt;
&lt;p&gt;åºŸè¯ä¸å¤šè¯´å…ˆä¸Šä»£ç &lt;/p&gt;
&lt;h2 id=&quot;å…ˆåºéå†&quot;&gt;&lt;a class=&quot;markdown</summary>
      
    
    
    
    <category term="bugçš„ç‚¼é‡‘å·¥åŠ" scheme="https://blog.youmingsama.cn/categories/bug%E7%9A%84%E7%82%BC%E9%87%91%E5%B7%A5%E5%9D%8A/"/>
    
    
    <category term="data structure" scheme="https://blog.youmingsama.cn/tags/data-structure/"/>
    
  </entry>
  
  <entry>
    <title>AVLæ ‘</title>
    <link href="https://blog.youmingsama.cn/posts/973716ad/"/>
    <id>https://blog.youmingsama.cn/posts/973716ad/</id>
    <published>2020-03-23T00:00:00.000Z</published>
    <updated>2020-03-23T00:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="avlæ ‘"><a class="markdownIt-Anchor" href="#avlæ ‘"></a> AVLæ ‘</h1><p>æˆ‘å°±é¸½äº†ä¸€å¤©å“¦ï¼ï¼ï¼ã€é›¾ã€‘</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/90506769129638.jpg" alt="" /></p><p>AVLæ ‘ï¼Œæ˜¯ä¸€ç§å¹³è¡¡(balanced)çš„äºŒå‰æœç´¢æ ‘(binary search tree, ç®€ç§°ä¸ºBST)ï¼›AVLæ ‘æ˜¯å¸¦æœ‰å¹³è¡¡æ¡ä»¶çš„äºŒå‰æŸ¥æ‰¾æ ‘ã€‚ç”±äºå„ç§ç®—æ³•æ•™æä¸Šå¯¹ AVL çš„ä»‹ç»ååˆ†å†—é•¿ï¼Œé€ æˆäº†å¾ˆå¤šäººå¯¹ AVL æ ‘å¤æ‚ã€ä¸å®ç”¨çš„å°è±¡ã€‚ä½†å®é™…ä¸Šï¼ŒAVL æ ‘çš„åŸç†ç®€å•ï¼Œå®ç°ä¹Ÿå¹¶ä¸å¤æ‚ã€‚å¥½åƒçš„ç¡®æ˜¯è¿™æ ·å•Šã€é›¾ã€‘â€¦ç›¸å¯¹æ¥è¯´è¿™ä¸ªå¹³è¡¡æ¡ä»¶å¿…é¡»è¦å®¹æ˜“ä¿æŒï¼Œè€Œä¸”ä»–é¡»ä¿è¯ä¹¦çš„æ·±åº¦æ˜¯Oï¼ˆlog N)æœ€ç®€å•çš„æƒ³æ³•æ˜¯è¦æ±‚å·¦å³æ ‘ç›¸åŒçš„é«˜åº¦ã€‚å®ƒæœ‰ä»¥ä¸‹ä¸¤ä¸ªæ€§è´¨ï¼š</p><ul><li>ä»»æ„ä¸€ä¸ªç»“ç‚¹çš„keyï¼Œæ¯”å®ƒçš„å·¦å­©å­keyå¤§ï¼Œæ¯”å®ƒçš„å³å­©å­keyå°ï¼›</li><li>ä»»æ„ç»“ç‚¹çš„å­©å­ç»“ç‚¹ä¹‹é—´é«˜åº¦å·®è·æœ€å¤§ä¸º1ï¼›</li><li>ç©ºäºŒå‰æ ‘æ˜¯ä¸€ä¸ª AVL æ ‘</li><li>å¦‚æœ T æ˜¯ä¸€æ£µ AVL æ ‘ï¼Œé‚£ä¹ˆå…¶å·¦å³å­æ ‘ä¹Ÿæ˜¯ AVL æ ‘ã€‚</li><li>æ ‘é«˜ä¸º Oï¼ˆlog Nï¼‰ï¼›</li><li>ç©ºæ ‘çš„é«˜åº¦å®šä¸º-1</li></ul><blockquote><p>å¹³è¡¡å› å­ï¼šå³å­æ ‘é«˜åº¦ - å·¦å­æ ‘é«˜åº¦</p></blockquote><p>å¦ä¸€ç§å¹³è¡¡æ¡ä»¶æ˜¯è¦æ±‚æ¯ä¸ªèŠ‚ç‚¹éƒ½å¿…é¡»è¦æœ‰ç›¸åŒçš„å·¦å­æ ‘å’Œå³å­æ ‘ã€‚å¦‚æœç©ºå­æ ‘çš„é«˜åº¦å®šä¹‰ä¸º-1ï¼Œé‚£ä¹ˆåªæœ‰å…·æœ‰2^K-1ä¸ªèŠ‚ç‚¹çš„ç†æƒ³å¹³è¡¡æ ‘æ»¡è¶³è¿™ä¸ªæ¡ä»¶ï¼Œå› æ­¤è™½ç„¶è¿™ä¸ªå¹³è¡¡æ ‘ä¿è¯äº†æ ‘çš„æ·±åº¦å°ï¼Œä½†æ˜¯å®ƒå¤ªä¸¥æ ¼äº†ï¼Œéš¾ä»¥ä½¿ç”¨ã€‚å‰é¢æˆ‘ä»¬è¯´äº†è¦æƒ³æ»¡è¶³AVLæ ‘çš„æ¡ä»¶ï¼Œå·¦å­æ ‘å’Œå³å­æ ‘çš„é«˜åº¦å¿…é¡»&lt;=1</p><blockquote><p>ä¸€æ£µæ ‘æœ€å°‘èŠ‚ç‚¹æ•°æ»¡è¶³æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼Œä¸”S(h)=S(h-1)+S(h-2)+1,å¯¹äºh=0;S(1)=1;h1=1,S(h)=2;hä»£è¡¨AVLæ ‘ä¸­çš„é«˜ã€‚</p></blockquote><p>è¿™éƒ¨åˆ†çš„éªŒè¯ä»£ç </p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt; bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">f</span><span class="params">(<span class="type">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(n==<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="built_in">f</span>(n<span class="number">-1</span>)+<span class="built_in">f</span>(n<span class="number">-2</span>)+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">cin&gt;&gt;n;</span><br><span class="line">cout&lt;&lt;<span class="built_in">f</span>(n<span class="number">-1</span>)+<span class="built_in">f</span>(n<span class="number">-2</span>)+<span class="number">1</span>&lt;&lt;endl;</span><br><span class="line"><span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å½“è¿›è¡Œæ’å…¥æ“ä½œæ—¶"><a class="markdownIt-Anchor" href="#å½“è¿›è¡Œæ’å…¥æ“ä½œæ—¶"></a> å½“è¿›è¡Œæ’å…¥æ“ä½œæ—¶</h2><p>æˆ‘ä»¬éœ€è¦æ›´æ–°é€šå‘æ ¹èŠ‚ç‚¹è·¯å¾„é‚£äº›èŠ‚ç‚¹çš„æ‰€æœ‰å¹³è¡¡ä¿¡æ¯ï¼Œè€Œè¿›è¡Œæ’å…¥æ“ä½œæ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ›´æ–°é€šå‘æ ¹èŠ‚ç‚¹è·¯å¾„ä¸Šçš„é‚£äº›èŠ‚ç‚¹çš„æ‰€æœ‰å¹³è¡¡ä¿¡æ¯ï¼Œè€Œæ’å…¥æ“ä½œå¯èƒ½å­˜åœ¨çš„å›°éš¾åœ¨äºï¼Œæ’å…¥ä¸€ä¸ªæ ¹èŠ‚ç‚¹å¯èƒ½ç ´åAVLæ ‘çš„ç‰¹æ€§ï¼Œå¦‚æœå‘ç”Ÿäº†è¿™ç§æƒ…å†µï¼Œé‚£ä¹ˆè¦æŠŠæ€§è´¨æ¢å¤ä»¥åæ‰è®¤ä¸ºè¿™ä¸€æ­¥æ’å…¥å®Œæˆï¼Œäº‹å®ä¸Šï¼Œè¿™æ€»å¯ä»¥é€šè¿‡å¯¹æ ‘çš„ç®€å•ä¿®æ­£æ¥åšåˆ°ï¼Œå½“ç„¶äº†è¿™ä¸ªæˆ‘ä»¬ç§°ä½œæ—‹è½¬ã€‚</p><p>å½“ç„¶äº†åœ¨æ’å…¥ä»¥åï¼Œåªæœ‰é‚£äº›ä»æ’å…¥ç‚¹åˆ°æ ¹èŠ‚ç‚¹çš„è·¯å¾„ä¸Šçš„èŠ‚ç‚¹é—´çš„å¹³è¡¡å¯èƒ½è¢«æ”¹å˜ï¼Œå› ä¸ºåªæœ‰è¿™äº›èŠ‚ç‚¹çš„å­æ ‘å¯èƒ½å‘ç”Ÿå˜åŒ–ï¼Œå½“æˆ‘ä»¬æ²¿ç€è¿™æ¡è·¯å¾„æ›´æ–°å¹³è¡¡ä¿¡æ¯æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥æ‰¾åˆ°ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä»–çš„æ–°å¹³è¡¡ç ´åäº†AVLçš„å¹³è¡¡æ¡ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ‰¾å‡ºè¿™æ ·ä¸€ä¸ªèŠ‚ç‚¹å¹¶é‡æ–°å¹³è¡¡è¿™æ£µæ ‘ï¼Œå¹¶è¯æ˜ï¼Œè¿™ä¸€å¹³è¡¡ä¿è¯æ»¡è¶³AVLç‰¹æ€§ã€‚</p><p>å¦‚æœæŠŠå¿…é¡»é‡æ–°å¹³è¡¡çš„èŠ‚ç‚¹å«åšaå¥½äº†ç”±äºä»»æ„èŠ‚ç‚¹æœ€å¤šæœ‰ä¸¤ä¸ªå­©å­ï¼Œå› æ­¤å½“é«˜åº¦ä¸å¹³è¡¡æ—¶ï¼Œaç‚¹çš„ä¸¤æ£µå­æ ‘é«˜åº¦å·®ä¸º2.å¾ˆå®¹æ˜“çœ‹å‡ºä¸å¹³è¡¡å¯èƒ½å­˜åœ¨ä»¥ä¸‹å‡ ç§æƒ…å†µ</p><ul><li>å¯¹açš„å·¦å„¿å­çš„å·¦å­æ ‘è¿›è¡Œä¸€æ¬¡æ’å…¥</li></ul><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/121.png" alt="" /></p><blockquote><p>å¤±è¡¡ç»“ç‚¹&quot; çš„å·¦å­æ ‘æ¯”å³å­æ ‘é«˜ 2ï¼Œå·¦å­©å­ï¼ˆå³ xï¼‰ä¸‹çš„å·¦å­æ ‘æ¯”å³å­æ ‘é«˜ 1ã€‚æˆ‘ä»¬åªéœ€å¯¹ â€œä»¥ y ä¸ºæ ¹çš„å­æ ‘â€ è¿›è¡Œ â€œå·¦å·¦æ—‹è½¬ (ll_rotate)â€ å³å¯ã€‚ä¸€æ¬¡æ—‹è½¬åï¼Œæ¢å¤å¹³è¡¡ã€‚</p></blockquote><ul><li>å¯¹açš„å·¦å„¿å­çš„å³å­æ ‘è¿›è¡Œä¸€æ¬¡æ’å…¥</li></ul><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/11321.png" alt="" /></p><blockquote><p>æ‰€è°“çš„å·¦å³ï¼Œå³ â€œå¤±è¡¡ç»“ç‚¹â€ çš„å·¦å­æ ‘æ¯”å³å­æ ‘é«˜ 2ï¼Œå·¦å­©å­ï¼ˆå³ xï¼‰ä¸‹çš„å³å­æ ‘æ¯”å·¦å­æ ‘é«˜ 1ã€‚è§‚å¯Ÿå‘ç°ï¼Œè‹¥å…ˆå¯¹ â€œä»¥ x ä¸ºæ ¹çš„å­æ ‘â€ è¿›è¡Œ â€œå³å³æ—‹è½¬ (rr_rotate)â€ï¼Œæ­¤æ—¶ â€œä»¥ y ä¸ºæ ¹çš„å­æ ‘â€ æ°å¥½ç¬¦åˆ â€œå·¦å·¦å¤±è¡¡â€ï¼Œæ‰€ä»¥å†è¿›è¡Œä¸€æ¬¡ â€œå·¦å·¦æ—‹è½¬ (ll_rotate)â€ã€‚ä¸¤æ¬¡æ—‹è½¬åï¼Œæ¢å¤å¹³è¡¡ã€‚</p></blockquote><ul><li>å¯¹açš„å³å„¿å­çš„å·¦å­æ ‘è¿›è¡Œä¸€æ¬¡æ’å…¥</li></ul><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/youzuo.png" alt="" /></p><blockquote><p>æ‰€è°“çš„å³å·¦ï¼Œå³ â€œå¤±è¡¡ç»“ç‚¹â€ çš„å³å­æ ‘æ¯”å·¦å­æ ‘é«˜ 2ï¼Œå³å­©å­ï¼ˆå³ xï¼‰ä¸‹çš„å·¦å­æ ‘æ¯”å³å­æ ‘é«˜ 1ã€‚è§‚å¯Ÿå‘ç°ï¼Œè‹¥å…ˆå¯¹ â€œä»¥ x ä¸ºæ ¹çš„å­æ ‘â€ è¿›è¡Œ â€œå·¦å·¦æ—‹è½¬ (ll_rotate)â€ï¼Œæ­¤æ—¶ â€œä»¥ y ä¸ºæ ¹çš„å­æ ‘â€ æ°å¥½ç¬¦åˆ â€œå³å³å¤±è¡¡â€ï¼Œæ‰€ä»¥å†è¿›è¡Œä¸€æ¬¡ â€œå³å³æ—‹è½¬ (rr_rotate)â€ã€‚ä¸¤æ¬¡æ—‹è½¬åï¼Œæ¢å¤å¹³è¡¡ã€‚</p></blockquote><ul><li>å¯¹açš„å³å„¿å­çš„å³å­æ ‘è¿›è¡Œä¸€æ¬¡æ’å…¥</li></ul><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/jiek.png" alt="" /></p><blockquote><p>æ‰€è°“çš„å³å³ï¼Œå³ â€œå¤±è¡¡ç»“ç‚¹â€ çš„å³å­æ ‘æ¯”å·¦å­æ ‘é«˜ 2ï¼Œå³å­©å­ï¼ˆå³ xï¼‰ä¸‹çš„å³å­æ ‘æ¯”å·¦å­æ ‘é«˜ 1ã€‚æˆ‘ä»¬åªéœ€å¯¹ â€œä»¥ y ä¸ºæ ¹çš„å­æ ‘â€ è¿›è¡Œ â€œå³å³æ—‹è½¬ (rr_rotate)â€ å³å¯ã€‚ä¸€æ¬¡æ—‹è½¬åï¼Œæ¢å¤å¹³è¡¡ã€‚</p></blockquote><h3 id="å•æ—‹è½¬"><a class="markdownIt-Anchor" href="#å•æ—‹è½¬"></a> å•æ—‹è½¬</h3><p>å•æ—‹è½¬é¡¾åæ€ä¹‰å°±æ˜¯é€šè¿‡ä¸€æ¬¡æ—‹è½¬æ¥è¾¾åˆ°AVLæ ‘å¹³è¡¡çš„ç›®çš„ï¼Œå‰é¢çš„å·¦å·¦å¹³è¡¡å’Œå³å³å¹³è¡¡æ˜¯ä½†æ—‹è½¬ï¼Œåˆšå¥½æ˜¯é•œåƒå¯¹ç§°</p><h3 id="åŒæ—‹è½¬"><a class="markdownIt-Anchor" href="#åŒæ—‹è½¬"></a> åŒæ—‹è½¬</h3><p>é¡¾åæ€ä¹‰é€šè¿‡ä¸¤æ¬¡æ—‹è½¬æ¥è¾¾åˆ°å¹³è¡¡çš„ç›®çš„å·¦å³å’Œå³å·¦å¹³è¡¡æ˜¯åŒæ—‹è½¬ï¼Œä¹Ÿåˆšå¥½æ˜¯é•œé¢å¯¹ç§°ã€‚ä½†æ·±åº¦ä¾æ—§æ²¡åŠæ³•é™ä½ï¼Œä¸€æ¬¡æ—‹è½¬æ— æ³•é™ä½å®ƒçš„æ·±åº¦å°±éœ€è¦åŒæ—‹è½¬äº†ã€‚</p><p>å¤šè¯´æ— ç›Šï¼ï¼ï¼é‚£å°±ç›´æ¥æ‰”ä»£ç äº†</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/109317159038348.jpg" alt="" /></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt; bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="title class_">AVLnode</span> *Position;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="title class_">AVLnode</span> *AVLTree;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> ElementType;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">AVLnode</span></span><br><span class="line">&#123;</span><br><span class="line">    ElementType Element;</span><br><span class="line">    AVLTree Left;</span><br><span class="line">    AVLTree Right;</span><br><span class="line">    <span class="type">int</span> Height;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">static</span> <span class="type">int</span> <span class="title">Height</span><span class="params">(Position P)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (P == <span class="literal">nullptr</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> P-&gt;Height;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">static</span> Position <span class="title">singleRotateWithRight</span><span class="params">(Position k2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Position k1;</span><br><span class="line">    k1 = k2-&gt;Right;</span><br><span class="line">    k2-&gt;Right = k1-&gt;Left;</span><br><span class="line">    k1-&gt;Left = k2;</span><br><span class="line">    k2-&gt;Height = <span class="built_in">max</span>(<span class="built_in">Height</span>(k2-&gt;Left), <span class="built_in">Height</span>(k2-&gt;Right)) + <span class="number">1</span>;</span><br><span class="line">    k1-&gt;Height = <span class="built_in">max</span>(<span class="built_in">Height</span>(k1-&gt;Right), <span class="built_in">Height</span>(k2-&gt;Left)) + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> k1; <span class="comment">//è¿”å›æ–°çš„æ ¹èŠ‚ç‚¹ï¼Œåé¢ä¹Ÿæ˜¯ä¸€æ ·å“’</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">static</span> Position <span class="title">singleRotateWithLeft</span><span class="params">(Position k2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Position k1;</span><br><span class="line">    k1 = k2-&gt;Left;</span><br><span class="line">    k2-&gt;Left = k1-&gt;Right;</span><br><span class="line">    k1-&gt;Right = k2;</span><br><span class="line">    k2-&gt;Height = <span class="built_in">max</span>(<span class="built_in">Height</span>(k2-&gt;Left), <span class="built_in">Height</span>(k2-&gt;Right)) + <span class="number">1</span>;</span><br><span class="line">    k1-&gt;Height = <span class="built_in">max</span>(<span class="built_in">Height</span>(k1-&gt;Left), <span class="built_in">Height</span>(k2-&gt;Right)) + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> k1;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">static</span> Position <span class="title">DoubleRotateWithRight</span><span class="params">(Position k3)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    k3-&gt;Right = <span class="built_in">singleRotateWithLeft</span>(k3-&gt;Right);</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">singleRotateWithRight</span>(k3);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">static</span> Position <span class="title">DoubleRotateWithLeft</span><span class="params">(Position k3)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    k3-&gt;Left = <span class="built_in">singleRotateWithRight</span>(k3-&gt;Left);</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">singleRotateWithLeft</span>(k3);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">AVLTree <span class="title">Insert</span><span class="params">(ElementType X, AVLTree T)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (T == <span class="literal">nullptr</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        T = <span class="keyword">new</span> AVLnode;</span><br><span class="line">        <span class="keyword">if</span> (T == <span class="literal">nullptr</span>)</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;error&quot;</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            T-&gt;Element = X;</span><br><span class="line">            T-&gt;Height = <span class="number">0</span>;</span><br><span class="line">            T-&gt;Left = T-&gt;Right = <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (X &lt; T-&gt;Element)</span><br><span class="line">    &#123;</span><br><span class="line">        T-&gt;Left = <span class="built_in">Insert</span>(X, T-&gt;Left);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">Height</span>(T-&gt;Left) - <span class="built_in">Height</span>(T-&gt;Right) == <span class="number">2</span>)</span><br><span class="line">            <span class="keyword">if</span> (X &lt; T-&gt;Left-&gt;Element)</span><br><span class="line">                T = <span class="built_in">singleRotateWithLeft</span>(T);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                T = <span class="built_in">DoubleRotateWithLeft</span>(T);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (X &gt; T-&gt;Element)</span><br><span class="line">    &#123;</span><br><span class="line">        T-&gt;Right = <span class="built_in">Insert</span>(X, T-&gt;Right);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">Height</span>(T-&gt;Right) - <span class="built_in">Height</span>(T-&gt;Left) == <span class="number">2</span>)</span><br><span class="line">            <span class="keyword">if</span> (X &gt; T-&gt;Right-&gt;Element)</span><br><span class="line">                T = <span class="built_in">singleRotateWithRight</span>(T);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                T = <span class="built_in">DoubleRotateWithRight</span>(T);</span><br><span class="line">    &#125;</span><br><span class="line">    T-&gt;Height = <span class="built_in">max</span>(<span class="built_in">Height</span>(T-&gt;Left), <span class="built_in">Height</span>(T-&gt;Right)) + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> T;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    AVLTree T;</span><br><span class="line">    T = <span class="literal">nullptr</span>;</span><br><span class="line">    T = <span class="built_in">Insert</span>(<span class="number">1</span>, T);</span><br><span class="line">    T = <span class="built_in">Insert</span>(<span class="number">15</span>, T);</span><br><span class="line">    T = <span class="built_in">Insert</span>(<span class="number">3</span>, T);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Root: %d\n&quot;</span>, T-&gt;Element);</span><br><span class="line">    <span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åæ­£å¤§æ¦‚æˆ‘çŸ¥é“çš„å°±é‚£ä¹ˆå¤šäº†ã€é€ƒã€‘</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/2702547989199889.jpg" alt="" /></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;avlæ ‘&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#avlæ ‘&quot;&gt;&lt;/a&gt; AVLæ ‘&lt;/h1&gt;
&lt;p&gt;æˆ‘å°±é¸½äº†ä¸€å¤©å“¦ï¼ï¼ï¼ã€é›¾ã€‘&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://npm.elemecdn.com/youmingsam</summary>
      
    
    
    
    <category term="bugçš„ç‚¼é‡‘å·¥åŠ" scheme="https://blog.youmingsama.cn/categories/bug%E7%9A%84%E7%82%BC%E9%87%91%E5%B7%A5%E5%9D%8A/"/>
    
    
    <category term="data structure" scheme="https://blog.youmingsama.cn/tags/data-structure/"/>
    
  </entry>
  
  <entry>
    <title>æ ‘åŒå­¦æ˜¯ä¸ªå¥½åŒå¿—</title>
    <link href="https://blog.youmingsama.cn/posts/fd6da870/"/>
    <id>https://blog.youmingsama.cn/posts/fd6da870/</id>
    <published>2020-03-14T00:00:00.000Z</published>
    <updated>2023-06-23T07:25:57.098Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ ‘åŒå­¦å¥¹æ˜¯ä¸ªå¥½åŒå¿—"><a class="markdownIt-Anchor" href="#æ ‘åŒå­¦å¥¹æ˜¯ä¸ªå¥½åŒå¿—"></a> æ ‘åŒå­¦å¥¹æ˜¯ä¸ªå¥½åŒå¿—</h1><p>æ€å‰æƒ³åæˆ‘å†³å®šé€’å½’å…ˆé¸½äº†ï¼Œç›¸æ¯”äºæˆ‘ä»¬çš„é€’å½’åŒå­¦ã€‚æˆ‘è§‰å¾—æ ‘åŒå­¦æ‰æ˜¯æˆ‘çš„çœŸçˆ±ï¼ï¼ï¼å½“ç„¶æˆ‘åªæ˜¯é€‰æ‹©å…ˆçˆ±æˆ‘ä»¬çš„æ ‘åŒå­¦ï¼Œé€’å½’åŒå­¦æ‚¨å°±å¾€åç¨ç¨å¾—å˜ã€‚</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/dama1.jpg" alt="" /></p><h2 id="æ ‘"><a class="markdownIt-Anchor" href="#æ ‘"></a> æ ‘</h2><p>å¯¹äºå°‘é‡çš„æ•°æ®æˆ‘ä»¬å¯ä»¥ç”¨é“¾è¡¨å¿«é€Ÿé«˜æ•ˆçš„è®¿é—®ï¼Œä½†å¯¹äºå¤§é‡çš„è¾“å…¥æ•°æ®ï¼Œé“¾è¡¨å°±æ˜¾å¾—å®Œå…¨åŠ›ä¸ä»å¿ƒäº†ï¼Œå› ä¸ºé“¾è¡¨çš„çº¿æ€§è®¿é—®ï¼Œå®åœ¨æ˜¯å¤ªæ…¢äº†ã€‚è™½ç„¶é“¾è¡¨å¯ä»¥æä¾›æ¯”æ•°ç»„æ›´å¤§çš„çµæ´»æ€§ï¼Œä½†å¾ˆéš¾ä½¿ç”¨ä»–ä»¬å¯¹ç»„ç»‡åˆ†å±‚è¡¨ç¤ºã€‚æ ˆå’Œé˜Ÿåˆ—è™½ç„¶ä¹Ÿåæ˜ äº†æŸäº›å±‚æ¬¡ï¼Œä½†ä»–ä»¬æ˜¯ä¸€ç»´çš„ã€‚åŸºäºæ€»æ€»ï¼Œ<s>ç»ˆäºä¸‡ä¼—æœŸå¾…çš„è½¬å­¦ç”Ÿæ ‘</s>â€¦äºæ˜¯æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„æ•°æ®ç±»å‹ï¼Œç§°ä¸ºæ ‘ã€‚</p><ul><li><p>å®šä¹‰æ ‘çš„ä¸€ç§è‡ªç„¶çš„æ–¹æ³•æ˜¯é€’å½’ï¼Œä¸€æ£µæ ‘æ˜¯ä¸€äº›èŠ‚ç‚¹çš„é›†åˆ</p></li><li><p>è¿™ä¸ªé›†åˆå¯ä»¥æ˜¯ç©ºé›†</p></li><li><p>è‹¥éç©ºï¼Œåˆ™ä¸€æ£µæ ‘æœ‰ç§°ä½œ<code>æ ¹(root)</code>çš„èŠ‚ç‚¹rä»¥åŠ0ä¸ªæˆ–è€…å¤šä¸ªéç©ºçš„å­æ ‘T1ï¼ŒT2ï¼ŒT3â€¦ç»„æˆ</p></li><li><p>è¿™äº›å­æ ‘ä¸­æ¯ä¸€è¯¾éƒ½è¢«æ¥è‡ªæ ¹rçš„ä¸€æ¡æœ‰å‘çš„è¾¹ï¼ˆeageï¼‰æ‰€è¿æ¥</p></li><li><p>æ¯ä¸€æ£µå­æ ‘çš„æ ¹å«åšæ ¹rçš„å„¿å­<code>(child)</code>ï¼Œè€Œræ˜¯æ¯ä¸€æ£µå­æ ‘çš„çˆ¶äº²<code>(parent)</code></p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/zishu1.png" alt="" /></p><blockquote><p>}æ ‘å¤§éƒ¨åˆ†æ“ä½œçš„è¿è¡Œæ—¶é—´éƒ½åœ¨O(log N)</p></blockquote></li></ul><h2 id="æ ‘çš„ç§ç±»"><a class="markdownIt-Anchor" href="#æ ‘çš„ç§ç±»"></a> æ ‘çš„ç§ç±»</h2><p>æˆ‘ä»¬å¯èƒ½å·²ç»å¬è¿‡å¾ˆå¤šæ ‘çš„åè¯ï¼Œä¾‹å¦‚ï¼Œçº¢é»‘æ ‘ï¼Œéœå¤«æ›¼æ ‘ï¼ŒBæ ‘ï¼ŒB+æ ‘ï¼Œå¹³è¡¡äºŒå‰æ ‘ç­‰ç­‰ï¼Œè€Œæœ¬æ–‡å°†è¦ä»‹ç»äºŒå‰æŸ¥æ‰¾æ ‘ï¼Œå¾ˆå¤šå…¶ä»–æ ‘éƒ½æ˜¯å®ƒçš„å˜ç§ï¼Œä¸åƒé“¾è¡¨çš„çº¿æ€§è®¿é—®ï¼ŒäºŒå‰æŸ¥æ‰¾æ ‘çš„å¤§éƒ¨åˆ†æ“ä½œæ—¶é—´å¤æ‚åº¦éƒ½ä¸ºO(logN)ã€‚</p><h2 id="å…³äºçˆ¶äº²å„¿å­å¤–ç¥–çˆ¶å…„å¼Ÿå­™å­ä¹‹ç±»çš„"><a class="markdownIt-Anchor" href="#å…³äºçˆ¶äº²å„¿å­å¤–ç¥–çˆ¶å…„å¼Ÿå­™å­ä¹‹ç±»çš„"></a> å…³äºçˆ¶äº²å„¿å­å¤–ç¥–çˆ¶å…„å¼Ÿå­™å­ä¹‹ç±»çš„</h2><p>æˆ‘è§‰å¾—è¿™å°±æ²¡æœ‰å¿…è¦è®²çš„å§ï¼Œå„ä½ä¸æ‡‚çš„â€¦<s>ä»£å…¥å•Šä»£å…¥</s></p><h2 id="æ ‘çš„å®ç°"><a class="markdownIt-Anchor" href="#æ ‘çš„å®ç°"></a> æ ‘çš„å®ç°</h2><p>å®ç°æ ‘çš„ä¸€ç§æœ€å¸¸è§çš„æ–¹æ³•å°±æ˜¯åœ¨<code>æ¯ä¸€ä¸ªèŠ‚ç‚¹é™¤æ•°æ®</code>å¤–è¿˜éœ€è¦ä¸€äº›<code>æŒ‡é’ˆ</code>ï¼Œä½¿å¾—è¯¥èŠ‚ç‚¹æ¯ä¸€ä¸ªsonéƒ½æœ‰ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘å®ƒã€‚æ ‘å¹¶æ²¡æœ‰è§„å®šå­èŠ‚ç‚¹æ•°é‡ï¼Œæ‰€ä»¥å­èŠ‚ç‚¹æ•°å¯ä»¥å˜åŒ–å¾ˆå¤§è€Œä¸”äº‹å…ˆä¸çŸ¥é“ã€‚å› æ­¤æ²¡åŠæ³•å»ºç«‹åˆ°å„ä¸ªå­èŠ‚ç‚¹ä¹‹é—´çš„é“¾æ¥ï¼Œå› ä¸ºè¿™æ ·å¤ªæµªè´¹ç©ºé—´äº†ã€‚ä½†æ˜¯å…¶å®è§£æ³•ä¹Ÿå¾ˆç®€å•ï¼š`æˆ‘ä»¬å¯ä»¥å°†æ¯ä¸ªèŠ‚ç‚¹çš„æ‰€æœ‰å„¿å­éƒ½æ”¾åœ¨æ ‘èŠ‚ç‚¹çš„é“¾è¡¨ä¸­ã€‚</p><p><strong>æˆ‘ä»¬ç®€å•å£°æ˜ä¸€ä¸ªæ ‘çš„èŠ‚ç‚¹</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> ElementType;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="title class_">TreeNode</span> *PtrToNode;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">TreeNode</span>&#123;</span><br><span class="line">    ElementType Element;</span><br><span class="line">    PtrToNode firstchild;<span class="comment">//ç¬¬ä¸€ä¸ªå„¿å­</span></span><br><span class="line">    PtrToNode nextSibling;<span class="comment">//ä¸‹ä¸€ä¸ªå…„å¼Ÿ</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>emmmmmmçœ‹èµ·æ¥å¾ˆç®€å•å¯¹å§</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/3135067848242761.jpg" alt="" /></p><h2 id="æ ‘çš„éå†åŠåº”ç”¨"><a class="markdownIt-Anchor" href="#æ ‘çš„éå†åŠåº”ç”¨"></a> æ ‘çš„éå†åŠåº”ç”¨</h2><p>æ ‘æœ‰å¾ˆå¤šåº”ç”¨ï¼Œæ¯”å¦‚Unixï¼Œdosåœ¨å†…çš„è®¸å¤šæ“ä½œç³»ç»Ÿä¸­çš„ç›®å½•ç»“æ„å¤§å¤šæ•°åæ˜ åˆ†å±‚ç»“æ„çš„éƒ½æ˜¯ä½¿ç”¨æ ‘æ¥å®Œæˆçš„ã€‚æ ‘çš„éå†æœ‰è¿™éš¾ä»¥æ¯”æ‹Ÿçš„ä¼˜åŠ¿ã€‚å¯¹äºä¸€ä¸ªé“¾è¡¨æ¥è¯´å¦‚æœæˆ‘ä»¬è¦æŸ¥æ‰¾ä»–çš„ä¸€ä¸ªå…ƒç´ ï¼Œæœ€åçš„æƒ…å†µè¦ä»ç¬¬ä¸€ä¸ªéå†åˆ°æœ€åä¸€ä¸ªï¼Œå‡å¦‚è¯´æœ‰10000ä¸ªå…ƒç´ æˆ‘ä»¬å°±éœ€è¦éå†åˆ°9999ä¸ªå…ƒç´ æ‰èƒ½æ‰¾åˆ°ã€‚é‚£ä¹ˆå‡å¦‚æ˜¯æˆ‘ä»¬æ˜¯å®šä¹‰åœ¨æ ‘ä¸­å³ä½¿è¦å®šä¹‰åˆ°æœ€è¿œçš„é‚£ä¸ªä½ç½®ï¼Œæµ‹è¯•æ¬¡æ•°ä¹Ÿä¼šå¤§å¤§å‡å°‘ã€‚ä¸åŒèŠ‚ç‚¹çš„æ ‘å¯èƒ½ä¹Ÿæœ‰ä¸åŒçš„ç®—æ³•ã€‚äº‹å®ä¸Šï¼Œäººä»¬ä¹Ÿå·²ç»å¼€å‘å‡ºäº†è¿™ç§ç®—æ³•ã€‚è¿™é‡Œæˆ‘ä»¬é‡ç‚¹è®¨è®ºäºŒå‰æ ‘ã€‚</p><h2 id="äºŒå‰æ ‘"><a class="markdownIt-Anchor" href="#äºŒå‰æ ‘"></a> äºŒå‰æ ‘</h2><p>~~äºŒå‰æ ‘é¡¾åæ€ä¹‰å°±æ˜¯å¾ˆäºŒã€‚~~ä¸€ä¸ªèŠ‚ç‚¹è¦åˆ†ä¸º<strong>å·¦èŠ‚ç‚¹</strong>å’Œ<strong>å³èŠ‚ç‚¹</strong>ã€‚</p><blockquote><p>èŠ‚ç‚¹å±‚æ¬¡:å°±æ˜¯ä»æ ¹åˆ°è¯¥èŠ‚ç‚¹æ‰€æœ‰çš„å¼§åŠ ä¸€,æ‰€ä»¥æ ¹èŠ‚ç‚¹çš„å±‚æ¬¡æ˜¯0,éç©ºèŠ‚ç‚¹æœ€ä½å°±æ˜¯2äº†</p></blockquote><p>ä»¥æ­¤ç±»æ¨</p><ul><li><p>ç¬¬ä¸€å±‚æœ‰1=2^0ã€ç”±äºmathjaxçš„å¥‡æ€ªæŠ¥é”™ï¼Œæˆ‘æ”¾å¼ƒä½¿ç”¨æ¸²æŸ“äº†ï¼Œå‡‘åˆçœ‹å§ã€‘</p></li><li><p>ç¬¬äºŒå±‚æœ‰2=2^1</p></li><li><p>ç¬¬ä¸‰å±‚æœ‰4=2^2</p></li><li><p>ç¬¬å››å±‚â€¦</p></li><li><p>ç¬¬äº”å±‚â€¦</p></li><li><p>ç¬¬å…­å±‚â€¦</p></li></ul><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/%E5%87%BA%E8%AD%A6.jpg" alt="" /></p><p>å’¦ï¼Ÿä½ ä»¬é“æˆ‘å¹²ä»€ä¹ˆï¼Ÿï¼Ÿä»€ä¹ˆï¼ï¼ï¼æˆ‘æ²¡æœ‰æ°´åšå®¢å•Šä½ ä»¬ç›¸ä¿¡æˆ‘å•Šï¼ï¼ï¼ï¼</p><blockquote><p>æ»¡è¶³è¯¥æ¡ä»¶è¢«ç§°ä¸ºå®Œå…¨äºŒå‰æ ‘</p></blockquote><p>ä¸éš¾çœ‹å‡ºæ‰€æœ‰çš„éç»ˆç«¯èŠ‚ç‚¹éƒ½æœ‰ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œæ‰€æœ‰å¶èŠ‚ç‚¹éƒ½åœ¨åŒä¸€èŠ‚ç‚¹ä¸Šï¼Œç¬¬<code>i+1</code>å±‚æœ‰2^iä¸ªèŠ‚ç‚¹ã€‚</p><blockquote><p>å¯¹äºéç©ºäºŒå‰æ ‘æ¥è¯´ï¼Œè‹¥å…¶æ‰€æœ‰çš„éç»ˆç«¯èŠ‚ç‚¹éƒ½æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œåˆ™å¶èŠ‚ç‚¹çš„æ•°ç›®må¤§äºéç»ˆç«¯èŠ‚ç‚¹æ•°ç›®kï¼Œä¸”m=k+1</p></blockquote><p>å¯¹äºä¸€èˆ¬äºŒå‰æ ‘æ¥è¯´å¥¹çš„æ·±åº¦è¦æ¯”nå°å¾—å¤šï¼Œè¿™ä¸ªå¹³å‡æ·±åº¦ä¸ºOï¼ˆ<math xmlns="http://www.w3.org/1998/Math/MathML"><br /><msqrt><br /><mrow class="MJX-TeXAtom-ORD"><br /><mi mathvariant="double-struck">N</mi><br /></mrow><br /></msqrt><br /></math>ï¼‰ã€è¿™é‡Œå‡ºç°çš„æ˜¯æ ¹å·nï¼Œè¿™é‡Œç”¨çš„æ˜¯mathmlï¼Œå¦‚æœå‡ºç°å…¶ä»–å¥‡æ€ªçš„ç¬¦å·é‚£å°±æ²¡åŠæ³•äº†ï¼Œç«ç‹ä¸Šæµ‹è¯•æ˜¯å¯ä»¥æ­£å¸¸æ˜¾ç¤ºçš„ã€‘å¯¹äºäºŒå‰æŸ¥æ‰¾æ ‘ä¹Ÿè¢«ç§°ä¸ºæœ‰åºäºŒå‰æ ‘ å…¶å¹³å‡æ·±åº¦æ˜¯O(log N)ï¼Œä½†æ˜¯å‘¢æˆ‘ä»¬æœ‰å¯èƒ½ä¼šé‡åˆ°æœ€ç³Ÿç³•çš„æƒ…å†µï¼Œæ²¡é”™å°±æ˜¯å®Œå®Œå…¨å…¨ç¬”ç¬”ç›´ç›´ä¸€æ¡ç›´çº¿è¿™ç§æƒ…å†µæ·±åº¦å°±å¤§åˆ°äº†N-1ï¼›</p><h2 id="äºŒå‰æ ‘çš„å®ç°"><a class="markdownIt-Anchor" href="#äºŒå‰æ ‘çš„å®ç°"></a> äºŒå‰æ ‘çš„å®ç°</h2><p>ä¸å‡ºæ„å¤–çš„æ¥è¯´ä¸€ä¸ªäºŒå‰æ ‘æœ€å¤šæœ‰ä¸¤ä¸ªå„¿å­ã€åºŸè¯ã€‘ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨æŒ‡é’ˆç›´æ¥æŒ‡å‘ä»–ä»¬ï¼Œæ ‘èŠ‚ç‚¹åœ¨å£°æ˜ä¸Šå’ŒåŒé“¾è¡¨å¾ˆåƒã€‚</p><p>åœ¨å£°æ˜ä¸­ï¼Œä¸€ä¸ªèŠ‚ç‚¹å°±æ˜¯ç”±keyåŠ ä¸Šä¸¤ä¸ªæŒ‡å‘å…¶ä»–èŠ‚ç‚¹çš„æŒ‡é’ˆ<code>ï¼ˆLeft and Right)</code>ç»„æˆçš„ç»“æ„ã€‚é“¾è¡¨ä¸Šçš„å¾ˆå¤šä¸œè¥¿æ”¾åœ¨æ ‘ä¸Šä¹ŸåŒæ ·é€‚ç”¨ï¼Œå½“è¿›è¡Œä¸€æ¬¡æ’å…¥æ“ä½œæ—¶è°ƒç”¨<code>malloc</code>åˆ›å»ºèŠ‚ç‚¹ã€ä¿ºä¸€èˆ¬éƒ½ç”¨newï¼Œæ¯•ç«Ÿæ‡’ã€‘èŠ‚ç‚¹è°ƒç”¨åå¯ä»¥è°ƒç”¨freeåˆ é™¤åè¢«é‡Šæ”¾ã€‚æ ‘ä¸€èˆ¬ååŸåœ†åœˆå¹¶ç”¨ä¸€äº›ç›´çº¿è¿æ¥èµ·æ¥ã€‚äºŒå‰æ ‘æœ¬èº«å°±æ˜¯å›¾ã€‚å½“ç„¶æ¶‰åŠåˆ°æ ‘æ—¶æˆ‘ä»¬ä¹Ÿæ²¡æœ‰å¿…è¦ç”»å‡º<code>Null</code>æŒ‡é’ˆï¼Œå› ä¸ºNä¸ªèŠ‚ç‚¹çš„ä¸€é¢—äºŒå‰æ ‘å°±éœ€è¦N+1NULLæŒ‡é’ˆï¼›</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> ElementType;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="title class_">PtrToNode</span> Tree;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="title class_">TreeNode</span> *PtrToNode;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">TreeNode</span>&#123;</span><br><span class="line">    ElementType Element;</span><br><span class="line">    PtrToNode Left;</span><br><span class="line">    PtrToNode Right;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="è¡¨è¾¾å¼æ ‘"><a class="markdownIt-Anchor" href="#è¡¨è¾¾å¼æ ‘"></a> è¡¨è¾¾å¼æ ‘</h2><p>å£°æ˜ä¸€ç‚¹è¡¨è¾¾å¼æ ‘çš„æ ‘å¶å°±æ˜¯æ“ä½œæ•°ã€‚æ¯”å¦‚æ˜¯å¸¸æ•°æˆ–è€…å˜é‡ï¼Œè€Œå…¶ä»–çš„èŠ‚ç‚¹ä¸ºæ“ä½œç¬¦ï¼Œç”±äºè¿™é‡Œçš„æ‰€æœ‰æ“ä½œéƒ½æ˜¯äºŒå…ƒçš„ï¼Œå› æ­¤æ£µç‰¹å®šçš„æ ‘ä¸ºäºŒå‰æ ‘ã€‚</p><p>å¤§è‡´è¿‡ç¨‹ä¸º</p><ul><li>å¦‚æœç¬¦å·æ˜¯æ“ä½œæ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å»ºç«‹ä¸€ä¸ªå•èŠ‚ç‚¹æ ‘å¹¶å°†ä¸€ä¸ªæŒ‡å‘å®ƒçš„æŒ‡é’ˆæ¨å…¥æ ˆä¸­</li><li>å¦‚æœç¬¦å·æ˜¯æ“ä½œæ•°ï¼Œåˆ™ä»æ ˆä¸­å¼¹å‡ºä¸¤æ£µæ ‘T1å’ŒT2ï¼ˆå…ˆå¼¹å‡ºT1ï¼‰ï¼Œå¹¶å½¢æˆä¸€é¢—ä»¥æ“ä½œç¬¦ä¸ºæ ¹çš„æ ‘ï¼Œå…¶ä¸­T1ä¸ºå³å„¿å­ï¼ŒT2ä¸ºå·¦å„¿å­ï¼›</li><li>ç„¶åå°†æ–°çš„æ ‘å‹å…¥æ ˆä¸­ï¼Œç»§ç»­ä¸Šè¿°è¿‡ç¨‹ã€‚</li></ul><p>æ¥çœ‹ä¸€ä¸ªæ —å­å§å‡å¦‚è¯´è¾“å…¥ä¸º<code>a b + c d e + * *</code></p><p>ï¼ˆ1ï¼‰ä¾æ¬¡è¯»å…¥æ“ä½œæ•°a å’Œ bï¼Œå¹¶å‹å…¥æ ˆä¸­</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/1.png" alt="" /></p><p>ï¼ˆ2ï¼‰ç´§æ¥ç€â€œ+â€è¢«è¯»å…¥ï¼Œå› æ­¤æŒ‡å‘è¿™ä¸¤ç§‘æ ‘çš„æŒ‡é’ˆè¢«å¼¹å‡ºï¼Œä¸€é¢—æ–°çš„æ ‘å½¢æˆäº†ï¼Œè€ŒæŒ‡å‘è¯¥æ ‘çš„æŒ‡é’ˆè¢«å‹å…¥æ ˆä¸­</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/2.png" alt="" /></p><p>ï¼ˆ3ï¼‰ç„¶åcï¼Œdï¼Œeè¢«è¯»å…¥ï¼Œåœ¨æ¯ä¸ªå•èŠ‚ç‚¹è¢«åˆ›å»ºåï¼ŒæŒ‡å‘å¯¹åº”çš„æ ‘çš„æŒ‡é’ˆè¢«å‹å…¥åˆ°æ ˆä¸­ã€‚</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/3.png" alt="" /></p><p>æ¥ä¸‹æ¥è¯»å…¥â€œ+â€å·ï¼Œå› æ­¤ä¸¤æ£µæ ‘åˆå¹¶ã€‚</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/4.png" alt="" /></p><p>å†æ¬¡è¯»å…¥â€œ+â€å·ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¼¹å‡ºä¸¤ä¸ªæ ‘æŒ‡é’ˆå¹¶å½¢æˆä¸€ä¸ªæ–°çš„æ ‘ï¼Œâ€œ * â€æ˜¯å®ƒçš„æ ¹ã€‚</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/52.png" alt="" /></p><p>è¯»å…¥æœ€åä¸€ä¸ªç¬¦å·ï¼Œä¸¤æ£µæ ‘åˆå¹¶ï¼Œè€ŒæŒ‡å‘æœ€åçš„æ ‘çš„æŒ‡é’ˆç•™åœ¨æ ˆä¸­ã€‚</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/5.png" alt="" /></p><h2 id="æŸ¥æ‰¾æ ‘adt-äºŒå‰æŸ¥æ‰¾æ ‘"><a class="markdownIt-Anchor" href="#æŸ¥æ‰¾æ ‘adt-äºŒå‰æŸ¥æ‰¾æ ‘"></a> æŸ¥æ‰¾æ ‘ADT-------äºŒå‰æŸ¥æ‰¾æ ‘</h2><p>äºŒå‰æ ‘ä¸€ä¸ªéå¸¸éå¸¸éå¸¸é‡è¦çš„åº”ç”¨åº”è¯¥å°±æ˜¯æŸ¥æ‰¾äº†å§ï¼ï¼ï¼å¦‚æœè¦ä½¿ä¸€ä¸ªäºŒå‰æ ‘å˜æˆäºŒå‰æŸ¥æ‰¾æ ‘çš„æ€§è´¨æ˜¯ï¼Œå¯¹äºæ¯ä¸ªèŠ‚ç‚¹Xï¼Œä»–çš„å·¦å­æ ‘çš„<code>æ‰€æœ‰</code>å…³é”®å­—å€¼å°äºXçš„å…³é”®å­—å€¼ï¼Œè€Œä»–çš„å³å­æ ‘ä¸­çš„<code>æ‰€æœ‰</code>å…³é”®å­—å€¼å¤§äºXå…³é”®å­—å€¼ã€‚è¿™æ„å‘³ç€è¯¥æ ‘æ‰€æœ‰çš„å…ƒç´ éƒ½å¯ä»¥ä½¿ç”¨æŸä¸€ç§ç»Ÿä¸€çš„æ–¹å¼æ’åº,è¿™ç‚¹éå¸¸é‡è¦ã€‚</p><h2 id="åˆå§‹åŒ–makeempty"><a class="markdownIt-Anchor" href="#åˆå§‹åŒ–makeempty"></a> åˆå§‹åŒ–MakeEmpty</h2><p>è¿™ä¸ªæ“ä½œä¸»è¦ç”¨äºåˆå§‹åŒ–</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">SearchTree <span class="title">makeEmpty</span><span class="params">(SearchTree Tree)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(Tree==<span class="literal">nullptr</span>)&#123;</span><br><span class="line">        <span class="built_in">makeEmpty</span>(Tree-&gt;Left);</span><br><span class="line">        <span class="built_in">makeEmpty</span>(Tree-&gt;Right);</span><br><span class="line">        <span class="built_in">free</span>(Tree);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸€èˆ¬çš„å†™æ³•æ˜¯åˆå§‹åŒ–ä¸ºå•èŠ‚ç‚¹æ ‘ï¼Œæ¯”å¦‚<code>TreeNode *tree = nullptr;</code>ä½†æ˜¯è¿™é‡Œç”¨äº†æ ‘çš„é€’å½’å®šä¹‰å»ºç«‹äº†ä¸€æ£µç©ºæ ‘ã€‚</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/%E5%9B%9B%E5%AD%A3/2883781127774921.png" alt="" /></p><h2 id="find"><a class="markdownIt-Anchor" href="#find"></a> Find</h2><p>è¿™ä¸ªæ“ä½œä¸€èˆ¬éœ€è¦è¿”å›æŒ‡å‘æ ‘Tä¸­å…·æœ‰å…³é”®å­—XèŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œå¦‚æœè¿™ç§èŠ‚ç‚¹ä¸å­˜åœ¨å°±è¿”å›NULLï¼›å¦‚æœTæ˜¯NULLæˆ‘ä»¬å°±è¿”å›NULLï¼Œå¦‚æœå­˜å‚¨åœ¨Tä¸­çš„å…³é”®å­—æ˜¯Xï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿”å›Tï¼›ç„¶åè¿˜éœ€è¦æ³¨æ„æµ‹è¯•é¡ºåºï¼š</p><ul><li>åˆ¤æ–­æ˜¯å¦ä¸ºç©ºæ ‘ï¼Œå¦åˆ™å°±è¦ä¸€ç›´åœ¨NULLå…œåœˆå­äº†</li><li>æœ€ä¸å¯èƒ½çš„æƒ…å†µåº”è¯¥æ”¾åœ¨æœ€åè¿›è¡Œ</li><li>å°¾é€’å½’å°½é‡ç”¨èµ‹å€¼+gotoè§£å†³ï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´æ ˆç©ºé—´è¢«ç”¨å°½ï¼Œä½†è¿™é‡Œä½¿ç”¨æ—¶åˆç†çš„ï¼Œå› ä¸ºæ ˆç©ºé—´çš„é‡ä¸è¿‡æ‰Oï¼ˆlog N)è€Œå·²</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Posttion <span class="title">Find</span><span class="params">(ElementType X, SearchTree Tree)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (Tree == <span class="literal">nullptr</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">    <span class="keyword">if</span> (X &lt; Tree-&gt;Element)</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Find</span>(X, Tree-&gt;Left);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (X &gt; Tree-&gt;Element)</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Find</span>(X, Tree-&gt;Right);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> Tree;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å˜›ã€‚è¿™é‡Œå§gotoä»£æ›¿å°¾é€’å½’çš„ä¹Ÿç»™åŠ ä¸Šå§</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Posttion <span class="title">Find</span><span class="params">(ElementType X, SearchTree Tree)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">next:</span><br><span class="line">    <span class="keyword">if</span> (Tree == <span class="literal">nullptr</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">    <span class="keyword">if</span> (X &lt; Tree-&gt;Element)</span><br><span class="line">        Tree = Tree-&gt;Left;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (X &gt; Tree-&gt;Element)</span><br><span class="line">    &#123;</span><br><span class="line">        Tree = Tree-&gt;Right;</span><br><span class="line">        <span class="keyword">goto</span> next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> Tree;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="findminå’Œfindmax"><a class="markdownIt-Anchor" href="#findminå’Œfindmax"></a> FindMinå’ŒFindMax</h2><p>è¿”å›æ ‘ä¸­çš„æœ€å¤§å…ƒå’Œæœ€å°å…ƒçš„ä½ç½®</p><ul><li><p>å¯¹äºFindMinä»æ ¹å¼€å§‹åªè¦æœ‰å·¦å„¿å­å°±å‘å·¦è¿›è¡Œï¼Œç»ˆæ­¢ç‚¹æ˜¯æœ€å°å…ƒç´ ã€‚</p></li><li><p>è‡³äºFindMaxå½“ç„¶æ˜¯åè¿‡æ¥å•Šï¼ï¼</p></li></ul><div class="note info flat"><p>é€’å½’æ˜¯å¦‚æ­¤çš„ç®€å•ä»¥è‡³äºå¾ˆå¤šç¨‹åºçŒ¿éƒ½ä¸åŒå…¶çƒ¦çš„ä½¿ç”¨å®ƒã€‚è¿™é‡Œæˆ‘åä¸ã€‚</p></div><h3 id="findminçš„é€’å½’å®ç°"><a class="markdownIt-Anchor" href="#findminçš„é€’å½’å®ç°"></a> FindMInçš„é€’å½’å®ç°</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Posttion <span class="title">FindMin</span><span class="params">(SearchTree Tree)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(Tree==<span class="literal">nullptr</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(Tree-&gt;Left==<span class="literal">nullptr</span>)</span><br><span class="line">     <span class="keyword">return</span> Tree;</span><br><span class="line">     <span class="keyword">else</span> <span class="keyword">return</span> <span class="built_in">FindMin</span>(Tree-&gt;Left);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="findmaxçš„éé€’å½’å®ç°"><a class="markdownIt-Anchor" href="#findmaxçš„éé€’å½’å®ç°"></a> FindMaxçš„éé€’å½’å®ç°</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Posttion <span class="title">FindMax</span><span class="params">(SearchTree Tree)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(Tree!=<span class="literal">nullptr</span>)</span><br><span class="line">    <span class="keyword">while</span>(Tree-&gt;Right!=<span class="literal">nullptr</span>)</span><br><span class="line">    Tree=Tree-&gt;Right;</span><br><span class="line">    <span class="keyword">return</span> Tree;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¦å°å¿ƒå¤„ç†ç©ºæ ‘è¿™ç§æƒ…å†µï¼Œå°å¿ƒåŸåœ°å…œåœˆåœˆ</p></blockquote><h2 id="insert"><a class="markdownIt-Anchor" href="#insert"></a> Insert</h2><p>æ’å…¥çš„æ“ä½œæ˜¯ç›¸å¯¹ç®€å•çš„å•Šï¼å°†Xæ’å…¥åˆ°æ ‘Tä¸­è¿™ä»¶äº‹ï¼Œå¯ä»¥ç”¨Findé‚£æ ·æ²¿ç€æ ‘æ¥æŸ¥æ‰¾ã€‚å¦‚æœæ‰¾åˆ°Xå¯ä»¥åšä¸€äº›æ›´æ–°å•Šï¼Œå¦åˆ™å°†Xæ’å…¥åˆ°éå†è·¯å¾„çš„æœ€åä¸€ç‚¹ä¸Šã€‚å¿…å¦‚è¯´æˆ‘ä»¬è¦å…¥5ï¼Œå…ˆæ‰¾åˆ°å…³é”®å­—4çš„èŠ‚ç‚¹å‡ºï¼Œæˆ‘ä»¬éœ€è¦å‘å³è¡Œè¿›ï¼Œä½†æ˜¯å³è¾¹ä¸å­˜åœ¨å­æ ‘ï¼Œæ‰€ä»¥5ä¸åœ¨è¿™æ£µæ ‘ä¸Šã€‚å› æ­¤æˆ‘ä»¬éœ€è¦æ’å…¥5ã€‚</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/2988714247500569.jpg" alt="" /></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">SearchTree <span class="title">insert</span><span class="params">(ElementType X, SearchTree Tree)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (Tree == <span class="literal">nullptr</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        Tree = <span class="keyword">new</span> TreeNode;</span><br><span class="line">        <span class="keyword">if</span> (Tree == <span class="literal">nullptr</span>)</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;error&quot;</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            Tree-&gt;Element = X;</span><br><span class="line">            Tree-&gt;Left = Tree-&gt;Right = <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (X &lt; Tree-&gt;Element)</span><br><span class="line">        Tree-&gt;Left = <span class="built_in">insert</span>(X, Tree-&gt;Left);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (X &gt; Tree-&gt;Element)</span><br><span class="line">        Tree-&gt;Right = <span class="built_in">insert</span>(X, Tree-&gt;Right);</span><br><span class="line">    <span class="keyword">return</span> Tree;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>åˆå§‹çš„TæŒ‡å‘è¯¥æ ‘çš„æ ¹ï¼Œæ ¹åœ¨æ’å…¥æ—¶å˜åŒ–ï¼Œå› æ­¤Insertè¢«å†™æˆä¸€ä¸ªæŒ‡å‘æ–°æ ‘æ ¹çš„æŒ‡é’ˆï¼Œæ‰€ä»¥çš„ä¸¤æ¬¡é€’å½’æŠŠXæ’åˆ°é€‚å½“çš„å­æ ‘ä¸­</li></ul><h2 id="delete"><a class="markdownIt-Anchor" href="#delete"></a> Delete</h2><p>åˆ é™¤ç®—æ˜¯æ¯”è¾ƒéš¾çš„æ“ä½œäº†ï¼Œä¸€æ—¦å‘ç°è¦åˆ é™¤çš„èŠ‚ç‚¹æˆ‘ä»¬éœ€è¦è€ƒè™‘ä»¥ä¸‹å‡ ç§æƒ…å†µ</p><ul><li>èŠ‚ç‚¹åªæœ‰ä¸€ç‰‡æ ‘å¶ï¼Œå¯ä»¥ç«‹åˆ»è¢«åˆ é™¤</li><li>å¦‚æœèŠ‚ç‚¹æœ‰ä¸€ä¸ªå„¿å­ï¼Œé‚£è¯¥èŠ‚ç‚¹å¯ä»¥åœ¨å…¶çˆ¶èŠ‚ç‚¹è°ƒæ•´æŒ‡é’ˆç»•è¿‡è¯¥èŠ‚ç‚¹åè¢«åˆ é™¤</li><li><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/shunaotu.png" alt="" /></li></ul><h3 id="æ¯”è¾ƒå¤æ‚çš„æƒ…å†µ"><a class="markdownIt-Anchor" href="#æ¯”è¾ƒå¤æ‚çš„æƒ…å†µ"></a> æ¯”è¾ƒå¤æ‚çš„æƒ…å†µ</h3><p>ç›¸å¯¹æ¥è¯´æ¯”è¾ƒå¤æ‚çš„æƒ…å†µæ˜¯å¤„ç†å…·æœ‰ä¸¤ä¸ªå„¿å­çš„èŠ‚ç‚¹ï¼Œæ¯”è¾ƒå¸¸ç”¨çš„ç­–ç•¥æ˜¯ç”¨å…¶å³å­æ ‘çš„æœ€å°æ•°æ®ä»£æ›¿è¯¥èŠ‚ç‚¹çš„æ•°æ®å¹¶é€’å½’åˆ é™¤é‚£ä¸ªèŠ‚ç‚¹ï¼ˆç°åœ¨å®ƒæ˜¯ç©ºçš„ï¼‰ï¼Œå› ä¸ºå³å­æ ‘çš„æœ€å°èŠ‚ç‚¹ä¸å¯èƒ½æœ‰å·¦å„¿å­ï¼Œæ‰€ä»¥ç¬¬äºŒæ¬¡åˆ é™¤ç›¸å¯¹å®¹æ˜“ã€‚</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/ergezishu1.png" alt="" /></p><blockquote><p>æŠ±æ­‰å•Šä¸€ä¸ç•™ç¥åšå®Œå›¾å‘ç°2æ²¡æ¢ï¼Ÿï¼Ÿï¼Ÿç¬¬äºŒä¸ªå›¾çš„2åº”è¯¥æ¢æˆ3</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">SearchTree <span class="title">Delete</span><span class="params">(ElementType X, SearchTree Tree)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Posttion TemCell;</span><br><span class="line">    <span class="keyword">if</span> (Tree == <span class="literal">nullptr</span>)</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Element not found&quot;</span></span><br><span class="line">             &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (X &lt; Tree-&gt;Element)</span><br><span class="line">        Tree-&gt;Left = <span class="built_in">Delete</span>(X, Tree-&gt;Left);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (X &gt; Tree-&gt;Element)</span><br><span class="line">        Tree-&gt;Right = <span class="built_in">Delete</span>(X, Tree-&gt;Right);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (Tree-&gt;Left &amp;&amp; Tree-&gt;Right)</span><br><span class="line">    &#123;</span><br><span class="line">        TemCell = <span class="built_in">FindMin</span>(Tree-&gt;Right);</span><br><span class="line">        Tree-&gt;Element = TemCell-&gt;Element;</span><br><span class="line">        Tree-&gt;Right = <span class="built_in">Delete</span>(Tree-&gt;Element, Tree-&gt;Right);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        TemCell = Tree;</span><br><span class="line">        <span class="keyword">if</span> (Tree-&gt;Left == <span class="literal">nullptr</span>)</span><br><span class="line">            Tree = Tree-&gt;Right;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (Tree-&gt;Right = <span class="literal">nullptr</span>)</span><br><span class="line">            Tree=Tree-&gt;Left;</span><br><span class="line">        <span class="built_in">free</span>(TemCell);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> Tree;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªç¨‹åºçš„æ•ˆç‡å¹¶ä¸é«˜ï¼Œå› ä¸ºå®ƒæ²¿è¯¥æ ‘è¿›è¡Œä¸¤è¶Ÿæœç´¢ä¸€æŸ¥æ‰¾å’Œåˆ é™¤å³å­æ ‘ä¸­æœ€å°çš„èŠ‚ç‚¹ã€‚</p><h2 id="å¹³å‡æƒ…å†µ"><a class="markdownIt-Anchor" href="#å¹³å‡æƒ…å†µ"></a> å¹³å‡æƒ…å†µ</h2><p>åœ¨ä¹‹å‰ï¼Œå‡ºäº†MakeEmptyä¹‹å¤–æˆ‘ä»¬æ‰€æœ‰çš„æ“ä½œéƒ½èŠ±è´¹äº†Oï¼ˆlog Nï¼‰å› ä¸ºæˆ‘ä»¬ç”¨å¸¸æ•°æ—¶é—´åœ¨æ ‘ä¸­é™ä½äº†ä¸€å±‚ï¼Œè¿™æ ·å¯¹æ ‘çš„æ“ä½œå¤§æ¦‚é™ä½äº†ä¸€åŠå·¦å³ã€‚å‡ºäº†å‰é¢æåˆ°çš„MakeEmptyå…¶ä»–éƒ½æ˜¯Oï¼ˆdï¼‰ï¼Œå…¶ä¸­dè¡¨ç¤ºæ‰€è®¿é—®çš„å…³é”®å­—æ·±åº¦ã€‚</p><p>ä¸€æ£µæ ‘æ‰€æœ‰çš„èŠ‚ç‚¹æ·±åº¦çš„å’Œè¢«ç§°ä¸º<code>å†…éƒ¨è·¯å¾„é•¿</code>,å¦‚æœæˆ‘ä»¬ç°åœ¨è¦è®¡ç®—äºŒå‰æŸ¥æ‰¾æ ‘çš„å¹³å‡å†…éƒ¨è·¯å¾„é•¿ï¼Œå…¶ä¸­çš„å¹³å‡æ˜¯å¯¹å‘äºŒå‰æŸ¥æ‰¾æ ‘ä¸­æ‰€æœ‰çš„å¯èƒ½çš„æ’å…¥åºåˆ—è¿›è¡Œçš„ã€‚</p><h4 id="dnæ˜¯nä¸ªèŠ‚ç‚¹çš„å†…éƒ¨è·¯å¾„é•¿"><a class="markdownIt-Anchor" href="#dnæ˜¯nä¸ªèŠ‚ç‚¹çš„å†…éƒ¨è·¯å¾„é•¿"></a> Dï¼ˆNï¼‰æ˜¯Nä¸ªèŠ‚ç‚¹çš„å†…éƒ¨è·¯å¾„é•¿</h4><table><thead><tr><th style="text-align:center">D(1)</th><th style="text-align:center">0</th></tr></thead><tbody><tr><td style="text-align:center">å…·æœ‰ièŠ‚ç‚¹çš„å·¦å­æ ‘</td><td style="text-align:center">D(i)</td></tr><tr><td style="text-align:center">å³å­æ ‘</td><td style="text-align:center">D(N-i-1)</td></tr><tr><td style="text-align:center">D(N)</td><td style="text-align:center">D(i)+D(n-i-1)+N-1</td></tr><tr><td style="text-align:center">D(N)=2/N{(j=0-&gt;N-1)D(j)}+N-1</td><td style="text-align:center">D(N)=O(N log N)</td></tr></tbody></table><blockquote><p>åœ¨åŸæ ‘ä¸­æ‰€æœ‰èŠ‚ç‚¹è¦åŠ æ·±1åº¦</p></blockquote><p>è¿™ä¸ªçœ‹èµ·æ¥è®©äººæ„Ÿè§‰éå¸¸æ„‰æ‚¦ï¼Œä½†æ˜¯ä»…å‡­è¿™ä¸ªæˆ‘ä»¬æ˜¯æ— æ³•ä¿è¯è¿™ä¸ªOï¼ˆlog Nï¼‰æ˜¯å®Œå…¨æ­£ç¡®çš„ï¼ŒåŸå› åœ¨äºå»åˆ é™¤æ“ä½œï¼Œæˆ‘ä»¬å¹¶ä¸æ¸…æ¥šæ˜¯å¦æ‰€æœ‰äºŒå‰æŸ¥æ‰¾æ ‘éƒ½æ˜¯ç­‰å¯èƒ½å‡ºç°çš„ï¼Œåœ¨åˆ é™¤çš„æ—¶å€™æˆ‘ä»¬é€‰æ‹©è¯¥å…ƒç´ çš„æœ€å°å³å­æ ‘ä»£æ›¿ï¼Œè¿™ç§ç®—æ³•æœ‰åˆ©äºå·¦å­æ ‘æ¯”å³å­æ ‘æ·±ï¼Œå½“æˆ‘ä»¬è¿›è¡Œå¤§é‡çš„åˆ é™¤ä¹‹åé«˜è¾¾å‡ åä¸‡æ¬¡å°±å¯ä»¥æ˜æ˜¾çš„çœ‹å¾…ä¸¤è¾¹æ˜¾è‘—çš„å·®åˆ«ã€‚å·¦å­æ ‘æ˜æ˜¾ä¼šæ¯”å³å­æ ‘è¦æ·±ã€‚ä¸ºäº†ä¿è¯æ‰€æœ‰çš„èŠ‚ç‚¹ä¸å¾—è¿‡æ·±æ‰€ä»¥å°±ææ¥äº†æ‰€è°“çš„AVLæ ‘ã€‚è¿™æ˜¯ä¸€ç§è¶…è€çš„å¹³è¡¡æŸ¥æ‰¾æ ‘ã€‚</p><p>æºœäº†æºœäº†ã€çŒä¸åŠé˜²ã€‘</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/img1583054611615.jpeg" alt="" /></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;æ ‘åŒå­¦å¥¹æ˜¯ä¸ªå¥½åŒå¿—&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#æ ‘åŒå­¦å¥¹æ˜¯ä¸ªå¥½åŒå¿—&quot;&gt;&lt;/a&gt; æ ‘åŒå­¦å¥¹æ˜¯ä¸ªå¥½åŒå¿—&lt;/h1&gt;
&lt;p&gt;æ€å‰æƒ³åæˆ‘å†³å®šé€’å½’å…ˆé¸½äº†ï¼Œç›¸æ¯”äºæˆ‘ä»¬çš„é€’å½’åŒå­¦ã€‚æˆ‘è§‰å¾—æ ‘åŒå­¦æ‰æ˜¯æˆ‘çš„çœŸçˆ±ï¼ï¼ï¼å½“ç„¶æˆ‘åªæ˜¯é€‰æ‹©å…ˆçˆ±æˆ‘ä»¬çš„</summary>
      
    
    
    
    <category term="bugçš„ç‚¼é‡‘å·¥åŠ" scheme="https://blog.youmingsama.cn/categories/bug%E7%9A%84%E7%82%BC%E9%87%91%E5%B7%A5%E5%9D%8A/"/>
    
    
    <category term="data structure" scheme="https://blog.youmingsama.cn/tags/data-structure/"/>
    
  </entry>
  
  <entry>
    <title>å†æ¢é˜Ÿåˆ—</title>
    <link href="https://blog.youmingsama.cn/posts/ffe3b3b2/"/>
    <id>https://blog.youmingsama.cn/posts/ffe3b3b2/</id>
    <published>2020-03-10T14:58:00.000Z</published>
    <updated>2023-06-23T07:25:57.098Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å†æ¢é˜Ÿåˆ—"><a class="markdownIt-Anchor" href="#å†æ¢é˜Ÿåˆ—"></a> å†æ¢é˜Ÿåˆ—</h1><p>æˆ‘ä¸ºä»€ä¹ˆè¦è¯´å†ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿæ‰“ç®—æ˜å¤©åœ¨æ€»ç»“çš„æƒ³æƒ³ä¸èƒ½å†é¸½äº†å•Šã€‚å› ä¸ºèœé¸¡è¶Šé¸½è¶Šèœï¼ä¸ºäº†é˜²æ­¢æˆ‘æˆä¸ºå¼±å¼±å¼±å¼±çš„èœé¸¡æ‰€ä»¥å¾ˆæœ‰å¿…è¦å¥½å¥½å¥½å¥½å­¦ä¹ ã€‚</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/2702548124037077.jpg" alt="" /></p><h2 id="ä»€ä¹ˆæ˜¯é˜Ÿåˆ—"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆæ˜¯é˜Ÿåˆ—"></a> ä»€ä¹ˆæ˜¯é˜Ÿåˆ—</h2><p>é˜Ÿåˆ—æ˜¯ä¸€ä¸ªç®€å•çš„ç­‰å¾…æ•°åˆ—ã€‚å°¾éƒ¨åŠ å…¥å…ƒç´ ï¼Œå¤´éƒ¨åˆ é™¤å…ƒç´ ï¼Œå’Œæ ˆä¸åŒçš„æ˜¯å®ƒæ˜¯å¯ä»¥ä¸¤ç«¯éƒ½æ˜¯ç”¨çš„ä¸€ç§ç»“æ„ï¼šä¸€ç«¯ç”¨æ¥åŠ å…¥å…ƒç´ ï¼Œä¸€ç«¯ç”¨æ¥åˆ é™¤å…ƒç´ ã€‚å› æ­¤æœ€åä¸€ä¸ªå…ƒç´ åªèƒ½ç­‰æ’åœ¨ä»–ä¹‹å‰çš„å…ƒç´ å…¨éƒ¨åˆ é™¤ä¹‹åæ‰å¯ä»¥æ“ä½œã€‚æ“ä½œå’Œæ ˆéƒ½å·®ä¸å¤š</p><ul><li>clean()----æ¸…ç©ºé˜Ÿåˆ—</li><li>isEmpty()----åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º</li><li>enqueue(a)-----åœ¨å°¾éƒ¨åŠ å…¥å…ƒç´ a</li><li>dequeue()------å–å‡ºé˜Ÿåˆ—çš„ç¬¬ä¸€ä¸ªå…ƒç´ </li><li>FristEI()-------è¿”å›é˜Ÿåˆ—ç¬¬ä¸€ä¸ªå…ƒç´ ä½†ä¸åˆ é™¤</li></ul><p>é‚£ä¹ˆæ¥ä¸‹æ¥å°±å…ˆå†™ä¸€ä¸ªè¶…çº§ç®€å•æ¨¡æ¿åº“é˜Ÿåˆ—ã€æ¯•ç«Ÿæˆ‘æ˜¯è¾£é¸¡å˜›ã€‘</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/2702548072633587.jpg" alt="" /></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">queue&lt;<span class="type">int</span>&gt; q1;</span><br><span class="line">queue&lt;<span class="type">int</span>,list&lt;<span class="type">int</span>&gt;&gt;q2;</span><br><span class="line">q1.<span class="built_in">push</span>(<span class="number">1</span>);</span><br><span class="line">q1.<span class="built_in">push</span>(<span class="number">2</span>);</span><br><span class="line">q1.<span class="built_in">push</span>(<span class="number">3</span>);</span><br><span class="line">q1.<span class="built_in">push</span>(<span class="number">4</span>);</span><br><span class="line">q2.<span class="built_in">push</span>(<span class="number">5</span>);</span><br><span class="line">q2.<span class="built_in">push</span>(<span class="number">6</span>);</span><br><span class="line">q2.<span class="built_in">push</span>(<span class="number">7</span>);</span><br><span class="line">q2.<span class="built_in">push</span>(<span class="number">8</span>);</span><br><span class="line"></span><br><span class="line">q1.<span class="built_in">push</span>(q2.<span class="built_in">back</span>());</span><br><span class="line"><span class="keyword">while</span>(!q1.<span class="built_in">empty</span>())&#123;</span><br><span class="line">  cout&lt;&lt;q1.<span class="built_in">front</span>()&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">  q1.<span class="built_in">pop</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span> (!q2.<span class="built_in">empty</span>())</span><br><span class="line">&#123;</span><br><span class="line">  cout&lt;&lt;q2.<span class="built_in">front</span>()&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">  q2.<span class="built_in">pop</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯æ ‡å‡†æ¨¡æ¿åº“ä¸­çš„é˜Ÿåˆ—ï¼Œè‡ªå·±å†™æ¨¡æ¿ä»€ä¹ˆçš„â€¦æ¯•ç«Ÿæˆ‘æ˜¯è¾£é¸¡å˜›</p><h4 id="é¡ºåºé˜Ÿåˆ—"><a class="markdownIt-Anchor" href="#é¡ºåºé˜Ÿåˆ—"></a> é¡ºåºé˜Ÿåˆ—</h4><p>ä¸ç†æƒ³çš„è®¾è®¡ã€é›¾ã€‘ï¼š<br />1 . è‹¥ä½¿ç”¨é¡ºåºè¡¨çš„å°¾ç«¯æ’å…¥å®ç°<code>enqueue</code>æ“ä½œï¼Œæ ¹æ®é˜Ÿåˆ—æ€§è´¨ï¼Œå‡ºé˜Ÿæ“ä½œåº”è¯¥åœ¨è¡¨çš„é¦–ç«¯è¿›è¡Œã€‚ä¸ºäº†ç»´æŠ¤é¡ºåºè¡¨çš„å®Œæ•´æ€§ï¼ˆè¡¨å…ƒç´ åœ¨è¡¨å‰ç«¯è¿ç»­å­˜æ”¾ï¼‰ï¼Œå‡ºé˜Ÿæ“ä½œå–å‡ºå½“æ—¶çš„é¦–å…ƒç´ åï¼Œå°±éœ€è¦æŠŠè¡¨ä¸­å…¶ä½™å…ƒç´ å…¨éƒ¨å‰ç§»ï¼Œè¿™æ ·å°±ä¼šæ˜¯ä¸€ä¸ª <code>O(n)</code> æ—¶é—´çš„æ“ä½œã€‚<br />2 . åè¿‡æ¥ï¼šä»å°¾ç«¯å‡ºé˜Ÿæ˜¯ <code>O(1)</code> æ“ä½œï¼Œä½†ä»é¦–ç«¯å…¥é˜Ÿå°±æ˜¯ <code>O(n)</code> æ—¶é—´æ“ä½œï¼Œè¿™ç§è®¾è®¡ä¹Ÿä¸ç†æƒ³ã€‚<br />3 . å¦ä¸€ç§æ˜¯åœ¨é˜Ÿé¦–å…ƒç´ å‡ºé˜Ÿåè¡¨ä¸­çš„å…ƒç´ ä¸å‰ç§»ï¼Œä½†è®°ä½æ–°é˜Ÿå¤´ä½ç½®ã€‚å¦‚æœé˜Ÿåˆ—ä¸­æ²¡æœ‰ç©ºé—²äº†ï¼Œåªéœ€è¦åœ¨å…¥é˜Ÿæ—¶ï¼Œå†é›†ä¸­è§¦å‘ä¸€æ¬¡æ•°æ®çš„æ¬ç§»æ“ä½œã€‚</p><p>é¡ºåºé˜Ÿåˆ—ä¹Ÿè¢«ç§°ä¸ºé˜Ÿåˆ—çš„æ•°ç»„æ˜¯å®ç°ï¼Œæˆ‘å†™çš„æˆ‘æ„Ÿè§‰å®Œå…¨çœ‹ä¸å‡ºæ¥é”™è¯¯ï¼Œä½†æ˜¯ç¼–è¯‘å™¨ä»–å°±æ˜¯ä¸€ç›´æŠ¥é”™ï¼Œå•Šï¼Œæˆ‘æ˜¯è¾£é¸¡ï¼ï¼ï¼è¯´ä»¥ä¸ºäº†ä¿è¯ä¸¥è°¨æ€§å°±å®Œå®Œå…¨å…¨æ‹¿äº†ç½‘ä¸Šä¸€ç‰‡å¤§å¤§çš„æ–‡ç« </p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/%E5%9B%9B%E5%AD%A3/2883781113174557.jpg" alt="" /></p><div class="note success flat"><h4 id="æºä»£ç åœ°å€"><a class="markdownIt-Anchor" href="#æºä»£ç åœ°å€"></a> æºä»£ç åœ°å€</h4><p><strong><a href="https://blog.csdn.net/FreeeLinux/article/details/52075018">è¯·æ‘æˆ‘ï¼</a></strong></p></div><p>ä¸€ï¼šé˜Ÿåˆ—çš„æ•°ç»„å®ç°ã€æ¥äº†æ¥äº†æ¨¡æ¿ä»–æ¥äº†ã€‘</p><p>æˆ‘ä»¬ç”¨ first å’Œ last å­˜å‚¨é˜Ÿåˆ—é¦–å…ƒç´ å’Œå°¾å…ƒç´ çš„ä¸‹æ ‡ã€‚<br />*å½“é˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œä¹ æƒ¯ä¸Šè®¾ç½® first å’Œ last çš„å€¼ä¸º-1ã€‚å½“æ•°æ®å…¥é˜Ÿæ—¶, å¿…é¡»å…ˆ++ç›¸åº”çš„ä¸‹æ ‡ï¼Œç„¶åå†å­˜å…¥æ•°æ®ã€‚</p><p>*åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºï¼šè¿™æ—¶åªéœ€è¦çœ‹ first å°±å¯ä»¥ï¼Œå¦‚æœ first == -1 ï¼Œ é˜Ÿåˆ—å³ä¸ºç©ºã€‚</p><p>*åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦å·²æ»¡ï¼šé˜Ÿåˆ—æ»¡é˜Ÿï¼Œæœ‰ä¸¤ç§æƒ…å†µï¼š<br />1.å½“é˜Ÿåˆ—é¦–æ¬¡æŒ‰é¡ºåºå­˜æ»¡æ•°æ®æ—¶ï¼Œå®ƒçš„ first ç­‰äº0ï¼ŒæŒ‡å‘storgeæ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ ä½ç½®storge[0]ï¼Œè€Œå®ƒçš„last ç­‰äºsize-1ï¼ŒæŒ‡å‘storgeæ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ storge[size-1]ï¼Œæ­¤æ—¶é˜Ÿåˆ—å·²æ»¡ã€‚<br />2.å¦å¤–ä¸€ç§æƒ…å†µå°±æ˜¯ï¼Œä½†æˆ‘ä»¬é¦–æ¬¡é˜Ÿåˆ—æ»¡æ—¶ï¼Œå°†ä¸€äº›å…ƒç´ å‡ºé˜Ÿï¼Œç”±äºé˜Ÿåˆ—æ˜¯FIFOç»“æ„ï¼Œä»å¤´éƒ¨å¼€å§‹å‡ºé˜Ÿï¼Œè¿™æ ·åœ¨é˜Ÿåˆ—å…ƒç´ æœªå…¨éƒ¨å‡ºé˜Ÿçš„æƒ…å†µä¸‹ï¼Œfirst æŒ‡å‘åç§»ã€‚å½“æˆ‘ä»¬å†æ¬¡å°†ä¸€äº›æ•°æ®å…¥é˜Ÿæ—¶ï¼Œlast ä»storge[size-1] å†æ¬¡å›åˆ° storge[0]ï¼Œç„¶åæŒ‰ç…§é˜Ÿåˆ—é¡ºåºå…¥é˜Ÿï¼Œå½“last = first -1 æ—¶ï¼Œé˜Ÿåˆ—å†æ¬¡æ»¡é˜Ÿã€‚</p><p>*å…¥é˜Ÿæ“ä½œï¼š<br />1.é¦–å…ˆå…¥é˜Ÿæ“ä½œé¦–å…ˆåˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦å·²æ»¡ï¼Œé˜Ÿåˆ—å·²æ»¡åˆ™ä¸å…¥é˜Ÿã€‚<br />2.å…¶æ¬¡ï¼Œæˆ‘ä»¬è¦æ³¨æ„åˆ°ç‰¹æ®Šæƒ…å†µï¼Œå½“é˜Ÿåˆ—ç”±ç©ºé˜Ÿå¼€å§‹å­˜å…¥ç¬¬ä¸€ä¸ªæ•°æ®æ—¶ï¼Œä»¥åŠlast ç­‰äº size-1 æ—¶ï¼Œæˆ‘ä»¬ä¸‹ä¸€ä¸ªæ•°æ®å…¥é˜Ÿä¼šè¢«å­˜å‚¨åœ¨storge[0]çš„ä½ç½®ï¼Œæ­¤æ—¶éœ€è¦ä»¤ last = 0ï¼Œä¸è¦å¿˜äº†å¦‚æœ first ç­‰äº-1ï¼ŒåŒæ—¶è¦ä»¤ first = 0;<br />3.å…¶ä»–æƒ…å†µ++lastï¼Œç„¶åå…¥é˜Ÿå³å¯ã€‚</p><p>*å‡ºé˜Ÿæ“ä½œï¼š<br />1.é¦–å…ˆåˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ç©ºï¼Œè‹¥ä¸ºç©ºï¼Œåˆ™ä¸èƒ½å‡ºé˜Ÿã€‚<br />2.é‡ç‚¹ï¼šå½“ firstç­‰äºlast æ—¶ï¼Œè¯´æ˜é˜Ÿåˆ—ä¸­åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œæ­¤æ—¶å‡ºé˜Ÿåé˜Ÿåˆ—ä¸ºç©ºï¼Œåˆ‡è®°å°† first ï¼Œlastå€¼ èµ‹ä¸º-1ï¼Œè¡¨ç¤ºé˜Ÿåˆ—ç©ºã€‚<br />3.ç‰¹æ®Šæƒ…å†µï¼šå½“ first ç­‰äºsize-1 æ—¶ï¼Œå®ƒå¤„äºstorgeæ•°ç»„å°¾éƒ¨ï¼Œäº‹å®ä¸Šç”±äºå®ƒæ˜¯é˜Ÿåˆ—æ­¤çŠ¶æ€ä¸‹çš„é¦–å…ƒç´ ï¼Œé˜Ÿåˆ—çš„ç¬¬äºŒä¸ªå…ƒç´ æ˜¯storgeæ•°ç»„storge[0]ï¼Œæ‰€ä»¥æ­¤æ—¶è¿›è¡Œå‡ºé˜Ÿæ“ä½œåï¼Œé¡»å°† first çš„å€¼è®¾ç½®ä¸º0ã€‚<br />4.å…¶ä»–æƒ…å†µ ç›´æ¥å‡ºé˜Ÿï¼Œ++firstå³å¯ã€‚</p><p>é˜Ÿåˆ—æ•°ç»„å®ç°ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> _ARRAY_QUEUE_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _ARRAY_QUEUE_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="type">int</span> size = <span class="number">0</span>&gt;</span><br><span class="line"><span class="keyword">class</span> Queue&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Queue</span>();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">is_empty</span><span class="params">()</span><span class="type">const</span></span>;</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">is_full</span><span class="params">()</span><span class="type">const</span></span>;</span><br><span class="line">     </span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">enqueue</span><span class="params">(<span class="type">const</span> T&amp;)</span></span>;</span><br><span class="line">    <span class="function">T <span class="title">dequeue</span><span class="params">()</span></span>;</span><br><span class="line">     </span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">traverse</span><span class="params">()</span><span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    T storge[size];</span><br><span class="line">    <span class="type">int</span> first;</span><br><span class="line">    <span class="type">int</span> last;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="type">int</span> size&gt;</span><br><span class="line">Queue&lt;T, size&gt;::<span class="built_in">Queue</span>()</span><br><span class="line">&#123;</span><br><span class="line">    first = last = <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="type">int</span> size&gt;</span><br><span class="line"><span class="type">bool</span> Queue&lt;T, size&gt;::<span class="built_in">is_empty</span>()<span class="type">const</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> first == <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="type">int</span> size&gt;</span><br><span class="line"><span class="type">bool</span> Queue&lt;T, size&gt;::<span class="built_in">is_full</span>()<span class="type">const</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> first == <span class="number">0</span> &amp;&amp; last == size - <span class="number">1</span> || last == first - <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="type">int</span> size&gt;</span><br><span class="line"><span class="type">void</span> Queue&lt;T, size&gt;::<span class="built_in">enqueue</span>(<span class="type">const</span> T&amp; elem)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(!<span class="built_in">is_full</span>())&#123;</span><br><span class="line">        <span class="keyword">if</span>(last == <span class="number">-1</span> || last == size <span class="number">-1</span>)&#123;</span><br><span class="line">            storge[<span class="number">0</span>] = elem;</span><br><span class="line">            last = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span>(first == <span class="number">-1</span>)</span><br><span class="line">                first = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> storge[++last] = elem;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Queue full.&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="type">int</span> size&gt;</span><br><span class="line">T Queue&lt;T, size&gt;::<span class="built_in">dequeue</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">is_empty</span>())&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Queue empty.&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    T tmp;</span><br><span class="line">     </span><br><span class="line">    tmp = storge[first];</span><br><span class="line">    <span class="keyword">if</span>(first == last)</span><br><span class="line">        last = first = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(first == size - <span class="number">1</span>)</span><br><span class="line">        first = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span> ++first;</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="type">int</span> size&gt;</span><br><span class="line"><span class="type">void</span> Queue&lt;T, size&gt;::<span class="built_in">traverse</span>()<span class="type">const</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> i=first; i&lt;=last; ++i)</span><br><span class="line">        cout &lt;&lt; storge[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯æµ‹è¯•ç¨‹åºå®æµ‹å®Œå…¨OK</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;array_queue.h&quot;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Queue&lt;<span class="type">int</span>, <span class="number">3</span>&gt; queue;</span><br><span class="line">    </span><br><span class="line">    queue.<span class="built_in">enqueue</span>(<span class="number">10</span>);</span><br><span class="line">    queue.<span class="built_in">enqueue</span>(<span class="number">10</span>);</span><br><span class="line">+/-    queue.<span class="built_in">enqueue</span>(<span class="number">10</span>);</span><br><span class="line">    cout &lt;&lt; queue.<span class="built_in">is_full</span>() &lt;&lt;endl;</span><br><span class="line">    </span><br><span class="line">    queue.<span class="built_in">traverse</span>();</span><br><span class="line">    </span><br><span class="line">    queue.<span class="built_in">dequeue</span>();</span><br><span class="line">    queue.<span class="built_in">dequeue</span>();</span><br><span class="line">    queue.<span class="built_in">dequeue</span>();</span><br><span class="line">    </span><br><span class="line">    queue.<span class="built_in">is_empty</span>();</span><br><span class="line">    queue.<span class="built_in">traverse</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è€Œcç‰ˆçš„å®ç°æ˜¯è¿™æ ·çš„å“’</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> OK 1</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ERROR 0</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> OVERFLOW -2</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> Status;</span><br><span class="line"><span class="comment">//===============å¾ªç¯é˜Ÿåˆ—=====================</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MAXQSIZE 6    <span class="comment">//æœ€å¤§é˜Ÿåˆ—é•¿åº¦</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> QElemType;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> &#123;</span><br><span class="line">    QElemType *base; <span class="comment">//åˆå§‹åŒ–çš„åŠ¨æ€åˆ†é…å­˜å‚¨åˆ†é…ç©ºé—´</span></span><br><span class="line">    <span class="type">int</span> front;<span class="comment">//å¤´æŒ‡é’ˆï¼Œè‹¥é˜Ÿåˆ—ä¸ç©ºï¼ŒæŒ‡å‘é˜Ÿå¤´å…ƒç´ </span></span><br><span class="line">    <span class="type">int</span> rear;<span class="comment">//å°¾æŒ‡é’ˆï¼Œè‹¥é˜Ÿåˆ—ä¸ç©ºï¼ŒæŒ‡å‘é˜Ÿå°¾å…ƒç´ çš„ä¸‹ä¸€ä¸ªä½ç½®</span></span><br><span class="line">&#125;SqQueue;</span><br><span class="line"><span class="comment">//================é˜Ÿåˆ—åˆå§‹åŒ–==========</span></span><br><span class="line"><span class="function">Status <span class="title">InitQueue</span><span class="params">(SqQueue *Q)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//æ„é€ ä¸€ä¸ªç©ºé˜Ÿåˆ—Q</span></span><br><span class="line">    Q-&gt;base = <span class="keyword">new</span> QElemType[MAXQSIZE];</span><br><span class="line">    <span class="keyword">if</span> (!Q-&gt;base) <span class="built_in">exit</span>(OVERFLOW);<span class="comment">//å­˜å‚¨åˆ†é…å¤±è´¥</span></span><br><span class="line">    Q-&gt;front = Q-&gt;rear = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> OK;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//================å…¥é˜Ÿ================================</span></span><br><span class="line"><span class="function">Status <span class="title">EnQueue</span><span class="params">(SqQueue *Q,QElemType e)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//æ’å…¥å…ƒç´ eä¸ºQçš„æ–°çš„é˜Ÿå°¾å…ƒç´ </span></span><br><span class="line">    <span class="keyword">if</span> ((Q-&gt;rear + <span class="number">1</span>) % MAXQSIZE == Q-&gt;front)<span class="keyword">return</span> ERROR;<span class="comment">//é˜Ÿåˆ—æ»¡</span></span><br><span class="line">    Q-&gt;base[Q-&gt;rear] = e;</span><br><span class="line">    Q-&gt;rear = (Q-&gt;rear + <span class="number">1</span>) % MAXQSIZE;<span class="comment">//é‡æ–°è®¾ç½®é˜Ÿå°¾æŒ‡é’ˆ</span></span><br><span class="line">    <span class="keyword">return</span> OK;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//===============å‡ºé˜Ÿ=================================</span></span><br><span class="line"><span class="function">Status <span class="title">DeQueue</span><span class="params">(SqQueue *Q, QElemType *e)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//è‹¥é˜Ÿåˆ—ä¸ç©ºï¼Œåˆ™åˆ é™¤Qçš„å¯¹å¤´å…ƒç´ ï¼Œç”¨eè¿”å›å…¶å€¼</span></span><br><span class="line">    <span class="keyword">if</span> (Q-&gt;front == Q-&gt;rear)<span class="keyword">return</span> ERROR;<span class="comment">//é˜Ÿç©º</span></span><br><span class="line">    *e = Q-&gt;base[Q-&gt;front];</span><br><span class="line">    Q-&gt;front = (Q-&gt;front + <span class="number">1</span>) % MAXQSIZE;</span><br><span class="line">    <span class="keyword">return</span> OK;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    SqQueue Q;</span><br><span class="line">    QElemType e;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">5</span>, j = <span class="number">5</span>;</span><br><span class="line">    <span class="built_in">InitQueue</span>(&amp;Q);</span><br><span class="line">    <span class="keyword">for</span> (i; i &gt; <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="built_in">EnQueue</span>(&amp;Q, i);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;å…¥é˜Ÿå…ƒç´ ä¸º%d\n&quot;</span>, i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (j; j &gt; <span class="number">0</span>; j--) &#123;</span><br><span class="line">        <span class="built_in">DeQueue</span>(&amp;Q, &amp;e);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;å‡ºé˜Ÿå…ƒç´ ä¸º%d\n&quot;</span>, e);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="é“¾å¼é˜Ÿåˆ—"><a class="markdownIt-Anchor" href="#é“¾å¼é˜Ÿåˆ—"></a> é“¾å¼é˜Ÿåˆ—</h4><p>æœ€ç®€å•çš„å•é“¾è¡¨åªæ”¯æŒé¦–ç«¯ <code>O(1)</code> çš„æ“ä½œï¼Œåœ¨å¦ä¸€ç«¯æ“ä½œéœ€è¦ <code>O(n)</code> æ—¶é—´ã€‚ä¸é€‚åˆä½œä¸ºé˜Ÿåˆ—çš„å®ç°åŸºç¡€ã€‚<br />è€ƒè™‘<code>å¸¦è¡¨å°¾æŒ‡é’ˆ</code>çš„å•é“¾è¡¨ï¼Œå®ƒæ”¯æŒ <code>O(1)</code> æ—¶é—´çš„å°¾ç«¯æ’å…¥æ“ä½œï¼›å†åŠ ä¸Šè¡¨é¦–ç«¯çš„é«˜æ•ˆè®¿é—®å’Œåˆ é™¤ï¼ŒåŸºäºå•é“¾è¡¨å®ç°é˜Ÿåˆ—å°±å¾ˆå®¹æ˜“ã€‚</p><div class="note warning flat"><h4 id="è¾£é¸¡æœ¬é¸¡"><a class="markdownIt-Anchor" href="#è¾£é¸¡æœ¬é¸¡"></a> è¾£é¸¡æœ¬é¸¡</h4><p><strong>ä¾ç„¶æ˜¯å¤§å¤§çš„</strong> <a href="https://blog.csdn.net/FreeeLinux/article/details/52075018">ä»£ç </a></p></div><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/2702547972708483.jpg" style="zoom:50%;" /><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> _LIST_QUEUE_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _LIST_QUEUE_H</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span>::std;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Queue</span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Queue</span>() = <span class="keyword">default</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">is_empty</span><span class="params">()</span><span class="type">const</span></span>;</span><br><span class="line">    <span class="function">T&amp; <span class="title">front</span><span class="params">()</span></span>;</span><br><span class="line">    </span><br><span class="line">    <span class="function">T <span class="title">dequeue</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">enqueue</span><span class="params">(<span class="type">const</span> T&amp;)</span></span>;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="type">size_t</span> <span class="title">size</span><span class="params">()</span><span class="type">const</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">clear</span><span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    list&lt;T&gt; lst;</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="type">bool</span> Queue&lt;T&gt;::<span class="built_in">is_empty</span>()<span class="type">const</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> lst.<span class="built_in">is_empty</span>();</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line">T&amp; Queue&lt;T&gt;::<span class="built_in">front</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> lst.<span class="built_in">front</span>();</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line">T Queue&lt;T&gt;::<span class="built_in">dequeue</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(!lst.<span class="built_in">size</span>())&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Queue empty.&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    T tmp = lst.<span class="built_in">front</span>();</span><br><span class="line">    lst.<span class="built_in">pop_front</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="type">void</span> Queue&lt;T&gt;::<span class="built_in">enqueue</span>(<span class="type">const</span> T&amp; elem)</span><br><span class="line">&#123;</span><br><span class="line">    lst.<span class="built_in">push_back</span>(elem);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="type">void</span> Queue&lt;T&gt;::<span class="built_in">clear</span>()</span><br><span class="line">&#123;</span><br><span class="line">    lst.<span class="built_in">clear</span>();</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="type">size_t</span> Queue&lt;T&gt;::<span class="built_in">size</span>()<span class="type">const</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> lst.<span class="built_in">size</span>();</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure><blockquote><p>è¿™é‡Œè¯´æ˜ä¸€ä¸‹ã€‚é“¾è¡¨çš„å®ç°é‡‡ç”¨äº†æ ‡å‡†æ¨¡æ¿åº“ä¸­çš„list</p></blockquote><h2 id="é‚£å†æ¥è¯´ä¸¤ç§é˜Ÿåˆ—å§"><a class="markdownIt-Anchor" href="#é‚£å†æ¥è¯´ä¸¤ç§é˜Ÿåˆ—å§"></a> é‚£å†æ¥è¯´ä¸¤ç§é˜Ÿåˆ—å§</h2><h3 id="é˜»å¡é˜Ÿåˆ—"><a class="markdownIt-Anchor" href="#é˜»å¡é˜Ÿåˆ—"></a> é˜»å¡é˜Ÿåˆ—</h3><p>é˜»å¡é˜Ÿåˆ—å…¶å®å°±æ˜¯åœ¨é˜Ÿåˆ—åŸºç¡€ä¸Šå¢åŠ äº†é˜»å¡æ“ä½œã€‚ç®€å•æ¥è¯´ï¼Œå°±æ˜¯åœ¨é˜Ÿåˆ—ä¸ºç©ºçš„æ—¶å€™ï¼Œä»é˜Ÿå¤´å–æ•°æ®ä¼šè¢«é˜»å¡ã€‚å› ä¸ºæ­¤æ—¶è¿˜æ²¡æœ‰æ•°æ®å¯å–ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸­æœ‰äº†æ•°æ®æ‰èƒ½è¿”å›ï¼›å¦‚æœé˜Ÿåˆ—å·²ç»æ»¡äº†ï¼Œé‚£ä¹ˆæ’å…¥æ•°æ®çš„æ“ä½œå°±ä¼šè¢«é˜»å¡ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸­æœ‰ç©ºé—²ä½ç½®åå†æ’å…¥æ•°æ®ï¼Œç„¶åå†è¿”å›ã€‚</p><blockquote><p>æ³¨ï¼šå¯ä»¥ç”¨é˜»å¡é˜Ÿåˆ—å®ç°ä¸€ä¸ªâ€œç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹â€ã€‚åŸºäºé˜»å¡é˜Ÿåˆ—ï¼Œå¯ä»¥é€šè¿‡åè°ƒâ€œç”Ÿäº§è€…â€å’Œâ€œæ¶ˆè´¹è€…â€çš„ä¸ªæ•°ï¼Œæ¥æé«˜æ•°æ®çš„å¤„ç†æ•ˆç‡ã€‚</p></blockquote><h3 id="å¹¶å‘é˜Ÿåˆ—"><a class="markdownIt-Anchor" href="#å¹¶å‘é˜Ÿåˆ—"></a> å¹¶å‘é˜Ÿåˆ—</h3><p>åœ¨å¤šçº¿ç¨‹æƒ…å†µä¸‹ï¼Œä¼šæœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶æ“ä½œé˜Ÿåˆ—ï¼Œè¿™ä¸ªæ—¶å€™å°±ä¼šå­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚<br />è¦å®ç°ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„é˜Ÿåˆ—å°±éœ€è¦<code>å¹¶å‘é˜Ÿåˆ—</code>ã€‚<br />æœ€ç®€å•ç›´æ¥çš„å®ç°æ–¹å¼æ˜¯ç›´æ¥åœ¨ <code>enqueue()</code>ã€<code>dequeue()</code> æ–¹æ³•ä¸ŠåŠ é”ï¼Œä½†æ˜¯é”ç²’åº¦å¤§å¹¶å‘åº¦ä¼šæ¯”è¾ƒä½ï¼ŒåŒä¸€æ—¶åˆ»ä»…å…è®¸ä¸€ä¸ªå­˜æˆ–è€…å–æ“ä½œã€‚</p><h2 id="ä¼˜å…ˆé˜Ÿåˆ—"><a class="markdownIt-Anchor" href="#ä¼˜å…ˆé˜Ÿåˆ—"></a> ä¼˜å…ˆé˜Ÿåˆ—</h2><p>å•¥ç©æ„æ˜¯ä¼˜å…ˆé˜Ÿåˆ— å•Šï¼Œå°æœ‹å‹ï¼Œä½ æ˜¯å¦æœ‰å¾ˆå¤šé—®é¢˜ï¼Œåœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œç®€å•çš„é˜Ÿåˆ—ç»“æ„æ˜¯è¿œè¿œä¸å¤Ÿçš„ï¼Œæˆ‘ä»¬éœ€è¦æ›´å¤æ‚çš„æ–¹æ³•æ¥åº”ä»˜è¿™äº›å¤æ‚çš„åœºæ™¯ã€‚åŠ å…¥æ˜¯ä¸€ä¸ªæ®‹ç–¾äººå»é“¶è¡Œæ’é˜Ÿï¼ŒèŒå‘˜åº”è¯¥é¦–å…ˆç»™ä»–æœåŠ¡è€Œä¸æ˜¯æ’åœ¨ä»–å‰é¢çš„é‚£äº›äººã€‚å…¬è·¯æ”¶è´¹äº­ä¹Ÿåº”è¯¥ä¼˜å…ˆäºè­¦è½¦å’Œæ¶ˆé˜²è½¦ä¼˜å…ˆé€šè¿‡ã€‚è¯´ä»¥ä¼‘é—²é˜Ÿåˆ—çš„å…³é”®åœ¨äºï¼Œå¦‚ä½•æ›´åŠ å¿«é€Ÿé«˜æ•ˆçš„è¿›è¡Œå‡ºé˜Ÿåˆ—å’Œå¦‚å¯¹åˆ—çš„æ“ä½œã€‚å…ƒç´ ä¼šéšæœºåˆ°è¾¾é˜Ÿåˆ—ï¼Œè¯´ä»¥å¹¶ä¸èƒ½ä¿è¯æ’åœ¨å‰é¢çš„å…ƒç´ å…ˆå‡ºåˆ—æ’åœ¨åé¢çš„å…ƒç´ åå‡ºåˆ—ã€‚åœ¨ä¸åŒçš„å¼•ç”¨åœºæ™¯ä¸‹æˆ‘ä»¬å¯ä»¥é‡‡ç”¨ä¸åŒçš„ä¼˜å…ˆè§„åˆ™ã€‚è¿™é‡Œä¸»è¦è¯´æ˜æ ‡å‡†æ¨¡æ¿åº“ä¸­çš„ä¼˜å…ˆå¯¹åˆ—ã€‚</p><ul><li><p>priority_queueå®¹å™¨é»˜è®¤vectorå®¹å™¨xå®ç°</p></li><li><p>dequeå®¹å™¨ä¹Ÿæ˜¯å¯ä»¥çš„</p></li><li><p>listæ˜¯ä¸è¡Œå“’</p><h2 id="stlä¼˜å…ˆé˜Ÿåˆ—çš„ä½¿ç”¨"><a class="markdownIt-Anchor" href="#stlä¼˜å…ˆé˜Ÿåˆ—çš„ä½¿ç”¨"></a> STLä¼˜å…ˆé˜Ÿåˆ—çš„ä½¿ç”¨</h2><hr /><h3 id="å®šä¹‰"><a class="markdownIt-Anchor" href="#å®šä¹‰"></a> å®šä¹‰</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">priority_queue&lt;Type,Container=vector&lt;Type&gt;,cmp=greater&lt;Type&gt;&gt;que;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ•°æ®ç±»å‹ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºå®¹å™¨ï¼ˆé»˜è®¤ä¸ºvectorï¼‰ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºæ¯”è¾ƒå‡½æ•°ï¼ˆé»˜è®¤å¤§å€¼ä¼˜å…ˆï¼‰ã€‚</p></li></ul><h3 id="æ¯”è¾ƒå‡½æ•°çš„å†™æ³•"><a class="markdownIt-Anchor" href="#æ¯”è¾ƒå‡½æ•°çš„å†™æ³•"></a> æ¯”è¾ƒå‡½æ•°çš„å†™æ³•</h3><ul><li>ä½¿ç”¨C++è‡ªå¸¦çš„åº“å‡½æ•°</li><li>è‡ªå®šä¹‰ä¼˜å…ˆçº§1</li><li>è‡ªå®šä¹‰ä¼˜å…ˆçº§2</li><li>è‡ªå®šä¹‰ä¼˜å…ˆçº§3</li></ul><p>æ–¹æ³•ä¸€ï¼šä½¿ç”¨C++è‡ªå¸¦çš„åº“å‡½æ•°</p><p>é¦–å…ˆåœ¨å¤´æ–‡ä»¶ä¸­å¼•ç”¨includeåº“å‡½æ•°</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span></span></span><br></pre></td></tr></table></figure><p>functional ä¸­æä¾›äº†å¦‚ä¸‹çš„åŸºäºæ¨¡æ¿çš„æ¯”è¾ƒå‡½æ•°å¯¹è±¡ã€‚</p><ul><li>equal_to: ç­‰äº</li><li>not_equal_to: ä¸ç­‰äº</li><li>greater: å¤§äº</li><li>greater_equal: å¤§äºç­‰äº</li><li>less: å°äº</li><li>less_equal: å°äºç­‰äº</li></ul><p>åˆ›å»ºæ–¹æ³•ï¼š<code>priority_queue,less&gt;que;</code></p><p>æ–¹æ³•äºŒï¼šè‡ªå®šä¹‰ä¼˜å…ˆçº§1ï¼Œé˜Ÿåˆ—å…ƒç´ ä¸ºæ•°å€¼å‹</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">cmp1</span>&#123;</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> &amp;a,<span class="type">int</span> &amp;b)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a&lt;b;<span class="comment">//æœ€å¤§å€¼ä¼˜å…ˆ</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">cmp</span>&#123;</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> &amp;a,<span class="type">int</span> &amp;b)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a&gt;b;<span class="comment">//æœ€å°å€¼ä¼˜å…ˆ</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>åˆ›å»ºæ–¹æ³•ï¼š<code>priority_queue,cmp1&gt;que;</code></p><p>æ–¹æ³•ä¸‰ï¼šè‡ªå®šä¹‰ä¼˜å…ˆçº§2ï¼Œé˜Ÿåˆ—å…ƒç´ ä¸ºç»“æ„ä½“</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">node1</span>&#123;</span><br><span class="line">    <span class="type">int</span> x,y;</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span> &lt; (<span class="type">const</span> node1 &amp;a) <span class="type">const</span> &#123;<span class="comment">//åªèƒ½é‡è½½&lt;</span></span><br><span class="line">        retrun x&lt;a.x;<span class="comment">//æœ€å¤§å€¼ä¼˜å…ˆ</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node2</span>&#123;</span><br><span class="line">    <span class="type">int</span> x,y;</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span> &lt; (<span class="type">const</span> node2 &amp;a) <span class="type">const</span> &#123;</span><br><span class="line">        retrun x&gt;a.x;<span class="comment">//æœ€å°å€¼ä¼˜å…ˆ</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>åˆ›å»ºæ–¹æ³•ï¼š<code>priority_queueque;</code></p><p>æ–¹æ³•å››ï¼šè‡ªå®šä¹‰ä¼˜å…ˆçº§3ï¼Œé˜Ÿåˆ—å…ƒç´ ä¸ºç»“æ„ä½“</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span>&#123;</span><br><span class="line">    <span class="type">int</span> x,y;</span><br><span class="line">&#125;ï¼›</span><br><span class="line"><span class="type">bool</span> <span class="keyword">operator</span> &lt; (<span class="type">const</span> node &amp;a,<span class="type">const</span> node &amp;b)&#123;</span><br><span class="line">    <span class="keyword">return</span> a.x&lt;b.x;æŒ‰æˆå‘˜xæœ€å¤§å€¼ä¼˜å…ˆ</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*bool operator &lt; (const node &amp;a,const node &amp;b)&#123;//ç”±äºéƒ½æ˜¯é‡è½½&lt;,æ‰€ä»¥ä¸¤ç§æ¯”è¾ƒå½¢å¼åªèƒ½åŒæ—¶å­˜åœ¨ä¸€ç§</span></span><br><span class="line"><span class="comment">    return a.y&gt;b.y;æŒ‰æˆå‘˜yæœ€å°å€¼ä¼˜å…ˆ</span></span><br><span class="line"><span class="comment">&#125;*/</span></span><br></pre></td></tr></table></figure><p>åˆ›å»ºæ–¹æ³•ï¼š<code>priority_queueque;</code></p><div class="note success flat"><p>å½“ç„¶å®é™…ä¸­ä¿ºå°±ä½¿è¿‡ç¬¬ä¸€ç§å˜»å˜»å˜»</p></div><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/2702548040340098.jpg" alt="" /></p><p>é‚£é‚£é‚£è¿™é‡Œå°±æ¥å…·ä½“å®ç°ä¸€ä¸‹æ ‡å‡†æ¨¡æ¿åº“ä¸­çš„ä¼˜å…ˆå¯¹åˆ—</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;functional&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    priority_queue&lt;<span class="type">int</span>&gt;q1;</span><br><span class="line">    priority_queue&lt;<span class="type">int</span>,vector&lt;<span class="type">int</span>&gt;,greater&lt;<span class="type">int</span>&gt;&gt;q2;</span><br><span class="line">    q1.<span class="built_in">push</span>(<span class="number">1</span>);q1.<span class="built_in">push</span>(<span class="number">2</span>);q1.<span class="built_in">push</span>(<span class="number">3</span>);</span><br><span class="line">    q2.<span class="built_in">push</span>(<span class="number">3</span>);q2.<span class="built_in">push</span>(<span class="number">2</span>);q2.<span class="built_in">push</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="type">int</span> a[]=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">3</span>,<span class="number">5</span>&#125;;</span><br><span class="line">    priority_queue&lt;<span class="type">int</span>,vector&lt;<span class="type">int</span>&gt;,less&lt;<span class="type">int</span>&gt;&gt;<span class="built_in">q3</span>(a,a+<span class="number">9</span>);</span><br><span class="line">    <span class="keyword">while</span> (!q1.<span class="built_in">empty</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;q1.<span class="built_in">top</span>()&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">        q1.<span class="built_in">pop</span>();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (!q2.<span class="built_in">empty</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;q2.<span class="built_in">top</span>()&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">        q2.<span class="built_in">pop</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (!q3.<span class="built_in">empty</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;q3.<span class="built_in">top</span>();</span><br><span class="line">        q3.<span class="built_in">pop</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½ ä»¥ä¸ºå®Œäº†å—è¿˜æœ‰å‘</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/%E5%9B%9B%E5%AD%A3/2926936155513511.jpg" alt="" /></p><h2 id="åŒç«¯é˜Ÿåˆ—"><a class="markdownIt-Anchor" href="#åŒç«¯é˜Ÿåˆ—"></a> åŒç«¯é˜Ÿåˆ—</h2><p>å…ˆè¯´æ–¹æ³•STLæä¾›çš„æ–¹æ³•è´¼å¤š</p><p>æ„é€ ï¼š</p><ul><li><p>deque<Elem> c åˆ›å»ºä¸€ä¸ªç©ºçš„deque</p></li><li><p>deque<Elem> c1(c2) å¤åˆ¶ä¸€ä¸ªdequeã€‚</p></li><li><p>deque<Elem> c(n) åˆ›å»ºä¸€ä¸ªdequeï¼Œå«æœ‰nä¸ªæ•°æ®ï¼Œæ•°æ®å‡å·²ç¼ºçœæ„é€ äº§ç”Ÿã€‚</p></li><li><p>deque<Elem> c(n, elem) åˆ›å»ºä¸€ä¸ªå«æœ‰nä¸ªelemæ‹·è´çš„deque</p></li><li><p>deque<Elem> c(beg,end) åˆ›å»ºä¸€ä¸ªä»¥[beg;end)åŒºé—´çš„deque</p></li><li><p>c.~deque<Elem>() é”€æ¯æ‰€æœ‰æ•°æ®ï¼Œé‡Šæ”¾å†…å­˜</p></li></ul><p>æ–¹æ³•ï¼š</p><ul><li><p>c.assign(beg,end) å°†[beg; end)åŒºé—´ä¸­çš„æ•°æ®èµ‹å€¼ç»™cã€‚</p></li><li><p>c.assign(n,elem) å°†nä¸ªelemçš„æ‹·è´èµ‹å€¼ç»™cã€‚</p></li><li><p>c. at(idx) ä¼ å›ç´¢å¼•idxæ‰€æŒ‡çš„æ•°æ®ï¼Œå¦‚æœidxè¶Šç•Œï¼ŒæŠ›å‡ºout_of_rangeã€‚</p></li><li><p>c.back() ä¼ å›æœ€åä¸€ä¸ªæ•°æ®ï¼Œä¸æ£€æŸ¥è¿™ä¸ªæ•°æ®æ˜¯å¦å­˜åœ¨ã€‚</p></li><li><p>c.begin() ä¼ å›è¿­ä»£å™¨ä¸­çš„ç¬¬ä¸€ä¸ªæ•°æ®ã€‚</p></li><li><p>c.clear() ç§»é™¤å®¹å™¨ä¸­æ‰€æœ‰æ•°æ®ã€‚</p></li><li><p>c.empty() åˆ¤æ–­å®¹å™¨æ˜¯å¦ä¸ºç©ºã€‚</p></li><li><p>c.end() æŒ‡å‘è¿­ä»£å™¨ä¸­çš„æœ€åä¸€ä¸ªæ•°æ®åœ°å€ã€‚</p></li><li><p>c.erase(pos) åˆ é™¤posä½ç½®çš„æ•°æ®ï¼Œä¼ å›ä¸‹ä¸€ä¸ªæ•°æ®çš„ä½ç½®ã€‚</p></li><li><p>c.erase(beg,end) åˆ é™¤[beg,end)åŒºé—´çš„æ•°æ®ï¼Œä¼ å›ä¸‹ä¸€ä¸ªæ•°æ®çš„ä½ç½®ã€‚</p></li><li><p>c.front() ä¼ å›ç¬¬ä¸€ä¸ªæ•°æ®ã€‚</p></li><li><p>get_allocator ä½¿ç”¨æ„é€ å‡½æ•°è¿”å›ä¸€ä¸ªæ‹·è´ã€‚</p></li><li><p>c.insert(pos,elem) åœ¨posä½ç½®æ’å…¥ä¸€ä¸ªelemæ‹·è´ï¼Œä¼ å›æ–°æ•°æ®ä½ç½®</p></li><li><p>c.insert(pos,n,elem) åœ¨posä½ç½®æ’å…¥&gt;nä¸ªelemæ•°æ®ã€‚æ— è¿”å›å€¼</p></li><li><p>c.insert(pos,beg,end) åœ¨posä½ç½®æ’å…¥åœ¨[beg,end)åŒºé—´çš„æ•°æ®ã€‚æ— è¿”å›å€¼</p></li><li><p>c.max_size() è¿”å›å®¹å™¨ä¸­æœ€å¤§æ•°æ®çš„æ•°é‡ã€‚</p></li><li><p>c.pop_back() åˆ é™¤æœ€åä¸€ä¸ªæ•°æ®ã€‚</p></li><li><p>c.pop_front() åˆ é™¤å¤´éƒ¨æ•°æ®ã€‚</p></li><li><p>c.push_back(elem) åœ¨å°¾éƒ¨åŠ å…¥ä¸€ä¸ªæ•°æ®ã€‚</p></li><li><p>c.push_front(elem) åœ¨å¤´éƒ¨æ’å…¥ä¸€ä¸ªæ•°æ®ã€‚</p></li><li><p>c.rbegin() ä¼ å›ä¸€ä¸ªé€†å‘é˜Ÿåˆ—çš„ç¬¬ä¸€ä¸ªæ•°æ®ã€‚</p></li><li><p>c.rend() ä¼ å›ä¸€ä¸ªé€†å‘é˜Ÿåˆ—çš„æœ€åä¸€ä¸ªæ•°æ®çš„ä¸‹ä¸€ä¸ªä½ç½®ã€‚</p></li><li><p>c.resize(num) é‡æ–°æŒ‡å®šé˜Ÿåˆ—çš„é•¿åº¦ã€‚</p></li><li><p>c.size() è¿”å›å®¹å™¨ä¸­å®é™…æ•°æ®çš„ä¸ªæ•°ã€‚</p></li><li><p>æˆ‘å†³å¯¹ä¸æ˜¯åœ¨æ°´åšå®¢ä½ ä»¬ç›¸ä¿¡æˆ‘å•Šï¼ï¼ï¼ï¼ï¼ï¼</p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/å››å­£/2926936099679448.jpg" style="zoom:50%;" /></li></ul><p>æ ‡å‡†æ¨¡æ¿åº“ä¸­çš„åŒç«¯é˜Ÿåˆ—[double-ended queue]æ˜¯å…è®¸åœ¨ä¸¤ç«¯è®¿é—®çš„çº¿æ€§è¡¨ï¼Œå› æ­¤åŒç«¯é˜Ÿåˆ—å¯ä»¥ç”¨åŒå‘é“¾è¡¨å®ç°ã€‚åœ¨STLä¸­çš„å®¹å™¨listå·²ç»æ·»åŠ äº†åŒå‘é“¾è¡¨ï¼Œåœ¨STLåœ¨åŒç«¯é˜Ÿåˆ—ä¸­æ·»åŠ äº†å¾ˆå¤šé¢å¤–çš„åŠŸèƒ½ï¼Œå¯ä»¥éšæœºè®¿é—®åŒç«¯é˜Ÿåˆ—çš„``ä»»æ„ä½ç½®`ã€‚å¦‚åŒ æ•°ç»„ä¸€æ ·ã€‚ä¸è¯´äº†ç›´æ¥å¼€å§‹æ°´ä¸€æ®µä»£ç ï¼ã€é›¾ã€‘èƒœåˆ©çš„æ³•åˆ™å·²ç»ç¡®å®šï¼ï¼</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;deque&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    deque&lt;<span class="type">int</span>&gt;q1;</span><br><span class="line">    q1.<span class="built_in">push_front</span>(<span class="number">1</span>);</span><br><span class="line">    q1.<span class="built_in">push_front</span>(<span class="number">2</span>);</span><br><span class="line">    q1.<span class="built_in">push_back</span>(<span class="number">3</span>);</span><br><span class="line">    q1.<span class="built_in">push_back</span>(<span class="number">4</span>);<span class="comment">//ç°åœ¨åºåˆ—åº”è¯¥æ˜¯2134;</span></span><br><span class="line">    deque&lt;<span class="type">int</span>&gt;<span class="built_in">q2</span>(q1.<span class="built_in">begin</span>()+<span class="number">1</span>,q1.<span class="built_in">begin</span>()<span class="number">-1</span>);<span class="comment">//13</span></span><br><span class="line">    q1[<span class="number">1</span>]=<span class="number">5</span>;<span class="comment">//ç°åœ¨æ˜¯2534,æˆ‘è¯´è¿‡äº†å®Œå…¨å¯ä»¥å½“æ•°ç»„ä½¿</span></span><br><span class="line">    q1.<span class="built_in">erase</span>(q1.<span class="built_in">begin</span>());<span class="comment">//534</span></span><br><span class="line">    q1.<span class="built_in">insert</span>(q1.<span class="built_in">end</span>()<span class="number">-1</span>,<span class="number">2</span>,<span class="number">6</span>);<span class="comment">//53664</span></span><br><span class="line">    <span class="built_in">sort</span>(q1.<span class="built_in">begin</span>(),q1.<span class="built_in">end</span>());<span class="comment">//34566</span></span><br><span class="line">    deque&lt;<span class="type">int</span>&gt;q3;</span><br><span class="line">    q3.<span class="built_in">resize</span>(q1.<span class="built_in">size</span>()+q2.<span class="built_in">size</span>());<span class="comment">//q3=&#123;0,0,0,0,0,0,0&#125;</span></span><br><span class="line">    <span class="built_in">merge</span>(q1.<span class="built_in">begin</span>(),q1.<span class="built_in">end</span>(),q2.<span class="built_in">begin</span>(),q2.<span class="built_in">end</span>(),q3.<span class="built_in">begin</span>());<span class="comment">//1334566</span></span><br><span class="line">        <span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è™½ç„¶æœ‰ç‚¹çªç„¶ä½†å¤§æ¦‚å°±é‚£ä¹ˆå¤šå§ ã€‚å¥½äº†å¤§æ¦‚å°±é‚£ä¹ˆå¤šå§ï¼Œemmmmmæˆ‘æƒ³æƒ³è¿˜æœ‰ä»€ä¹ˆè¦è¯´çš„å—emmmmmmä¼°è®¡æ²¡äº†ï¼Œåœ¨å†™ä¸‹å»æ°´åšå®¢å°±å®é”¤äº†ï¼ï¼ï¼ï¼è¿˜æœ‰æˆ‘æ²¡æœ‰æ°´åšå®¢æˆ‘æ²¡æœ‰æ°´åšå®¢æˆ‘æ²¡æœ‰æ°´åšå®¢æˆ‘æ²¡æœ‰æ°´åšå®¢æˆ‘æ²¡æœ‰æ°´åšå®¢æˆ‘æ²¡æœ‰æ°´åšå®¢æˆ‘æ²¡æœ‰æ°´åšå®¢æˆ‘æ²¡æœ‰æ°´åšå®¢æˆ‘æ²¡æœ‰æ°´åšå®¢æˆ‘æ²¡æœ‰æ°´åšå®¢æˆ‘æ²¡æœ‰æ°´åšå®¢æˆ‘æ²¡æœ‰æ°´åšå®¢æˆ‘æ²¡æœ‰æ°´åšå®¢æˆ‘æ²¡æœ‰æ°´åšå®¢æˆ‘æ²¡æœ‰æ°´åšå®¢æˆ‘æ²¡æœ‰æ°´åšå®¢æˆ‘æ²¡æœ‰æ°´åšå®¢æˆ‘æ²¡æœ‰æ°´åšå®¢æˆ‘æ²¡æœ‰æ°´åšå®¢æˆ‘æ²¡æœ‰æ°´åšå®¢æˆ‘æ²¡æœ‰æ°´åšå®¢æˆ‘æ²¡æœ‰æ°´åšå®¢æˆ‘æ²¡æœ‰æ°´åšå®¢æˆ‘æ²¡æœ‰æ°´åšå®¢æˆ‘æ²¡æœ‰æ°´åšå®¢æˆ‘æ²¡æœ‰æ°´åšå®¢æˆ‘æ²¡æœ‰æ°´åšå®¢æˆ‘æ²¡æœ‰æ°´åšå®¢</p><p>ä½ ä»¬ç›¸ä¿¡æˆ‘å•Šï¼ï¼ï¼ï¼</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/%E5%8D%8E%E4%B8%BD%E7%9A%84%E5%8F%9B%E9%80%86.jpg" alt="" /></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;å†æ¢é˜Ÿåˆ—&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#å†æ¢é˜Ÿåˆ—&quot;&gt;&lt;/a&gt; å†æ¢é˜Ÿåˆ—&lt;/h1&gt;
&lt;p&gt;æˆ‘ä¸ºä»€ä¹ˆè¦è¯´å†ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿæ‰“ç®—æ˜å¤©åœ¨æ€»ç»“çš„æƒ³æƒ³ä¸èƒ½å†é¸½äº†å•Šã€‚å› ä¸ºèœé¸¡è¶Šé¸½è¶Šèœï¼ä¸ºäº†é˜²æ­¢æˆ‘æˆä¸ºå¼±å¼±å¼±å¼±çš„èœé¸¡æ‰€ä»¥å¾ˆæœ‰å¿…è¦å¥½å¥½å¥½å¥½å­¦ä¹ ã€‚&lt;</summary>
      
    
    
    
    <category term="bugçš„ç‚¼é‡‘å·¥åŠ" scheme="https://blog.youmingsama.cn/categories/bug%E7%9A%84%E7%82%BC%E9%87%91%E5%B7%A5%E5%9D%8A/"/>
    
    
    <category term="data structure" scheme="https://blog.youmingsama.cn/tags/data-structure/"/>
    
    <category term="ç®—æ³•" scheme="https://blog.youmingsama.cn/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>ç¢ç¢å¿µ1</title>
    <link href="https://blog.youmingsama.cn/posts/c19d3793/"/>
    <id>https://blog.youmingsama.cn/posts/c19d3793/</id>
    <published>2020-03-08T00:00:00.000Z</published>
    <updated>2023-06-23T07:25:57.098Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ç¢ç¢å¿µ1"><a class="markdownIt-Anchor" href="#ç¢ç¢å¿µ1"></a> ç¢ç¢å¿µ1</h1><p>â€‹                                                                                                                                                                                                                                                                                                                                                                                    æœ‰æ—¶å€™æˆ‘çš„ä¸ªäºº æƒ…ç»ªç®—æ˜¯è›®éš¾æ§åˆ¶çš„ï¼Œä½†æ˜¯æˆ‘å´éšè—çš„å¾ˆå¥½ã€‚æˆ‘æ˜ç™½æœ‰äº›äº‹æƒ…åªæ˜¯å¾’å¢çƒ¦æ¼ï¼Œä½†æ˜¯äººå°±æ˜¯å¥‡æ€ªçš„ç”Ÿç‰©ï¼Œæ€»æ˜¯å–œæ¬¢åœ¨ä¸€äº›æ¯«æ— æ„ä¹‰çš„äº‹æƒ…ä¸Šåšæ— è°“çš„æŒ£æ‰ç»“æœä¹Ÿè®¸å¿…ç„¶ä¹Ÿæ˜¯æ¯«æ— æ„ä¹‰çš„å§ã€‚æ—¶å¸¸é™·å…¥å¥‡æ€ªçš„æƒ…ç»ªï¼Œæˆ‘ä¸è®¤ä¸ºè¿™äº›æƒ…ç»ªæ˜¯æ¶ˆæçš„ï¼Œä½†æ˜¾ç„¶ä¹Ÿä¸ç§¯æã€‚å¹´çºªå¤§äº†ã€é›¾ã€‘äººæ˜¯æ€æƒ³å°±åƒèŠ¦è‹‡è¶Šé•¿è¶Šæ·±ã€‚æœ‰çš„æ—¶å€™å› ä¸ºæ— æ‰€è°“çš„çäº‹é™·å…¥çƒ¦æ¼ï¼Œæœ‰çš„æ—¶å€™ä¹Ÿå› ä¸ºä¸€äº›å°äº‹è€Œçœ‰é£è‰²èˆã€‚æœ‰çš„æ—¶å€™ä¸ºäº†æ©é¥°è‡ªå·±çš„è¿·èŒ«ï¼Œå¿…é¡»åšæŒä¸‹å»ã€‚å—¯ï¼ï¼ï¼æˆ‘å·²ç»é•¿å¤§äº†ï¼Œæˆ‘è¿™æ ·è¯´ç€è¿™æ ·åšæŒç€ï¼Œæ®Šä¸çŸ¥åœ¨å¾ˆå¤šæ—¶å€™æˆ‘ä¾æ—§æƒ³å½“ä¸ªå­©å­ã€‚å¯æ˜¯æˆ‘ä¹Ÿæ˜ç™½æˆ‘æ—©å°±ä¸æ˜¯é‚£ä¸ªæ— å¿§æ— è™‘çš„å­©å­äº†ã€‚åœ¨æ²¡æœ‰å˜åŒ–çš„æ—¥å­é‡Œæˆ‘å¼€å§‹çƒ¦æ¼ï¼Œç”Ÿæ°”ï¼Œä¸çŸ¥æ‰€æªã€‚è‹¥ä»€ä¹ˆéƒ½åšä¸åˆ°ï¼Œå°±ä¼ªè£…è‡ªå·±å§ï¼Œå‡è£…æ²¡äº‹ä¸€æ ·ï¼Œå¯å½“æˆ‘å†æ¬¡å›å¤´ï¼Œå·²ç»æ²¡æœ‰ä¸€ä¸ç—•è¿¹ç•™ä¸‹ï¼Œå·²ç»æ‰¾ä¸åˆ°æ¥æ—¶çš„è·¯ã€‚åªèƒ½æ‘¸ç´¢ç€ç»§ç»­å‘å‰ã€‚è¿™æ˜¯æˆ‘æ‰€æœŸæœ›çš„å—ï¼Œææ€•è¿æˆ‘éƒ½ä¸æ¸…æ¥šã€‚ä½†æ˜¯é™¤æ­¤ä¹‹å¤–å·²ç»æ²¡æœ‰å…¶ä»–é€‰æ‹©äº†ã€‚å½“é€æ¸é•¿å¤§å¹¶ä¸”æˆç†Ÿ æˆ‘å”¯ä¸€èƒ½åšçš„å°±æ˜¯å‘Šè¯‰è‡ªå·±ï¼šä¿æŒè‡ªæˆ‘ï¼Œåˆ«é€ƒé¿ã€‚ã€ä»¥ä¸Šçº¯å±èƒ¡è¯´å…«é“ï¼ï¼ï¼ï¼ï¼ï¼ï¼ã€‘</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/%E5%9B%9B%E5%AD%A3/huoche.jpg" alt="" /></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;ç¢ç¢å¿µ1&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#ç¢ç¢å¿µ1&quot;&gt;&lt;/a&gt; ç¢ç¢å¿µ1&lt;/h1&gt;
&lt;p&gt;â€‹                                                                 </summary>
      
    
    
    
    <category term="ç¢ç¢å¿µ" scheme="https://blog.youmingsama.cn/categories/%E7%A2%8E%E7%A2%8E%E5%BF%B5/"/>
    
    
    <category term="ç¢ç¢å¿µ" scheme="https://blog.youmingsama.cn/tags/%E7%A2%8E%E7%A2%8E%E5%BF%B5/"/>
    
    <category term="ä¸çŸ¥é“åœ¨è®²å•¥" scheme="https://blog.youmingsama.cn/tags/%E4%B8%8D%E7%9F%A5%E9%81%93%E5%9C%A8%E8%AE%B2%E5%95%A5/"/>
    
  </entry>
  
  <entry>
    <title>ç¢ç¢å¿µ2</title>
    <link href="https://blog.youmingsama.cn/posts/58946629/"/>
    <id>https://blog.youmingsama.cn/posts/58946629/</id>
    <published>2020-03-08T00:00:00.000Z</published>
    <updated>2023-06-23T07:25:57.098Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ç¢ç¢å¿µ2"><a class="markdownIt-Anchor" href="#ç¢ç¢å¿µ2"></a> ç¢ç¢å¿µ2</h1><p>ç°åœ¨çš„æ—¶é—´æ˜¯22ï¼š12äº†ï¼Œç°åœ¨çš„æ—¶é—´æ˜¯22ç‚¹å¤šäº†</p><p>æ¯åˆ°è¿™ä¸ªç‚¹éƒ½æ„Ÿè§‰æœ‰ç‚¹ç–²æƒ«</p><p>è™½ç„¶æœ‰äº›ç´¯</p><p>ä½†æ˜¯å´å®Œå®Œå…¨å…¨æ²¡æœ‰è·å¾—åº”æœ‰çš„æ»¡è¶³æ„Ÿ</p><p>åè€Œæœ‰äº›ç„¦èºçš„æƒ…ç»ª</p><p>å¾ˆå¤šæ—¶å€™åŠªåŠ›å¾ˆå›æŠ¥å®Œå®Œå…¨å…¨æ˜¯ä¸å¯¹çš„ç­‰çš„</p><p>å›æŠ¥è¿™ç§ä¸œè¥¿ç”šè‡³å¾ˆå¤šæ—¶å€™éƒ½æ˜¾å¾—é‚£ä¹ˆä¸çœŸå®</p><p>åˆ°å¤´æ¥èµ¤è£¸è£¸çš„ç°å®å¤§æ¦‚å¯èƒ½ä¼šç‹ ç‹ å˜²ç¬‘è¿™ç§å®¶ä¼™</p><p>çœ‹æ¸…æ¥šäº†å—ï¼Œè¿™ç§æåº¦æ‰­æ›²ä¸å¹³è¡¡çš„ä¸œè¥¿å°±æ˜¯ä½ å”¯ä¸€çš„é€‰æ‹©</p><p>æ˜¯çš„</p><p>äººä¸€æ—¦é¥¿äº†å°±ä¼šä¸åœçš„æŠ±æ€¨è¿™ç§æ¯«æ— æ„ä¹‰çš„ç‹—å±åºŸè¯</p><p>å› ä¸ºè‚šå­å°†ä¸æ»¡æƒ…ç»ªä¼ ç»™å¤§è„‘äº†</p><p>ä½æ•ˆç‡çš„å­¦ä¹ </p><p>å’Œå¾ªç¯å¾€å¤çš„ä¸åœè¸©å‘çœŸçš„æœ‰äº›ç´¯äº†</p><p>å¾ˆå¤šæ—¶å€™éƒ½åœ¨æ€€ç–‘è‡ªå·±åˆ°åº•åœ¨ä»€ä¹ˆï¼Œæˆ‘ä¹Ÿæ˜ç™½å¾ˆå¤šäº‹æƒ…æ€¥ä¸æ¥ä½†æ˜¯æˆ‘å¯èƒ½æ˜¯çœŸçš„é¥¿äº†æ‰ä¼šåœ¨è¿™æ€è€ƒè¿™ç§ç™½ç—´é—®é¢˜å§ã€æ»‘ç¨½ã€‘</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/2702547923250827.jpg" alt="" /></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;ç¢ç¢å¿µ2&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#ç¢ç¢å¿µ2&quot;&gt;&lt;/a&gt; ç¢ç¢å¿µ2&lt;/h1&gt;
&lt;p&gt;ç°åœ¨çš„æ—¶é—´æ˜¯22ï¼š12äº†ï¼Œç°åœ¨çš„æ—¶é—´æ˜¯22ç‚¹å¤šäº†&lt;/p&gt;
&lt;p&gt;æ¯åˆ°è¿™ä¸ªç‚¹éƒ½æ„Ÿè§‰æœ‰ç‚¹ç–²æƒ«&lt;/p&gt;
&lt;p&gt;è™½ç„¶æœ‰äº›ç´¯&lt;/p&gt;
&lt;p&gt;ä½†</summary>
      
    
    
    
    <category term="ç¢ç¢å¿µ" scheme="https://blog.youmingsama.cn/categories/%E7%A2%8E%E7%A2%8E%E5%BF%B5/"/>
    
    
    <category term="ç¢ç¢å¿µ" scheme="https://blog.youmingsama.cn/tags/%E7%A2%8E%E7%A2%8E%E5%BF%B5/"/>
    
    <category term="ä¸çŸ¥é“åœ¨è®²å•¥" scheme="https://blog.youmingsama.cn/tags/%E4%B8%8D%E7%9F%A5%E9%81%93%E5%9C%A8%E8%AE%B2%E5%95%A5/"/>
    
  </entry>
  
  <entry>
    <title>æ ˆå­¦ä¸ä¼šå’‹åŠå˜›</title>
    <link href="https://blog.youmingsama.cn/posts/834bc38f/"/>
    <id>https://blog.youmingsama.cn/posts/834bc38f/</id>
    <published>2020-03-06T22:12:00.000Z</published>
    <updated>2023-06-23T07:25:57.098Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ ˆå­¦ä¸ä¼šå’‹åŠå˜›"><a class="markdownIt-Anchor" href="#æ ˆå­¦ä¸ä¼šå’‹åŠå˜›"></a> æ ˆå­¦ä¸ä¼šå’‹åŠå˜›</h1><p>å†™ç¯‡åšå®¢ä¹‹å‰æˆ‘å·²ç»é¸½äº†å¥½ä¹…ï¼Œå› ä¸ºåªå‡ å¤©ä¸€ç›´åœ¨æŠ˜è…¾githubå’Œä¸€äº›æ’ä»¶ï¼Œæ­£è§„çš„å­¦ä¹ ä¹Ÿé¸½äº†å¥½ä¹…ï¼Œä»Šå¤©åˆæ¸©ä¹ äº†ä¸€ä¸‹é“¾è¡¨æ„Ÿè§‰ä¹Ÿæœ‰å¥½å¤šå‘è¦å¡«ï¼Œæš‚æ—¶å°±å…ˆä¸å¡«äº†ï¼Œæ„Ÿè§‰éœ€è¦å¡«å¥½å¤šï¼Œæ‰€ä»¥æš‚æ—¶å°±å…ˆé¸½äº†å§ã€‚è¿™æ¬¡å†™åšå®¢æˆ‘è€è€å®å®çš„åŠ ä¸Šäº†dateæ ‡ç­¾ï¼Œå› ä¸ºæ˜¨å¤©æ™šä¸Šç”¨github actionè‡ªåŠ¨éƒ¨ç½²çš„æ—¶å€™ä¹‹å‰çš„æ›´æ–°è®°å½•å…¨ç»™æˆ‘æ¨å¹³äº†ï¼Œæ‰€ä»¥è¿™ç¯‡åšå®¢ä»¥å‰çš„æ›´æ–°æ—¶é—´å…¨æ˜¯æ˜¨å¤©æ™šä¸Šã€‚è¿˜æœ‰æƒ³è¦åæ§½çš„åœ°æ–¹æ˜¯ç”¨sshéªŒè¯çš„æ—¶å€™ä¸€ç›´éƒ½éƒ¨ç½²å¤±è´¥ï¼ŒæŠ˜è…¾äº†å‡ ä¸ªå°æ—¶è€å¿ƒåˆ°è¾¾æç‚¹çš„æƒ…å†µä¸‹æœæ–­é€‰æ‹©äº†tokenã€‚tokenå¤§æ³•å¥½ã€‚è¿˜æœ‰ä¹‹å‰ä¸ºäº†ç ´è§£è…¾è®¯çš„é˜²ç›—é“¾ä¹ŸèŠ±äº†ä¸å°‘æ—¶é—´ã€‚è¿™çœŸæ˜¯ä¸€ä¸ªéå¸¸æŠ˜ç£¨äººçš„è¿‡ç¨‹ã€‚è…¾è®¯æŠ åˆ°è¿è¹­ä¸ªå¤–é“¾éƒ½ä¸è¡Œäº†å—ã€‚</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/2702548106487285.jpg" alt="" /></p><h2 id="ä»€ä¹ˆæ˜¯æ ˆ"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆæ˜¯æ ˆ"></a> ä»€ä¹ˆæ˜¯æ ˆ</h2><p><code>æ ˆæ˜¯ä¸€ç§çº¿æ€§æ•°æ®ç»“æ„</code>,å­˜å‚¨ä»¥åŠæŸ¥æ‰¾æ•°æ®æ—¶åªèƒ½è®¿é—®æ ˆçš„ä¸€ç«¯ã€‚å½¢è±¡ç‚¹æ¥è¯´æ ˆç±»ä¼¼äºè‡ªåŠ©é¤å…ä¸­çš„ä¸€å ç›˜å­ï¼Œæ–°ç›˜å­å‘¢åœ¨æœ€ä¸Šé¢ï¼Œå»çš„æ—¶å€™ä¹Ÿæ˜¯ä»ä¸Šé¢å–ã€‚æœ€åæ”¾ä¸Šå»çš„ç›˜å­æ˜¯æœ€å…ˆè¢«å–èµ°çš„ç›˜å­ï¼Œå› æ­¤æ ˆè¢«ç§°ä¸ºåè¿›å…ˆå‡º<code>(LIFO,last in/first out)</code>ç»“æ„ã€‚æ ˆå¿…é¡»æœ‰ä¸€ä¸ªç›˜å­çš„æ—¶å€™æ‰èƒ½å–å‡ºç›˜å­ï¼Œåªæœ‰ç©ºé—´è¿˜å¤Ÿçš„æ—¶å€™ï¼ˆæ¯”å¦‚è¯´ç›˜å­æˆ‘è¿˜èƒ½åŠ ï¼Œä¸è¦åœä¸‹æ¥å•Šï¼‰ï¼Œæ‰èƒ½åŠ ä¸Šä¸€ä¸ªç›˜å­ã€‚å› æ­¤`å¯ä»¥æ”¹å˜æ ˆçš„çŠ¶æ€å’Œæ£€æµ‹æ ˆçš„çŠ¶æ€æ¥æ“ä½œå®šä¹‰æ ˆï¼Œè¿™äº›æ“ä½œåŒ…æ‹¬ï¼š</p><ul><li>clean()-------æ¸…ç©ºæ ˆ</li><li>isEmpty()------åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©º</li><li>push(el)------å°†leå…ƒç´ æ”¾åˆ°æ ˆçš„é¡¶éƒ¨</li><li>pop()-------å¼¹å‡ºæ ˆé¡¶å…ƒç´ </li><li>topEI-------è·å–æ ˆé¡¶éƒ¨å…ƒç´ ï¼Œä½†ä¸åˆ é™¤è¯¥å…ƒç´ </li></ul><h2 id="æ’å…¥"><a class="markdownIt-Anchor" href="#æ’å…¥"></a> æ’å…¥</h2><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/chrome-capt.gif" alt="" /></p><h2 id="åˆ é™¤"><a class="markdownIt-Anchor" href="#åˆ é™¤"></a> åˆ é™¤</h2><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/chrome-ca.gif" alt="" /></p><p>è¿™äº›éƒ½æ˜¯æ¯”è¾ƒç®€å•çš„å®ç°ï¼Œå¯¹äºæ ˆæ¥è¯´å¯æ“ä½œçš„åœ°æ–¹åªæœ‰æ ˆé¡¶ï¼Œå½“ç„¶æ ˆçš„åº”ç”¨æ¯”è¾ƒå¸¸è§çš„ä¸€ä¸ªå°±æ˜¯ç¨‹åºä¸­åŒ¹é…åˆ†éš”ç¬¦ï¼Œå½“ç„¶æˆ‘ä»¬å¸¸ç”¨çš„æµè§ˆå™¨çš„å‰è¿›å’Œåé€€ä¹Ÿæ˜¯ç”¨æ ˆå®ç°çš„ã€‚</p><h2 id="å…³äºæ‹¬å·åŒ¹é…"><a class="markdownIt-Anchor" href="#å…³äºæ‹¬å·åŒ¹é…"></a> å…³äºæ‹¬å·åŒ¹é…</h2><p>å¾ˆä¹…ä¹‹å‰å†™è¿‡ä¸€ç¯‡ï¼Œå®¹è®¸æˆ‘çŒ®ä¸Šæˆ‘æ‹™åŠ£çš„æºä»£ç </p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt; bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line">string str;</span><br><span class="line"><span class="type">int</span> sum=<span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> <span class="type">const</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin&gt;&gt;str;</span><br><span class="line">    <span class="type">int</span> len=str.<span class="built_in">size</span>();</span><br><span class="line">    stack &lt;<span class="type">char</span>&gt; ss;</span><br><span class="line">    <span class="type">char</span> ch;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;len ; ++i)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        ch=str[i];</span><br><span class="line">        <span class="keyword">if</span> (ch==<span class="string">&#x27;(&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line">            sum++;</span><br><span class="line">            ss.<span class="built_in">push</span>(ch);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (ch==<span class="string">&#x27;)&#x27;</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (ss.<span class="built_in">empty</span>())</span><br><span class="line">                &#123;</span><br><span class="line">                    cout&lt;&lt;<span class="string">&quot;NO&quot;</span>;</span><br><span class="line">                    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                ss.<span class="built_in">pop</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (ss.<span class="built_in">empty</span>()&amp;&amp;sum!=<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;YES&quot;</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span> cout&lt;&lt;<span class="string">&quot;NO&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ€»ä½“æ¥çœ‹å®ç°è¿˜æ˜¯éå¸¸ç®€å•çš„</p><p>é‚£ä¹ˆç°åœ¨æˆ‘ä»¬æ¥çœ‹çœ‹å…·ä½“çš„å®ç°æ˜¯ä»€ä¹ˆæ ·å­çš„</p><p>æ ˆæ—¢å¯ä»¥ç”¨æ•°ç»„å®ç°ï¼Œä¹Ÿå¯ä»¥ç”¨é“¾è¡¨æ¥å®ç°ã€‚ç”¨æ•°ç»„å®ç°çš„æ ˆï¼Œå«ä½œé¡ºåºæ ˆï¼Œç”¨é“¾è¡¨å®ç°çš„æ ˆï¼Œå«ä½œé“¾æ ˆã€‚è¿™é‡Œæˆ‘ä»¬ç”¨pyå®ç°ä¸€ä¸‹ï¼Œps:pyåŠåŠå­å‡ºå®¶çš„æŸäºº</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/2702547826743327.gif" alt="" /></p><ul><li><p>ç¤ºä¾‹ï¼šé¡ºåºæ ˆ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Stack</span>():</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,size</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;åˆå§‹åŒ–&quot;&quot;&quot;</span></span><br><span class="line">        self.size = size</span><br><span class="line">        self.num = <span class="number">0</span></span><br><span class="line">        self.stack = []</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">getSize</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;è·å–æ ˆçš„é•¿åº¦&quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">return</span> self.num</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">print_all</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;è¾“å‡ºæ ˆå…ƒç´ &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">for</span> s <span class="keyword">in</span> self.stack:</span><br><span class="line">            <span class="built_in">print</span> s</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">append_stack</span>(<span class="params">self,value</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;å…¥æ ˆ&quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> self.num &gt;= self.size:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;the stack is full&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.stack.append(value)</span><br><span class="line">            self.num += <span class="number">1</span></span><br><span class="line">   </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">pop_stack</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot; å‡ºæ ˆ&quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> self.num <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;the stack is empty&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.stack.remove(self.stack[-<span class="number">1</span>])</span><br></pre></td></tr></table></figure></li></ul><h3 id="å¤æ‚åº¦åˆ†æ"><a class="markdownIt-Anchor" href="#å¤æ‚åº¦åˆ†æ"></a> å¤æ‚åº¦åˆ†æ</h3><h4 id="ç©ºé—´å¤æ‚åº¦"><a class="markdownIt-Anchor" href="#ç©ºé—´å¤æ‚åº¦"></a> ç©ºé—´å¤æ‚åº¦</h4><p>æ— è®ºæ˜¯é¡ºåºæ ˆè¿˜æ˜¯é“¾æ ˆï¼Œå­˜å‚¨æ•°æ®åªéœ€è¦ä¸€ä¸ªå¤§å°ä¸ºnçš„æ•°ç»„ã€‚åœ¨å…¥æ ˆå’Œå‡ºæ ˆè¿‡ç¨‹ä¸­ï¼Œåªéœ€è¦ä¸€ä¸¤ä¸ªä¸´æ—¶å˜é‡å­˜å‚¨ç©ºé—´ï¼Œæ‰€ä»¥ç©ºé—´å¤æ‚åº¦ä¸º<code>O(1)</code>ã€‚</p><blockquote><p>æ³¨ï¼šå­˜å‚¨æ•°æ®éœ€è¦ä¸€ä¸ªå¤§å°ä¸ºnçš„æ•°ç»„ï¼Œå¹¶ä¸æ˜¯æŒ‡ç©ºé—´å¤æ‚åº¦å°±ä¸ºO(n)ã€‚å› ä¸ºï¼Œè¿™ n ä¸ªç©ºé—´æ˜¯å¿…é¡»çš„ï¼Œæ— æ³•çœæ‰ã€‚<br />æˆ‘ä»¬è¯´ç©ºé—´å¤æ‚åº¦çš„æ—¶å€™ï¼Œæ˜¯æŒ‡é™¤äº†åŸæœ¬çš„æ•°æ®å­˜å‚¨ç©ºé—´å¤–ï¼Œç®—æ³•è¿è¡Œè¿˜éœ€è¦çš„é¢å¤–çš„å­˜å‚¨ç©ºé—´ã€‚</p></blockquote><h4 id="æ—¶é—´å¤æ‚åº¦"><a class="markdownIt-Anchor" href="#æ—¶é—´å¤æ‚åº¦"></a> æ—¶é—´å¤æ‚åº¦</h4><p>ä¸ç®¡é¡ºåºæ ˆè¿˜æ˜¯é“¾æ ˆï¼Œå…¥æ ˆã€å‡ºæ ˆåªæ¶‰åŠæ ˆé¡¶ä¸ªåˆ«æ•°æ®çš„æ“ä½œï¼Œæ‰€ä»¥å¤æ‚åº¦ä¸º<code>O(1)</code>ã€‚</p><h4 id="æ”¯æŒåŠ¨æ€æ‰©å®¹çš„é¡ºåºæ ˆçš„å…¥æ ˆ-å‡ºæ ˆæ—¶é—´å¤æ‚åº¦åˆ†æ"><a class="markdownIt-Anchor" href="#æ”¯æŒåŠ¨æ€æ‰©å®¹çš„é¡ºåºæ ˆçš„å…¥æ ˆ-å‡ºæ ˆæ—¶é—´å¤æ‚åº¦åˆ†æ"></a> æ”¯æŒåŠ¨æ€æ‰©å®¹çš„é¡ºåºæ ˆçš„å…¥æ ˆã€å‡ºæ ˆæ—¶é—´å¤æ‚åº¦åˆ†æ</h4><p>å¯¹äºå‡ºæ ˆæ“ä½œæ¥è¯´ï¼Œä¸ä¼šæ¶‰åŠå†…å­˜çš„é‡æ–°ç”³è¯·å’Œæ•°æ®çš„æ¬ç§»ï¼Œæ‰€ä»¥å‡ºæ ˆçš„æ—¶é—´å¤æ‚åº¦ä»ç„¶æ˜¯ <code>O(1)</code>ã€‚ä½†æ˜¯ï¼Œå¯¹äºå…¥æ ˆæ“ä½œæ¥è¯´ï¼Œæƒ…å†µå°±ä¸ä¸€æ ·äº†ã€‚å½“æ ˆä¸­æœ‰ç©ºé—²ç©ºé—´æ—¶ï¼Œå…¥æ ˆæ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¸º <code>O(1)</code>ã€‚ä½†å½“ç©ºé—´ä¸å¤Ÿæ—¶ï¼Œå°±éœ€è¦é‡æ–°ç”³è¯·å†…å­˜å’Œæ•°æ®æ¬ç§»ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦å°±å˜æˆäº† <code>O(n)</code>ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºå…¥æ ˆæ“ä½œæ¥è¯´ï¼Œæœ€å¥½æƒ…å†µæ—¶é—´å¤æ‚åº¦æ˜¯ <code>O(1)</code>ï¼Œæœ€åæƒ…å†µæ—¶é—´å¤æ‚åº¦æ˜¯ <code>O(n)</code>ã€‚è€Œå¹³å‡æ—¶é—´å¤æ‚åº¦ï¼Œç”±æ‘Šè¿˜åˆ†ææ³•åˆ†æå¯çŸ¥ä¸º <code>O(1)</code>ã€‚</p><h2 id="å•Šçªç„¶æƒ³èµ·æ¥æ ˆè¿˜æœ‰ä¸€ä¸ªåº”ç”¨"><a class="markdownIt-Anchor" href="#å•Šçªç„¶æƒ³èµ·æ¥æ ˆè¿˜æœ‰ä¸€ä¸ªåº”ç”¨"></a> å•Šçªç„¶æƒ³èµ·æ¥æ ˆè¿˜æœ‰ä¸€ä¸ªåº”ç”¨</h2><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/2702547856525567.jpg" alt="" /></p><p>å¦‚æœä¸¤ä¸ªæ•°éå¸¸éå¸¸å¤§ï¼Œç”šè‡³è¶…è¿‡äº†long longï¼Œæˆ–è€…æ˜¯è¶…çº§è¶…çº§å¤§çš„æ•°ã€é›¾ã€‘ã€‚æˆ‘ä»¬å¯ä»¥ç”¨é«˜ç²¾åº¦ç®—æ³•æˆ–è€…ä½ ç†Ÿæ‚‰javaçš„BigIntegerã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œé«˜ç²¾åº¦å¥½éš¾ï¼Œjavaå®Œå…¨ä¸ç†Ÿæ‚‰å’‹åŠã€‚æ²¡æ¯›ç—…è€é“ï¼Œé«˜ç²¾åº¦ä¿ºä¹Ÿä¸ä¼šå†™ã€‚ä¸ç†Ÿæ‚‰javaï¼Ÿå’±è¿˜æœ‰è§£ï¼ï¼ï¼ï¼å¦‚æœè¯´æ•´å‹å˜é‡å®Œå…¨æ”¾ä¸ä¸‹ã€‚æˆ‘ä»¬å¯ä»¥ç”¨æ ˆæ¥è§£å†³</p><ul><li>æŠŠéå¸¸å¤§çš„å˜é‡çœ‹æˆä¸€ä¸²æ•°å­—</li><li>åˆ†åˆ«æ”¾åˆ°ä¸¤ä¸ªæ ˆä¸­</li><li>ç„¶åé‡æ ˆä¸­å¼¹å‡ºæ•°ï¼Œè¿›è¡ŒåŠ æ³•æ“ä½œ</li><li>è§£å†³</li></ul><p>ç»™å‡ºä¼ªä»£ç </p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">addingLargeNumberï¼ˆï¼‰</span><br><span class="line">è¯»ç¬¬ä¸€ä¸ªæ•°å­—ï¼Œå¹¶å°†è¿™ä¸ªæ•°å¯¹åº”çš„æ•°å­˜æ”¾åˆ°ä¸€ä¸ªæ ˆä¸­</span><br><span class="line">è¯»ç¬¬äºŒä¸ªæ•°å­—ï¼Œå¹¶å°†è¿™ä¸ªæ•°å¯¹åº”çš„æ•°å­˜æ”¾åˆ°å¦ä¸€ä¸ªæ ˆä¸­</span><br><span class="line">Carry=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(è‡³å°‘ä¸€ä¸ªæ ˆä¸ä¸ºç©º)</span><br><span class="line">    ä»æ¯ä¸ªéç©ºçš„æ ˆä¸­å¼¹å‡ºä¸€ä¸ªæ•°ï¼Œå¹¶å°†è¿™ä¸ªæ•°å­—ä¸Carryç›¸åŠ </span><br><span class="line">    è®²ä¸ªä½æ•°çš„ç»“æœæ”¾å…¥æ ˆä¸­;</span><br><span class="line">    å°†è¿›ä½æ”¾è¿›Carryä¸­;</span><br><span class="line">å¦‚æœè¿›ä½ä¸ä¸º<span class="number">0</span>ï¼›å°†å…¶æ”¾å…¥ç»“æœæ ˆä¸­;</span><br><span class="line">ä»ç»“æœæ ˆä¸­å¼¹å‡ºç»“æœå¹¶æ˜¾ç¤º;</span><br></pre></td></tr></table></figure><p>ç§ä¸‹ç”»ç”»æµç¨‹å›¾å°±å¾ˆå®¹æ˜“æ‡‚äº†</p><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/img1583054611615.jpeg" alt="" /></p><p>æ ˆçš„å†…å®¹å¤§æ¦‚å°±é‚£æ‘©ä¸€ç‚¹ç‚¹ã€é›¾ã€‘ã€‚å…·ä½“ä»£ç å®ç°å°±å®¹è®¸æˆ‘å…ˆé¸½äº†å§ï¼ï¼ï¼å—¯ï¼å°±é…±ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;æ ˆå­¦ä¸ä¼šå’‹åŠå˜›&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#æ ˆå­¦ä¸ä¼šå’‹åŠå˜›&quot;&gt;&lt;/a&gt; æ ˆå­¦ä¸ä¼šå’‹åŠå˜›&lt;/h1&gt;
&lt;p&gt;å†™ç¯‡åšå®¢ä¹‹å‰æˆ‘å·²ç»é¸½äº†å¥½ä¹…ï¼Œå› ä¸ºåªå‡ å¤©ä¸€ç›´åœ¨æŠ˜è…¾githubå’Œä¸€äº›æ’ä»¶ï¼Œæ­£è§„çš„å­¦ä¹ ä¹Ÿé¸½äº†å¥½ä¹…ï¼Œä»Šå¤©åˆæ¸©ä¹ äº†ä¸€ä¸‹é“¾è¡¨</summary>
      
    
    
    
    <category term="bugçš„ç‚¼é‡‘å·¥åŠ" scheme="https://blog.youmingsama.cn/categories/bug%E7%9A%84%E7%82%BC%E9%87%91%E5%B7%A5%E5%9D%8A/"/>
    
    
    <category term="data structure" scheme="https://blog.youmingsama.cn/tags/data-structure/"/>
    
  </entry>
  
  <entry>
    <title>æŒ‡é’ˆå­¦ä¸ä¼šå’‹åŠ</title>
    <link href="https://blog.youmingsama.cn/posts/a23bcc6c/"/>
    <id>https://blog.youmingsama.cn/posts/a23bcc6c/</id>
    <published>2020-03-05T00:00:00.000Z</published>
    <updated>2023-06-23T07:25:57.098Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æŒ‡é’ˆ"><a class="markdownIt-Anchor" href="#æŒ‡é’ˆ"></a> æŒ‡é’ˆ</h1><p>ä»Šå¤©æƒ³å¤ä¹ æŒ‡é’ˆå¹¶ä¸æ˜¯çªç„¶çš„æ–°é‹æ¥æ½®ï¼Œä¸»è¦æ˜¯TMçš„é“¾è¡¨å¤ªéš¾ï¼Œå®Œå…¨ä¸€è„¸æ‡µé€¼çš„çŠ¶æ€ï¼Œæçš„æˆ‘åªèƒ½è¢«è¿«å·å·å­¦ä¸€ä¸‹æŒ‡é’ˆå•Šï¼Œæˆ‘å¤ªéš¾äº†ï¼ŒæŒ‡é’ˆçœŸçš„å¯¹æˆ‘æ¥è¯´å°±æ˜¯é™æ™ºæ‰“å‡»ï¼ï¼ï¼ï¼</p><p><code>æŒ‡é’ˆå­¦ä¸ä¼šè¿˜å­¦å•¥ç©æ„cè¯­è¨€and c++å•Š  - - -å¤¹å‡»å¦¹æŠ–</code></p><p><img src="http://m.qpic.cn/psc?/V13PUOHK44wDVX/4pNOqgOvBLvj4yTC9qc55e0mGVMcgeULTf0Z*5tkl4b907WaKM4zWHeva6DFQs.h*53Qu961lZiS8ctmCr0EIW34uf1MYYjTljS7tt7oOlg!/b&amp;bo=zQIAA80CAAMRCT4!&amp;rf=viewer_4" alt="" /></p><h2 id="æ•°æ®-æŒ‡ä»¤å’Œå†…å­˜"><a class="markdownIt-Anchor" href="#æ•°æ®-æŒ‡ä»¤å’Œå†…å­˜"></a> æ•°æ®ã€æŒ‡ä»¤å’Œå†…å­˜</h2><p>åœ¨å†¯è¯ºä¾æ›¼ä½“ç³»ä¸­ï¼Œç¨‹åºçš„æ•°æ®å’ŒæŒ‡ä»¤ï¼Œæ˜¯å­˜æ”¾åœ¨åŒä¸€ç©ºé—´ä¸­çš„ã€‚åœ¨ Linux ä¸­ï¼Œå®ƒä»¬å­˜æ”¾åœ¨è¿›ç¨‹çš„è™šæ‹Ÿå†…å­˜ç©ºé—´ä¸­.å› æ­¤ï¼Œå¯¹äºè¿›ç¨‹æ¥è¯´ï¼Œæ•°æ®å’ŒæŒ‡ä»¤å…¶å®æ²¡æœ‰æœ¬è´¨çš„å·®åˆ«ï¼›å…¶åŒºåˆ«ä»…åœ¨äºå¦‚ä½•ç†è§£å’Œä½¿ç”¨è™šå­˜ç©ºé—´ä¸­çš„å†…å®¹â€”â€”å¦‚æœè¯»å–è™šå­˜ç©ºé—´æŸä¸ªä½ç½®çš„å€¼æ¥ä½¿ç”¨ï¼Œè¿™å—å†…å®¹å°±æ˜¯æ•°æ®ï¼Œå¦‚æœæ‰§è¡Œè™šå­˜ç©ºé—´æŸä¸ªä½ç½®çš„ä»£ç ï¼Œè¿™å—å†…å®¹å°±æ˜¯æŒ‡ä»¤ã€‚å†³å®šå¦‚ä½•ç†è§£å’Œä½¿ç”¨è™šå­˜ç©ºé—´ä¸­çš„å†…å®¹çš„å› ç´ ï¼Œæ˜¯ç±»å‹ã€‚å…·ä½“åˆ° C å’Œ C++ è¯­è¨€æ¥è¯´ï¼Œå¯¹åº”æ•°æ®çš„é‚£éƒ¨åˆ†å†…å­˜ï¼Œå½“ä¸­å­˜å‚¨çš„è‡ªç„¶å°±æ˜¯æ•°æ®ï¼›å¯¹åº”å‡½æ•°çš„é‚£éƒ¨åˆ†å†…å­˜ï¼Œå½“ä¸­å­˜å‚¨çš„å°±æ˜¯æŒ‡ä»¤ã€‚</p><p>å› æ­¤ï¼Œå¯¹äºè™šå­˜ç©ºé—´ä¸­çš„å†…å®¹æ¥è¯´ï¼Œæœ‰ä¸¤ä¸ªå…³é”®è¦ç´ ï¼š</p><ul><li>å®ƒåœ¨å“ªé‡Œï¼ˆå†…å­˜åœ°å€æ˜¯å¤šå°‘ï¼‰ï¼›</li><li>å®ƒå…·æœ‰å“ªäº›å±æ€§ã€èƒ½åšå“ªäº›äº‹æƒ…ï¼ˆå®ƒçš„ç±»å‹æ˜¯ä»€ä¹ˆï¼‰ã€‚</li><li>æ‰€ä»¥è¿™ä¸€ç‚¹æ¥è¯´æŒ‡é’ˆæœ‰ä¸¤ç§å±æ€§å†…å®¹å’Œä½ç½®</li></ul><h2 id="æŒ‡é’ˆæ˜¯å¯¹å†…å­˜åŒºåŸŸçš„æŠ½è±¡"><a class="markdownIt-Anchor" href="#æŒ‡é’ˆæ˜¯å¯¹å†…å­˜åŒºåŸŸçš„æŠ½è±¡"></a> æŒ‡é’ˆæ˜¯å¯¹å†…å­˜åŒºåŸŸçš„æŠ½è±¡</h2><p>C å’Œ C++ ä¸­çš„æŒ‡é’ˆï¼Œæ˜¯ä¸€ç§ç‰¹æ®Šçš„å¤åˆç±»å‹ã€‚æŒ‡é’ˆå˜é‡ä¸­å­˜æ”¾ç€ç›®æ ‡å¯¹è±¡çš„å†…å­˜åœ°å€ï¼Œè€Œä¸æŒ‡é’ˆç›¸å¤åˆçš„ç±»å‹ï¼Œåˆ™è¯´æ˜äº†ç›¸åº”å†…å­˜åŒºåŸŸä¸­çš„å†…å®¹å…·æœ‰å“ªäº›å±æ€§ï¼Œä»¥åŠèƒ½åšä»€ä¹ˆäº‹æƒ…ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨å†…å­˜ç©ºé—´æŸå—åŒºåŸŸä¸­çš„å†…å®¹ï¼ŒåŸæœ¬å¯ä»¥æ˜¯ä¸å¯è§£è¯»çš„ï¼›ä½†æ˜¯ï¼Œå¦‚æœæœ‰ä¸€ä¸ªæè¿°è¿™å—å†…å­˜åŒºåŸŸçš„æŒ‡é’ˆå­˜åœ¨ï¼Œæˆ‘ä»¬å°±èƒ½æ‰¾åˆ°å®ƒï¼ˆåœ°å€çš„ä½œç”¨ï¼‰ï¼Œå¹¶ä¸”<strong>åˆç†åœ°</strong>ä½¿ç”¨å®ƒï¼ˆç±»å‹çš„ä½œç”¨ï¼‰ã€‚å› æ­¤ï¼Œæˆ‘ä»¬è¯´ï¼š<strong>æŒ‡é’ˆæ˜¯å¯¹å†…å­˜åŒºåŸŸçš„æŠ½è±¡</strong>ã€‚è¿™æ ·è§£é‡Šæˆ‘æ„Ÿè§‰åº”è¯¥ä¸æŠ½è±¡äº†ã€‚</p><img src="http://m.qpic.cn/psc?/V13PUOHK44wDVX/4pNOqgOvBLvj4yTC9qc55YzPbP1X2ozNIs7OPbbuc28kvCBmNsWmWrutuOIVYZtCvx8FDdYWK1pNuLJrWZCTLVHzu0*zirJ3m1tX2Z3CoM4!/b&amp;bo=HAIcAhwCHAICGT0!&amp;rf=viewer_4" style="zoom:50%;" /><h2 id="å®šä¹‰å’Œä½¿ç”¨æŒ‡é’ˆ"><a class="markdownIt-Anchor" href="#å®šä¹‰å’Œä½¿ç”¨æŒ‡é’ˆ"></a> å®šä¹‰å’Œä½¿ç”¨æŒ‡é’ˆ</h2><h3 id="æŒ‡é’ˆçš„å®šä¹‰"><a class="markdownIt-Anchor" href="#æŒ‡é’ˆçš„å®šä¹‰"></a> æŒ‡é’ˆçš„å®šä¹‰</h3><p>åœ¨ C å’Œ C++ ä¸­å®šä¹‰æŒ‡é’ˆå˜é‡æ˜¯å¾ˆç®€å•çš„ï¼Œå’Œå®šä¹‰æ™®é€šçš„å˜é‡åŸºæœ¬æ˜¯ä¸€æ ·çš„ã€‚æ‰€æœ‰çš„åŒºåˆ«ï¼Œä»…åœ¨äºæˆ‘ä»¬éœ€è¦åœ¨å˜é‡åç§°å‰ä½¿ç”¨<strong>è§£å¼•ç”¨ç¬¦å· *</strong> æ¥æ ‡è®°è¿™æ˜¯ä¸€ä¸ªæŒ‡é’ˆã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> *ip1, *ip2;         <span class="comment">// ip1 å’Œ ip2 éƒ½æ˜¯æŒ‡å‘ int ç±»å‹å˜é‡çš„æŒ‡é’ˆå˜é‡</span></span><br><span class="line"><span class="type">double</span> d, *dp;          <span class="comment">// d æ˜¯ double ç±»å‹å˜é‡ï¼Œdp æ˜¯æŒ‡å‘ double ç±»å‹å˜é‡çš„æŒ‡é’ˆå˜é‡</span></span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šè¿°å®šä¹‰ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°ï¼Œ<code>ip1</code>, <code>ip2</code>, <code>dp</code> æ˜¯ä¸‰ä¸ªæŒ‡é’ˆâ€”â€”å› ä¸ºåœ¨å®ƒä»¬ä¹‹å‰ç”¨ <code>*</code> å·æ ‡è®°å¤„ä»–ä»¬æ˜¯æŒ‡é’ˆï¼›æ²¡é”™è¿™æ ·å°±å˜æˆäº†æŒ‡é’ˆï¼ï¼è€Œ <code>d</code> æ˜¯ä¸€ä¸ªæ™®é€šçš„ <code>double</code> ç±»å‹å˜é‡ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬æ³¨æ„åˆ°ï¼Œ<code>ip1</code> å’Œ <code>ip2</code> åœ¨å®šä¹‰ä¹‹æ—¶ï¼Œå°±ç¡®å®šäº†ä»–ä»¬æ˜¯æŒ‡å‘ <code>int</code> ç±»å‹çš„å˜é‡ã€‚è¿™æ„å‘³ç€ï¼Œè¢« <code>ip1</code> å’Œ <code>ip2</code> æŒ‡å‘çš„å†…å­˜ï¼Œ<strong>åœ¨ä½¿ç”¨ ip1 å’Œ ip2 è¿›è¡Œè®¿é—®çš„æ—¶å€™</strong>ï¼Œå°†è¢«å½“åšæ˜¯ <code>int</code> ç±»å‹çš„å¯¹è±¡æ¥å¯¹å¾…ã€‚åŒç†ï¼Œ<code>dp</code> æŒ‡å‘çš„å†…å­˜ï¼Œ<strong>åœ¨ä½¿ç”¨ dp è¿›è¡Œè®¿é—®çš„æ—¶å€™</strong>ï¼Œå°†è¢«å½“åšæ˜¯ <code>double</code> ç±»å‹çš„å¯¹è±¡æ¥å¯¹å¾…ã€‚</p><p><code>æ‰€ä»¥æ˜¯ç¡®å®šæ˜¯ä»€ä¹ˆç±»å‹çš„æŒ‡é’ˆéå¸¸é‡è¦</code>[æ‹¬å¼§]</p><p>å›é¡¾ä¸€ä¸‹ï¼Œæˆ‘ä»¬åœ¨å‡ åç§’å‰è¯´é“åˆ°ï¼Œå†…å­˜ç©ºé—´ä¸­çš„å†…å®¹æœ‰ä¸¤ä¸ªå…³é”®è¦ç´ ï¼šåœ°å€å’Œç±»å‹ã€‚åœ¨ä¸Šè¿°å®šä¹‰è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ç±»å‹ä¸è§£å¼•ç”¨ç¬¦å· <code>*</code> ç›¸ç»“åˆï¼Œå·²ç»ç¡®å®šäº†ç±»å‹ã€‚å¦‚æœè¦æ­£ç¡®ä½¿ç”¨æŒ‡é’ˆï¼Œæˆ‘ä»¬è¿˜åº”è¯¥è®©æŒ‡é’ˆè®°å½•ä¸€ä¸ªåœ°å€ã€‚ã€å†æ¬¡æ‹¬å¼§ã€‘</p><h3 id="è·å–å¯¹è±¡çš„åœ°å€"><a class="markdownIt-Anchor" href="#è·å–å¯¹è±¡çš„åœ°å€"></a> è·å–å¯¹è±¡çš„åœ°å€</h3><p>ä¸Šé¢è¯´åˆ°ï¼Œæˆ‘ä»¬åº”è¯¥åœ¨å®šä¹‰æŒ‡é’ˆä¹‹åï¼Œè®°å½•ä¸€ä¸ªåœ°å€ã€‚åœ¨ C å’Œ C++ ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨<strong>å–åœ°å€ç¬¦å· &amp;</strong> æ¥è·å–å¯¹è±¡çš„åœ°å€ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> val = <span class="number">42</span>;<span class="type">int</span> *p  = &amp;val;     <span class="comment">// &amp;val è¿”å›å˜é‡ val çš„åœ°å€ï¼Œè®°å½•åœ¨æŒ‡å‘ int ç±»å‹å˜é‡çš„æŒ‡é’ˆé‡Œ</span></span><br></pre></td></tr></table></figure><p>ï¼ˆç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå½“ç„¶é‚£å‰©ä¸‹çš„ç»å°éƒ¨åˆ†å°±æ˜¯æ•…æ„è€Œä¸ºä¹‹äº†ï¼‰æŒ‡é’ˆçš„ç±»å‹å’Œå¯¹è±¡çš„ç±»å‹éœ€è¦ä¸¥æ ¼åŒ¹é…ã€‚ä¾‹å¦‚ï¼Œä½ ä¸èƒ½ç”¨ä¸€ä¸ªæŒ‡å‘ <code>int</code> ç±»å‹çš„æŒ‡é’ˆå˜é‡ï¼Œä¿å­˜ä¸€ä¸ª <code>double</code> ç±»å‹çš„å¯¹è±¡çš„åœ°å€ã€‚åº”è¯¥ä¸ä¼šæœ‰äººçŠ¯è¿™æ ·çš„é”™è¯¯å§</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">double</span> dval = <span class="number">0.0</span>;<span class="type">double</span> *pd1 = &amp;dval;    <span class="comment">// æ­£ç¡®ï¼špd1 ä¿å­˜ double ç±»å‹å˜é‡ dval çš„åœ°å€</span></span><br><span class="line"><span class="type">double</span> *pd2 = pd1;      <span class="comment">// æ­£ç¡®ï¼špd1 æ˜¯ double ç±»å‹çš„æŒ‡é’ˆï¼Œå¯ä»¥èµ‹å€¼åˆå§‹åŒ–åŒæ ·ç±»å‹çš„ pd2</span></span><br><span class="line"><span class="type">int</span> *pi1 = &amp;dval;       <span class="comment">// é”™è¯¯ï¼šä¸èƒ½ç”¨æŒ‡å‘ int ç±»å‹å˜é‡çš„æŒ‡é’ˆä¿å­˜ double ç±»å‹å˜é‡çš„åœ°å€</span></span><br><span class="line"><span class="type">int</span> *pi2 = pd1;         <span class="comment">// é”™è¯¯ï¼špd1 æ˜¯ double ç±»å‹çš„æŒ‡é’ˆï¼Œä¸èƒ½å°†å…¶èµ‹å€¼ç»™ int ç±»å‹çš„æŒ‡é’ˆ</span></span><br></pre></td></tr></table></figure><h3 id="è®¿é—®æŒ‡é’ˆæŒ‡å‘çš„å¯¹è±¡"><a class="markdownIt-Anchor" href="#è®¿é—®æŒ‡é’ˆæŒ‡å‘çš„å¯¹è±¡"></a> è®¿é—®æŒ‡é’ˆæŒ‡å‘çš„å¯¹è±¡</h3><p>æŒ‡é’ˆ <code>p</code> è®°å½•äº†å˜é‡ <code>val</code> çš„åœ°å€ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è§£å¼•ç”¨æŒ‡é’ˆ <code>p</code> æ¥è®¿é—®å˜é‡ <code>val</code>ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> val = <span class="number">42</span>;</span><br><span class="line"><span class="type">int</span> *p  = &amp;val;         <span class="comment">// &amp;val è¿”å›å˜é‡ val çš„åœ°å€ï¼Œè®°å½•åœ¨æŒ‡å‘ int ç±»å‹å˜é‡çš„æŒ‡é’ˆé‡Œ</span></span><br><span class="line">cout &lt;&lt; *p &lt;&lt; endl;     <span class="comment">// é€šè¿‡æŒ‡é’ˆ p è®¿é—®å˜é‡ valï¼Œè¾“å‡º val çš„å€¼ï¼š42</span></span><br><span class="line">*p = <span class="number">360</span>;               <span class="comment">// é€šè¿‡æŒ‡é’ˆ p æ”¹å˜å˜é‡ val çš„å€¼ï¼Œ</span></span><br><span class="line">out &lt;&lt; *p &lt;&lt; endl;     <span class="comment">// é€šè¿‡æŒ‡é’ˆ p è®¿é—®å˜é‡ valï¼Œè¾“å‡º val çš„å€¼ï¼š360</span></span><br><span class="line">cout &lt;&lt; val &lt;&lt; endl;    <span class="comment">// è¾“å‡º val çš„å€¼ï¼š360</span></span><br></pre></td></tr></table></figure><p>æ‰€ä»¥è¯´æŒ‡é’ˆçƒ¦å°±çƒ¦åœ¨å¤ªæˆäº†ï¼Œå¾ˆå®¹æ˜“æŠŠäººç»•è¿›å»ï¼Œå¦‚æœä½ å¿˜äº†ä¹‹å‰æŒ‡é’ˆè®¿é—®è¿‡valï¼›é‚£è¿™é‡Œä½ å°±ç»å¯¹è¦å‡ºé”™äº†è€¶ï¼</p><h3 id="ç©ºæŒ‡é’ˆå’Œç©ºç±»å‹çš„æŒ‡é’ˆ"><a class="markdownIt-Anchor" href="#ç©ºæŒ‡é’ˆå’Œç©ºç±»å‹çš„æŒ‡é’ˆ"></a> ç©ºæŒ‡é’ˆå’Œç©ºç±»å‹çš„æŒ‡é’ˆ</h3><p>ç©ºæŒ‡é’ˆæ˜¯ä¸æŒ‡å‘ä»»ä½•å¯¹è±¡çš„æŒ‡é’ˆï¼Œåœ¨å®é™…ç¼–ç¨‹ä¸­ï¼Œé€šå¸¸ä½¿ç”¨ç©ºæŒ‡é’ˆä½œä¸ºæŒ‡é’ˆå˜é‡æœ‰æ•ˆæ€§çš„åˆ¤æ–­æ ‡å‡†ã€‚</p><p>C è¯­è¨€å’Œè€ç‰ˆæœ¬ C++ çš„ç©ºæŒ‡é’ˆå­—é¢å€¼æ˜¯ <code>NULL</code>ï¼Œå®ƒå®šä¹‰åœ¨ <code>stdlib</code> å½“ä¸­ï¼›æ–°ç‰ˆæœ¬(ä¹Ÿåªæ˜¯c<ins>11è€Œå·²)çš„ C</ins> ä½¿ç”¨ <code>nullptr</code> ä½œä¸ºç©ºæŒ‡é’ˆå­—é¢å€¼ã€‚è¯è¯´æˆ‘è¿˜ä¸€ç›´åœ¨ä½¿ç”¨NULL,æ˜¯çš„ä¿¡æ¯è½åä¸çˆ±å­¦ä¹ çš„è€çˆ·çˆ·æ˜¨å¤©æ™šä¸Šè¿˜åœ¨ç”¨ã€‚C++ è¿˜æ”¯æŒç”¨å­—é¢å€¼å¸¸é‡ <code>0</code> åˆå§‹åŒ–æŒ‡é’ˆå˜é‡ï¼Œè¢«è¿™æ ·åˆå§‹åŒ–çš„æŒ‡é’ˆå˜é‡ä¼šæ˜¯ä¸€ä¸ªç©ºæŒ‡é’ˆã€‚ï¼ˆè¿™ä¸ªæˆ‘å‡ ä¹éƒ½ä¸æ€ä¹ˆç”¨ï¼‰</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> *p1 = <span class="literal">NULL</span>;         <span class="comment">// C é£æ ¼çš„ç©ºæŒ‡é’ˆåˆå§‹åŒ–</span></span><br><span class="line"><span class="type">int</span> *p2 = <span class="literal">nullptr</span>;      <span class="comment">// C++ é£æ ¼çš„ç©ºæŒ‡é’ˆåˆå§‹åŒ–</span></span><br><span class="line"><span class="type">int</span> *p3 = <span class="number">0</span>;            <span class="comment">// ä½¿ç”¨å­—é¢å€¼å¸¸é‡ 0 åˆå§‹åŒ–ç©ºæŒ‡é’ˆ</span></span><br></pre></td></tr></table></figure><p><code>æ³¨æ„nullptrå’ŒNULLä»¥åŠ0åœ¨ä½œä¸ºæ¡ä»¶åˆ¤æ–­æ—¶å€¼éƒ½ä¸ºfalseï¼Œå®ƒä»¬ä¸¤ä¸¤ä¹‹é—´è¿›è¡Œç­‰äºï¼ˆ==ï¼‰åˆ¤æ–­æ—¶å€¼ä¸ºtrueã€‚</code></p><p>ç©ºç±»å‹çš„æŒ‡é’ˆï¼ŒæŒ‡çš„æ˜¯å½¢å¦‚ <code>void *pv</code> çš„æŒ‡é’ˆã€‚è¿™æ˜¯ä¸€ç±»ç‰¹æ®Šçš„æŒ‡é’ˆï¼›è¿™é‡Œçš„ç©ºç±»å‹ï¼Œä¸æ˜¯è¯´æ²¡æœ‰ç±»å‹ï¼Œè€Œæ˜¯è¯´ç©ºç±»å‹çš„æŒ‡é’ˆï¼Œå¯ä»¥ç”¨äºå­˜å‚¨ä»»æ„ç±»å‹å¯¹è±¡çš„åœ°å€ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">double</span> pi = <span class="number">3.14</span>;</span><br><span class="line"><span class="type">void</span> *pv = &amp;pi;     <span class="comment">// ä½¿ç”¨ void * å­˜æ”¾äº†ä¸€ä¸ª double ç±»å‹å¯¹è±¡çš„åœ°å€</span></span><br><span class="line"><span class="type">double</span> *pd = &amp;pi;</span><br><span class="line">pd = pv;            <span class="comment">// é”™è¯¯ï¼šä¸èƒ½å°†ç©ºç±»å‹çš„æŒ‡é’ˆèµ‹å€¼ç»™å…¶ä»–ç±»å‹çš„æŒ‡é’ˆ</span></span><br><span class="line">pv = pd;            <span class="comment">// æ­£ç¡®ï¼šç©ºç±»å‹çš„æŒ‡é’ˆå¯ä»¥æ¥å—ä»»æ„ç±»å‹çš„æŒ‡é’ˆèµ‹å€¼</span></span><br><span class="line">pd = (<span class="type">double</span> *)pv;  <span class="comment">// æ­£ç¡®ï¼šC é£æ ¼çš„å¼ºåˆ¶ç±»å‹è½¬æ¢</span></span><br><span class="line">pd = <span class="built_in">reinterpret_cast</span>&lt;<span class="type">double</span> *&gt;(pv); <span class="comment">// æ­£ç¡®ï¼šC++ é£æ ¼çš„å¼ºåˆ¶ç±»å‹è½¬æ¢</span></span><br></pre></td></tr></table></figure><p>è®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹æŒ‡é’ˆçš„ä¸¤ä¸ªè¦ç´ ï¼š<strong>åœ°å€å’Œç±»å‹ã€‚</strong>ï¼š<strong>åœ°å€å’Œç±»å‹ã€‚</strong>ï¼š<strong>åœ°å€å’Œç±»å‹ã€‚</strong>ï¼š<strong>åœ°å€å’Œç±»å‹ã€‚</strong>ï¼š**åœ°å€å’Œç±»å‹ã€‚**é‡è¦çš„äº‹æƒ…è¯´ä¸‰éã€‚ç”±äºç©ºç±»å‹çš„æŒ‡é’ˆå¯ä»¥æ¥å—ä»»æ„ç±»å‹å¯¹è±¡çš„åœ°å€ï¼Œæ‰€ä»¥ï¼Œå½“ç¼–è¯‘å™¨æ‹¿åˆ°ä¸€ä¸ªç©ºç±»å‹çš„æŒ‡é’ˆçš„æ—¶å€™ï¼Œå®ƒæ— æ³•çŸ¥é“åº”è¯¥æŒ‰ç…§ä½•ç§æ–¹å¼è§£é‡Šå’Œä½¿ç”¨æŒ‡é’ˆä¸­è®°å½•åœ°å€ä¸­çš„å†…å®¹ã€‚å› æ­¤ï¼Œç©ºç±»å‹æŒ‡é’ˆèƒ½å¤Ÿåšçš„äº‹æƒ…éå¸¸æœ‰é™ï¼šåšæŒ‡é’ˆä¹‹é—´çš„æ¯”è¾ƒã€ä½œä¸ºå‡½æ•°çš„è¾“å…¥æˆ–è¾“å‡ºã€èµ‹å€¼ç»™å¦å¤–ä¸€ä¸ªç©ºç±»å‹æŒ‡é’ˆã€‚</p><p><img src="http://m.qpic.cn/psc?/V13PUOHK44wDVX/4pNOqgOvBLvj4yTC9qc55eb*is7HaJ0gxBRO.L8sFL3uALb8LIG2CcHSbp0Mna2RtEjmBK0rtMmQnWiOF6MdG4okNrC0.bFawSf5BNSIgHU!/b&amp;bo=9AH0AfQB9AECCS0!&amp;rf=viewer_4" alt="" /></p><h2 id="ç†è§£æŒ‡é’ˆçš„å®šä¹‰"><a class="markdownIt-Anchor" href="#ç†è§£æŒ‡é’ˆçš„å®šä¹‰"></a> ç†è§£æŒ‡é’ˆçš„å®šä¹‰</h2><h3 id="å†æ¢æ¢æ¢å˜é‡å£°æ˜"><a class="markdownIt-Anchor" href="#å†æ¢æ¢æ¢å˜é‡å£°æ˜"></a> å†æ¢æ¢æ¢å˜é‡å£°æ˜</h3><p>åœ¨ C å’Œ C++ ä¸­ï¼Œå˜é‡çš„å£°æ˜åŒ…æ‹¬ä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹ï¼ˆæˆ–è€…ç±»ç±»å‹ï¼‰ï¼Œä»¥åŠä¸€ç»„å£°æ˜ç¬¦ã€‚å®šä¹‰æŒ‡é’ˆä½¿ç”¨çš„è§£å¼•ç”¨ç¬¦å· <code>*</code> æ˜¯ç±»å‹ä¿®é¥°ç¬¦ï¼Œå®ƒæ˜¯å£°æ˜ç¬¦çš„ä¸€éƒ¨åˆ†ã€‚å› æ­¤ï¼Œåœ¨ä¸‹åˆ—è¯­å¥ä¸­ï¼Œ<code>int</code> æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œ<code>*p</code> æ˜¯å£°æ˜ç¬¦ï¼Œ<code>*</code> æ˜¯ç±»å‹ä¿®é¥°ç¬¦ä½œä¸ºå£°æ˜ç¬¦çš„ä¸€éƒ¨åˆ†å­˜åœ¨ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> *p;</span><br></pre></td></tr></table></figure><p>åœ¨åŒä¸€ä¸ªå˜é‡å®šä¹‰è¯­å¥ä¸­ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹åªèƒ½æœ‰ä¸€ä¸ªï¼Œä½†æ˜¯å¯ä»¥æœ‰å¤šä¸ªå½¢å¼ç›¸åŒæˆ–ä¸åŒçš„å£°æ˜ç¬¦ã€‚è¿™ä¹Ÿå°±æ˜¯è¯´ï¼ŒåŒä¸€ä¸ªè¯­å¥å¯ä»¥å®šä¹‰å‡ºä¸åŒç±»å‹çš„å˜é‡ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// pi æ˜¯æŒ‡å‘ int å‹å˜é‡çš„æŒ‡é’ˆï¼›val æ˜¯ int å‹å˜é‡</span></span><br><span class="line"><span class="type">int</span> *pi = <span class="literal">nullptr</span>,    val = <span class="number">1024</span>;</span><br></pre></td></tr></table></figure><p><code>å°±åƒè¿™æ ·</code></p><h3 id="ç†è§£ç¨å¾®å¤æ‚çš„æŒ‡é’ˆå®šä¹‰"><a class="markdownIt-Anchor" href="#ç†è§£ç¨å¾®å¤æ‚çš„æŒ‡é’ˆå®šä¹‰"></a> ç†è§£ç¨å¾®å¤æ‚çš„æŒ‡é’ˆå®šä¹‰</h3><p>å› ä¸ºæŒ‡é’ˆæœ¬èº«ä¹Ÿæ˜¯å˜é‡ï¼Œæ‰€ä»¥å®ƒå½“ç„¶ä¹Ÿæ˜¯å­˜å‚¨åœ¨è™šå­˜ç©ºé—´é‡Œçš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å½“ç„¶ä¹Ÿå¯ä»¥å®šä¹‰ä¸€ä¸ªæŒ‡å‘è¿™ä¸€æŒ‡é’ˆçš„æŒ‡é’ˆã€‚æ¯”å¦‚ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> val  = <span class="number">1024</span>;</span><br><span class="line"><span class="type">int</span> *p   = &amp;val;</span><br><span class="line"><span class="type">int</span> **pp = &amp;p;</span><br></pre></td></tr></table></figure><p><code>**ppè¿™é‡Œæ˜¯ä¸æ˜¯çœ‹ä¸æ‡‚</code>çœ‹ä¸æ‡‚å°±å¯¹å•¦ï¼ï¼ï¼ï¼ï¼</p><p>æˆ‘ä»¬éœ€è¦ä»”ç»†ç†è§£ä¸€ä¸‹ <code>pp</code> çš„å®šä¹‰ã€‚ç†è§£è¿™ç±»ç¨å¾®å¤æ‚çš„å®šä¹‰è¯­å¥ï¼Œä¸€ä¸ªåŸºæœ¬çš„åŠæ³•å°±æ˜¯ï¼šä»æœ€é è¿‘å˜é‡åå­—çš„åœ°æ–¹å¼€å§‹ï¼Œä¸€å±‚ä¸€å±‚å‰–æå˜é‡çš„ç±»å‹ã€‚å°±é…±</p><ul><li>è·ç¦» <code>pp</code> æœ€è¿‘çš„æ˜¯ä¸€ä¸ªè§£å¼•ç”¨ç¬¦ <code>*</code>ï¼Œè¿™é¢„ç¤ºç€ <code>pp</code> æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œå®ƒæŒ‡å‘ <code>int *</code> ç±»å‹çš„å˜é‡ï¼›</li><li>å†æ¥çœ‹ <code>int *</code>ï¼Œè·ç¦» <code>*pp</code> æœ€è¿‘çš„ï¼Œä¾ç„¶æ˜¯ä¸€ä¸ªè§£å¼•ç”¨ç¬¦ï¼Œè¿™æ„å‘³ç€ <code>*pp</code> ä¹Ÿæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œå®ƒæŒ‡å‘ <code>int</code> ç±»å‹çš„å˜é‡ï¼›</li><li>å› æ­¤ <code>pp</code> æ˜¯ä¸€ä¸ª<strong>æŒ‡å‘æŒ‡å‘ int ç±»å‹å˜é‡çš„æŒ‡é’ˆçš„æŒ‡é’ˆ</strong>ã€‚</li></ul><blockquote><p>æ™•æ²¡æ™•ï¼ï¼ï¼æ™•æ²¡æ™•ï¼ï¼ï¼æ™•äº†å°±å¯¹å•¦ï¼ï¼ä½ å¯ä»¥åå¤æ™•å‡ é</p></blockquote><p><img src="http://r.photo.store.qq.com/psc?/V13PUOHK44wDVX/U3..NSiujzLMR7a*2QgXbQGLAfSemDLGYIR1qg5jvSHhriXLm3RdEARtaRjvz*dKPJVKKVwre7AzLC9VgbVwDg!!/r&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=xgDGAMYAxgARGS4!&amp;tl=3&amp;vuin=2080702939&amp;tm=1582970400&amp;sce=60-0-0&amp;rf=viewer_4" alt="" /></p><h2 id="const-ä¸æŒ‡é’ˆ"><a class="markdownIt-Anchor" href="#const-ä¸æŒ‡é’ˆ"></a> <code>const</code> ä¸æŒ‡é’ˆ</h2><p>å¸¸é‡çš„å€¼åœ¨ç”Ÿå­˜æœŸå†…ä¸å…è®¸æ”¹å˜ã€‚è¿™ä¸€ç‰¹æ€§ç»å¸¸æ˜¯æœ‰ç”¨çš„ï¼šå¯ä»¥å®šä¹‰ä¸€ä¸ªå¸¸é‡ï¼Œç„¶ååœ¨å¤šä¸ªåœ°æ–¹ä½¿ç”¨ï¼›å½“è®¤ä¸ºè¿™ä¸ªå¸¸é‡çš„å€¼ä¸åˆé€‚çš„æ—¶å€™ï¼Œä¿®æ”¹å®ƒçš„å®šä¹‰ï¼Œå³å¯åœ¨æ‰€æœ‰ä½¿ç”¨åˆ°å®ƒçš„åœ°æ–¹ç”Ÿæ•ˆï¼ˆè€Œæ— éœ€ä¾æ¬¡æ‰‹å·¥ä¿®æ”¹ï¼‰ï¼›æ­¤å¤–ï¼Œè¿˜å¯ä»¥é˜²æ­¢ç¨‹åºæ„å¤–ä¿®æ”¹è¿™ä¸ªå€¼ã€‚å®šä¹‰å¸¸é‡ï¼Œåªéœ€è¦åœ¨åŸºæœ¬ç±»å‹å‰ï¼ŒåŠ ä¸Š <code>const</code> å…³é”®å­—å³å¯ï¼›å®ƒæ˜¯ constant çš„ç¼©å†™ï¼Œæ„ä¸ºå¸¸é‡ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">double</span> pi = <span class="number">3.141592653580793</span>;</span><br></pre></td></tr></table></figure><p>å½“ <code>const</code> ä¸æŒ‡é’ˆç‰µæ‰¯åˆ°ä¸€èµ·ï¼Œå°±æœ‰äº›éš¾æäº†ã€‚è‡³å°‘æœ‰ä»¥ä¸‹å‡ ç§æƒ…å†µï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> val = <span class="number">0</span>;                <span class="comment">// int å‹å˜é‡</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> cnst = <span class="number">1</span>;         <span class="comment">// int å‹å¸¸é‡</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> *pi = &amp;val;                <span class="comment">// pi æœ¬èº«æ˜¯å˜é‡ï¼Œé€šè¿‡ pi è®¿é—®çš„ä¹Ÿæ˜¯å˜é‡ </span></span><br><span class="line">                              <span class="comment">// æ­£ç¡®ï¼šå°†å˜é‡åœ°å€èµ‹å€¼ç»™å˜é‡çš„æŒ‡é’ˆ                         </span></span><br><span class="line">pi = &amp;cnst;                  <span class="comment">// é”™è¯¯ï¼šä¸å…è®¸å°†å¸¸é‡çš„åœ°å€èµ‹å€¼ç»™å˜é‡çš„æŒ‡é’ˆ</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> *pci = &amp;cnst;     <span class="comment">// pci æœ¬èº«æ˜¯å˜é‡ï¼Œé€šè¿‡ pci è®¿é—®çš„æ˜¯å¸¸é‡ (point to const)                                              // æ­£ç¡®ï¼šå°†å¸¸é‡åœ°å€èµ‹å€¼ç»™å¸¸é‡çš„æŒ‡é’ˆ</span></span><br><span class="line">pci = &amp;val;               <span class="comment">// æ­£ç¡®ï¼šå…è®¸å°†å˜é‡åœ°å€èµ‹å€¼ç»™å¸¸é‡çš„æŒ‡é’ˆ</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> *<span class="type">const</span> cpi = &amp;val;      <span class="comment">// cpi æœ¬èº«æ˜¯å¸¸é‡ï¼Œé€šè¿‡ cpi è®¿é—®çš„æ˜¯å˜é‡</span></span><br><span class="line">                           <span class="comment">// æ­£ç¡®ï¼šå…è®¸å°†å˜é‡åœ°å€èµ‹å€¼ç»™å˜é‡çš„æŒ‡é’ˆ</span></span><br><span class="line"><span class="type">int</span> fake = <span class="number">2</span>;             <span class="comment">// int å‹å˜é‡</span></span><br><span class="line">cpi = &amp;fake;             <span class="comment">// é”™è¯¯ï¼šcpi æœ¬èº«æ˜¯å¸¸é‡ï¼Œä¸èƒ½åœ¨å®šä¹‰ä¹‹å¤–èµ‹å€¼</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> *<span class="type">const</span> cpci = &amp;val;         <span class="comment">// cpci æœ¬èº«æ˜¯å¸¸é‡ï¼Œé€šè¿‡ cpci è®¿é—®çš„ä¹Ÿæ˜¯å¸¸é‡                                                             // æ­£ç¡®ï¼šå…è®¸å°†å˜é‡åœ°å€èµ‹å€¼ç»™å¸¸é‡çš„æŒ‡é’ˆ</span></span><br><span class="line">cpci = &amp;fake;                        <span class="comment">// é”™è¯¯ï¼šcpci æœ¬èº«æ˜¯å¸¸é‡ï¼Œä¸èƒ½åœ¨å®šä¹‰ä¹‹å¤–èµ‹å€¼</span></span><br><span class="line">cpci = &amp;cnst;                       <span class="comment">// é”™è¯¯ï¼šcpci æœ¬èº«æ˜¯å¸¸é‡ï¼Œä¸èƒ½åœ¨å®šä¹‰ä¹‹å¤–èµ‹å€¼ï¼Œå“ªæ€•æ˜¯å¸¸é‡çš„åœ°å€</span></span><br></pre></td></tr></table></figure><p>å› ä¸ºå˜é‡å¯ä»¥æ˜¯å¸¸é‡ï¼Œè€ŒæŒ‡é’ˆæœ¬èº«ä¹Ÿå¯ä»¥æ˜¯å¸¸é‡ã€‚å› æ­¤åœ¨å˜é‡å’ŒæŒ‡é’ˆä¸¤ä¸ªç»´åº¦ï¼Œéƒ½å¯ä»¥é€‰æ‹©æ˜¯å¦ä¸ºå¸¸é‡ã€‚è¿™æ ·ä¸€æ¥ï¼Œå°±åƒä¸Šé¢ä»£ç å±•ç¤ºçš„é‚£æ ·ï¼Œå½“ <code>const</code> ä¸æŒ‡é’ˆç‰µæ‰¯åœ¨ä¸€èµ·çš„æ—¶å€™ï¼Œå°±æœ‰ 4 ä¸­å¯èƒ½æ€§ã€‚ä¸ºäº†åŒºåˆ†è¿™ä¸¤ä¸ªç»´åº¦ï¼Œæˆ‘ä»¬å¼•å…¥<strong>é¡¶å±‚ const</strong> å’Œ<strong>åº•å±‚ const</strong> çš„æ¦‚å¿µï¼ˆå…·ä½“å¯å‚è€ƒC++primerï¼‰ï¼š</p><ul><li>é¡¶å±‚ <code>const</code>ï¼šæŒ‡é’ˆæœ¬èº«æ˜¯å¸¸é‡ã€‚æ­¤æ—¶ï¼ŒæŒ‡é’ˆåœ¨å®šä¹‰åˆå§‹åŒ–ä¹‹å¤–ï¼Œä¸èƒ½è¢«èµ‹å€¼ä¿®æ”¹ã€‚ç§°æŒ‡é’ˆä¸ºæŒ‡é’ˆå¸¸é‡ã€‚</li><li>åº•å±‚ <code>const</code>ï¼šæŒ‡é’ˆæŒ‡å‘çš„å˜é‡æ˜¯å¸¸é‡ã€‚æ­¤æ—¶ï¼Œä¸èƒ½é€šè¿‡è§£å¼•ç”¨æŒ‡é’ˆçš„æ–¹å¼ï¼Œä¿®æ”¹å˜é‡çš„å€¼ã€‚ç§°æŒ‡é’ˆä¸ºå¸¸é‡çš„æŒ‡é’ˆã€‚</li></ul><h2 id="å–œé—»ä¹è§çš„æŒ‡é’ˆä¸æ•°ç»„"><a class="markdownIt-Anchor" href="#å–œé—»ä¹è§çš„æŒ‡é’ˆä¸æ•°ç»„"></a> å–œé—»ä¹è§çš„æŒ‡é’ˆä¸æ•°ç»„</h2><h3 id="æ•°ç»„çš„åå­—è¢«å½“åšæŒ‡é’ˆä½¿ç”¨"><a class="markdownIt-Anchor" href="#æ•°ç»„çš„åå­—è¢«å½“åšæŒ‡é’ˆä½¿ç”¨"></a> æ•°ç»„çš„åå­—è¢«å½“åšæŒ‡é’ˆä½¿ç”¨</h3><p>åœ¨ C å’Œ C++ ä¸­ï¼ŒæŒ‡é’ˆä¸æ•°ç»„æœ‰éå¸¸ç´§å¯†çš„è”ç³»ã€‚å®é™…ä¸Šï¼Œä½¿ç”¨æ•°ç»„çš„æ—¶å€™ï¼Œç¼–è¯‘å™¨é€šå¸¸éƒ½æ˜¯åœ¨æ“ä½œæŒ‡é’ˆã€‚è¿™é‡Œæˆ‘ä»¬ä»ä¸¤ä¸ªè§’åº¦è¯´æ˜æ•°ç»„ååœ¨å¾ˆå¤šæ—¶å€™è¢«å½“åšæ˜¯ä¸€ä¸ªæŒ‡é’ˆã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> nums[] = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;;</span><br><span class="line"><span class="type">int</span> *p = &amp;(nums[<span class="number">0</span>]);</span><br><span class="line"><span class="keyword">if</span> (p == nums) </span><br><span class="line">&#123;   </span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;true!\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">size_t</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i != <span class="number">3</span>; ++i)</span><br><span class="line">&#123;    </span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, p[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ æ‰§è¡Œè¿™ä¸€å°æ®µä»£ç ï¼Œé‚£ä¹ˆï¼Œä¸å‡ºæ„å¤–çš„è¯ï¼Œç¨‹åºä¼šåœ¨ç»ˆç«¯ä¸Šæ‰“å° <code>true!</code>ï¼Œä»¥åŠ <code>nums</code> ä¸­çš„ä¸‰ä¸ªæ•°å­—ã€‚è¿™é¢„ç¤ºç€ï¼ŒæŒ‡é’ˆå˜é‡ <code>p</code> ä¿å­˜çš„å†…å®¹ï¼ˆä¹Ÿå°±æ˜¯ <code>nums[0]</code> çš„åœ°å€ï¼‰å’Œ <code>nums</code> ä¿å­˜çš„å†…å®¹æ˜¯å®Œå…¨ä¸€æ ·å“’ï¼›åŒæ—¶ï¼Œç¼–è¯‘å™¨ä»¥ç›¸åŒçš„æ–¹å¼å»è§£é‡Š <code>p</code> å’Œ <code>nums</code>ã€‚æ˜¾ç„¶ <code>p</code> æ˜¯ä¸€ä¸ªæŒ‡å‘ <code>int</code> å‹å˜é‡çš„æŒ‡é’ˆï¼Œé‚£ä¹ˆ <code>nums</code> ä¹Ÿå°±æ˜¯ä¸€ä¸ªæŒ‡é’ˆäº†ã€‚emmmmè¿™æ ·è¯´æˆ‘è§‰å¾—å¾ˆæ¸…æ™°äº†ã€‚å¯¹å§ï¼ï¼ï¼</p><p><img src="http://m.qpic.cn/psc?/V13PUOHK44wDVX/4pNOqgOvBLvj4yTC9qc55fhd8EOvA6Hp7AZUtVVxL.MeVm2PUtb09ODthfawaWIc3ug6UxzQaHbMS6z36WrxlccQJQ6YrpxC1sPoC*588OI!/b&amp;bo=LQHWAC0B1gACCS0!&amp;rf=viewer_4" alt="" /></p><p>C++11 æ ‡å‡†å¼•å…¥äº† <code>auto</code> å…³é”®å­—ï¼Œå®ƒèƒ½å¤Ÿåœ¨å®šä¹‰å˜é‡æ—¶ï¼Œæ¢æµ‹åˆå§‹å€¼çš„ç±»å‹ï¼Œå¹¶ä¸ºæ–°å®šä¹‰çš„å˜é‡è®¾ç½®åˆé€‚çš„ç±»å‹ã€‚æˆ‘ä»¬çœ‹çœ‹ <code>auto</code> å…³é”®å­—ä½œç”¨äºæ•°ç»„åå­—çš„æ—¶å€™ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> nums[] = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;;</span><br><span class="line"><span class="keyword">auto</span> what = nums;</span><br><span class="line"><span class="type">int</span> val = <span class="number">42</span>;</span><br><span class="line">what = &amp;val;</span><br></pre></td></tr></table></figure><p>è¿™ä»½ä»£ç åœ¨ C++11 æ ‡å‡†ä¸­ï¼Œå¯ä»¥é¡ºåˆ©é€šè¿‡ã€‚è¿™è¯´æ˜ <code>what</code> çš„ç±»å‹ï¼Œç»ç”± <code>auto</code> æ£€æµ‹ï¼Œæ˜¯ <code>int *</code>ã€‚</p><p>ä»¥ä¸Šï¼Œè¶³ä»¥è¯´æ˜ï¼šå½“æ•°ç»„åå­—è¢«å½“åšæ˜¯ä¸€ä¸ªå€¼æ¥ä½¿ç”¨çš„æ—¶å€™ï¼Œå®ƒå°±ç›¸å½“äºæ˜¯ä¸€ä¸ªæŒ‡é’ˆã€‚</p><h3 id="ä½†æ˜¯ä½†æ˜¯ä¹Ÿä¸æ˜¯å…¨éƒ¨æ—¶å€™"><a class="markdownIt-Anchor" href="#ä½†æ˜¯ä½†æ˜¯ä¹Ÿä¸æ˜¯å…¨éƒ¨æ—¶å€™"></a> ä½†æ˜¯ï¼ï¼ä½†æ˜¯ï¼ï¼ä¹Ÿä¸æ˜¯å…¨éƒ¨æ—¶å€™</h3><p>å½“ç„¶ï¼Œä¹Ÿä¸æ˜¯å…¨éƒ¨æ—¶å€™ï¼Œæ•°ç»„åå­—éƒ½è¢«å½“åšæ˜¯ç®€å•çš„æŒ‡é’ˆã€‚æ¯”å¦‚ï¼Œåœ¨æ•°ç»„åå­—è¢«ä¼ å…¥ <code>sizeof()</code> è¿ç®—ç¬¦çš„æ—¶å€™ï¼Œå®ƒä¼šè¢«å½“åšæ˜¯ä¸€ä¸ªçœŸå®çš„æ•°ç»„æ¥çœ‹å¾…ã€‚</p><h3 id="æ•°ç»„æŒ‡é’ˆå¯ä»¥è‡ªå¢å“’"><a class="markdownIt-Anchor" href="#æ•°ç»„æŒ‡é’ˆå¯ä»¥è‡ªå¢å“’"></a> æ•°ç»„æŒ‡é’ˆå¯ä»¥è‡ªå¢å“’</h3><p>æ•°ç»„çš„æŒ‡é’ˆï¼Œå¯ä»¥åƒ C++ ä¸­ <code>std::vector</code> çš„è¿­ä»£å™¨é‚£æ ·è¿›è¡Œè‡ªå¢æ“ä½œã€‚è¿™å¥è¯ä¸æ˜¯å¤ªä¸¥è°¨ï¼Œå› ä¸ºï¼Œå®é™…ä¸Šæ˜¯å…ˆæœ‰æ•°ç»„çš„æŒ‡é’ˆï¼Œå†æœ‰ <code>std::vector</code> çš„è¿­ä»£å™¨ï¼›è¿­ä»£å™¨å®é™…ä¸Šæ˜¯ä»¿é€ æ•°ç»„çš„æŒ‡é’ˆè®¾è®¡çš„åŠŸèƒ½ã€‚</p><p>ä¹‹å‰æåˆ°ï¼Œæ•°ç»„çš„æŒ‡é’ˆï¼Œå®é™…ä¸Šæ˜¯ä¸€ä¸ªæŒ‡å‘æ•°ç»„å…ƒç´ ç±»å‹çš„å¯¹è±¡çš„æŒ‡é’ˆã€‚æ•°ç»„çš„æŒ‡é’ˆè¿›è¡Œè‡ªå¢ã€è‡ªå‡è¿ç®—ï¼Œå®é™…æ˜¯å°†æŒ‡é’ˆæ‰€æŒ‡çš„ä½ç½®ï¼Œæ²¿ç€æ•°ç»„å‘åæˆ–è€…å‘å‰ç§»åŠ¨ä¸€ä¸ªå…ƒç´ ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> nums[] = &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;;</span><br><span class="line"><span class="type">size_t</span> len = <span class="built_in">sizeof</span>(nums) / <span class="built_in">sizeof</span>(nums[<span class="number">0</span>]);</span><br><span class="line"><span class="type">int</span> *iter;<span class="type">int</span> *end = nums + len;     <span class="comment">// end æ˜¯å°¾åæŒ‡é’ˆ</span></span><br><span class="line"><span class="keyword">for</span> (iter = nums; iter != end; ++iter) &#123;  </span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, *iter);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åƒè¿™æ ·çš„ç”¨æ³•ï¼Œå°±å’Œ <code>std::vector</code> çš„è¿­ä»£å™¨å‡ ä¹æ²¡æœ‰å·®åˆ«äº†ã€‚</p><h3 id="æ•°ç»„æŒ‡é’ˆå¯ä»¥è¿›è¡ŒåŠ å‡è¿ç®—"><a class="markdownIt-Anchor" href="#æ•°ç»„æŒ‡é’ˆå¯ä»¥è¿›è¡ŒåŠ å‡è¿ç®—"></a> æ•°ç»„æŒ‡é’ˆå¯ä»¥è¿›è¡ŒåŠ å‡è¿ç®—</h3><p>æ•°ç»„çš„æŒ‡é’ˆè¿˜å¯ä»¥è¿›è¡ŒåŠ å‡è¿ç®—ã€‚æ¯”å¦‚ï¼Œåœ¨ä¸Šè¿°ä¾‹å­ä¸­ <code>iter += 2</code>ï¼Œå°±æ˜¯å°† <code>iter</code> æŒ‡é’ˆæ²¿ç€æ•°ç»„å‘åç§»åŠ¨ 2 ä¸ªå…ƒç´ ã€‚è¿™ä¸ªæˆ‘è§‰å¾—å¤§å¤šæ•°äººéƒ½åº”è¯¥å¾ˆæ¸…æ¥š</p><p>ä¸¤ä¸ªæŒ‡é’ˆå¦‚æœæŒ‡å‘åŒä¸€ä¸ªæ•°ç»„ä¸­çš„å…ƒç´ ï¼Œé‚£ä¹ˆå®ƒä»¬å¯ä»¥åšå·®ã€‚åšå·®å¾—åˆ°çš„ç»“æœæ˜¯ä¸¤ä¸ªæŒ‡é’ˆä¹‹é—´çš„è·ç¦»ï¼Œè¿™ä¸ªç»“æœå¯ä»¥æ˜¯è´Ÿæ•°ï¼ˆå®é™…ç±»å‹æ˜¯ <code>ptrdiff_t</code>ï¼‰ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸Šè¿°ä¾‹å­ä¸­åœ¨å¾ªç¯ä½“æœ«å°¾å¤„ï¼Œå¦‚æœè¿›è¡Œ <code>end - iter</code> è®¡ç®—ï¼Œåˆ™å…¶ç»“æœè¡¨ç¤ºå½“å‰å°šæœªæ‰“å°çš„å…ƒç´ çš„æ•°é‡ã€‚å­¦åˆ°äº†ï¼ï¼ï¼</p><h3 id="æ•°ç»„ä¸‹æ ‡ä¸æŒ‡é’ˆåŠ å‡"><a class="markdownIt-Anchor" href="#æ•°ç»„ä¸‹æ ‡ä¸æŒ‡é’ˆåŠ å‡"></a> æ•°ç»„ä¸‹æ ‡ä¸æŒ‡é’ˆåŠ å‡</h3><p>ä¸Šé¢æåˆ°ï¼Œæ•°ç»„æŒ‡é’ˆå¯ä»¥è¿›è¡ŒåŠ å‡è¿ç®—ï¼šæ•°ç»„æŒ‡é’ˆä¸æ•´æ•°çš„åŠ å‡ï¼Œå®é™…æ˜¯å°†æŒ‡é’ˆæ²¿ç€æ•°ç»„è¿›è¡Œç§»åŠ¨ï¼Œå¾—åˆ°çš„ç»“æœè¿˜æ˜¯ä¸€ä¸ªæŒ‡é’ˆã€‚æ—¢ç„¶ç»“æœæ˜¯æŒ‡é’ˆï¼Œé‚£ä¹ˆå°±å¯ä»¥è§£å¼•ç”¨ï¼Œè®¿é—®æ•°ç»„ä¸­çš„å…ƒç´ ã€‚å› æ­¤æœ‰</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> nums[] = &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;;</span><br><span class="line"><span class="type">size_t</span> len = <span class="built_in">sizeof</span>(nums) / <span class="built_in">sizeof</span>(nums[<span class="number">0</span>]);</span><br><span class="line"><span class="type">int</span> *p = nums;</span><br><span class="line"><span class="type">size_t</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i != len; ++i)</span><br><span class="line">&#123;    </span><br><span class="line"><span class="keyword">if</span> (nums[i] == *(p + i))</span><br><span class="line">&#123;     </span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;true!\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸å‡ºæ„å¤–çš„è¯ï¼Œä¼°è®¡ä¹Ÿæ²¡æœ‰æ„å¤–è¿™ä¸€å°æ®µä»£ç ä¼šè¿ç»­æ‰“å°äº”è¡Œ <code>true!</code>ã€‚è¿™æä¾›äº†å¦ä¸€ç§è®¿é—®æ•°ç»„å†…å…ƒç´ çš„æ–¹æ³•ï¼›è€Œäº‹å®ä¸Šï¼Œåœ¨ä½¿ç”¨ä¸‹æ ‡è®¿é—®æ•°ç»„å…ƒç´ çš„æ—¶å€™ï¼Œç¼–è¯‘å™¨éƒ½ä¼šè½¬æ¢æˆç±»ä¼¼ <code>*(nums + i)</code> çš„å½¢å¼ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé€šè¿‡æŒ‡é’ˆè¿ç®—å’Œè§£å¼•ç”¨æ¥è®¿é—®æ•°ç»„å…ƒç´ ï¼Œå…¶å®æ˜¯æ›´åŠ æœ¬è´¨çš„æ–¹å¼ã€‚</p><h2 id="å‡½æ•°ä¸æŒ‡é’ˆ"><a class="markdownIt-Anchor" href="#å‡½æ•°ä¸æŒ‡é’ˆ"></a> å‡½æ•°ä¸æŒ‡é’ˆ</h2><p>å‡½æ•°ä¸æŒ‡é’ˆï¼ŒåŸºæœ¬ä¸Šæ˜¯æŒ‡é’ˆç›¸å…³çš„è¯é¢˜ä¸­ï¼Œæœ€å¤æ‚çš„ä¸€ä¸ªäº†ã€‚é‚£æ²¡åŠæ³•å‘¢ï¼ï¼ï¼ä¸ä¼šå°±æ˜¯ä¸ä¼šï¼Œå®Œå…¨æ²¡å•†é‡äº†ã€é›¾ã€‘ï¼Ÿï¼Ÿé‚£å’‹åŠå•Šï¼Œæˆ‘å¥½æ–¹å•Šè°æ¥å¸®å¸®æˆ‘å•Šï¼</p><h3 id="è®©å‡½æ•°è¿”å›ä¸€ä¸ªæ•°ç»„çš„æŒ‡é’ˆ"><a class="markdownIt-Anchor" href="#è®©å‡½æ•°è¿”å›ä¸€ä¸ªæ•°ç»„çš„æŒ‡é’ˆ"></a> è®©å‡½æ•°è¿”å›ä¸€ä¸ªæ•°ç»„çš„æŒ‡é’ˆ</h3><p>æˆ‘ä»¬çŸ¥é“ï¼Œå‡½æ•°åœ¨è¿”å›çš„è¿‡ç¨‹ä¸­ï¼Œä¼šå¯¹è¿”å›å€¼è¿›è¡Œæ‹·è´ã€‚å› æ­¤ï¼Œä¸€ä¸ªæ— æ³•æ‹·è´çš„å¯¹è±¡ï¼Œæ˜¯æ— æ³•è¢«å‡½æ•°è¿”å›çš„ã€‚æ•°ç»„æ˜¯ä¸èƒ½è¢«æ‹·è´çš„ï¼Œæ‰€ä»¥å‡½æ•°æ— æ³•ç›´æ¥è¿”å›æ•°ç»„ã€‚ä¸ºäº†è¾¾åˆ°è¿”å›æ•°ç»„çš„ç›®çš„ï¼Œæˆ‘ä»¬åªèƒ½å¯„å¸Œæœ›äºè®©å‡½æ•°è¿”å›æ•°ç»„çš„æŒ‡é’ˆï¼ˆåœ¨ C++ ä¸­è¿˜å¯ä»¥è¿”å›æ•°ç»„çš„å¼•ç”¨ï¼‰ã€‚</p><p>ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£ï¼Œå¦‚ä½•å®šä¹‰ä¸€ä¸ªè¿”å›æ•°ç»„æŒ‡é’ˆçš„å‡½æ•°ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬çœ‹ä¸€ç»„æ•°ç»„çš„å®šä¹‰ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[<span class="number">10</span>];        <span class="comment">// arr æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œé•¿åº¦æ˜¯ 10ï¼Œå…ƒç´ ç±»å‹æ˜¯ int å‹</span></span><br><span class="line"><span class="type">int</span> *parr[<span class="number">10</span>];      <span class="comment">// parr æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œé•¿åº¦æ˜¯ 10ï¼Œå…ƒç´ ç±»å‹æ˜¯ int *ï¼Œä¹Ÿå°±æ˜¯æ•°ç»„ä¸­å­˜çš„æ˜¯æŒ‡é’ˆ</span></span><br><span class="line"><span class="built_in">int</span> (*p)[<span class="number">10</span>] = &amp;arr; </span><br><span class="line">                    <span class="comment">// p æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œå®ƒæŒ‡å‘ä¸€ä¸ªé•¿åº¦æ˜¯ 10 å…ƒç´ ç±»å‹æ˜¯ int å‹çš„æ•°ç»„</span></span><br></pre></td></tr></table></figure><p>okkè¿™æ ·ä¸€æ¥ï¼Œå°±ä¸éš¾æ„é€ è¿”å›æ•°ç»„çš„æŒ‡é’ˆçš„å‡½æ•°å®šä¹‰äº†ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> *(<span class="built_in">func</span>(param_list))[<span class="number">10</span>];                    </span><br><span class="line">                           <span class="comment">// é”™è¯¯ï¼šfunc æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œparam_list æ˜¯å®ƒçš„å‚æ•°                    </span></span><br><span class="line">                           <span class="comment">// å®ƒå°è¯•è¿”å›ä¸€ä¸ªé•¿åº¦ä¸º 10ï¼Œå…ƒç´ ç±»å‹ä¸º int * çš„æ•°ç»„                    </span></span><br><span class="line">                           <span class="comment">// è€Œæ•°ç»„æ˜¯æ— æ³•è¿”å›çš„</span></span><br><span class="line"><span class="built_in">int</span> (*<span class="built_in">func</span>(param_list))[<span class="number">10</span>];                  </span><br><span class="line">                           <span class="comment">// æ­£ç¡®ï¼šfunc æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œparam_list æ˜¯å®ƒçš„å‚æ•°                  </span></span><br><span class="line">                           <span class="comment">// å®ƒè¿”å›çš„æ˜¯ä¸€ä¸ªæŒ‡é’ˆ                    </span></span><br><span class="line">                           <span class="comment">// è¿™ä¸ªæŒ‡é’ˆæŒ‡å‘äº†ä¸€ä¸ªé•¿åº¦ä¸º 10 å…ƒç´ ç±»å‹æ˜¯ int å‹çš„æ•°ç»„</span></span><br></pre></td></tr></table></figure><p>äºæ˜¯ï¼Œæˆ‘ä»¬å¾—åˆ°äº†æ­¤ç±»å‡½æ•°å®šä¹‰çš„ä¸€èˆ¬å½¢å¼ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">element_type</span> (*<span class="built_in">func</span>(param_list))[dimension]</span><br></pre></td></tr></table></figure><p><code>å†™åˆ°è¿™è¿·è¿·ç³Šç³Šçš„è¿™é‡Œå¯¹äºæˆ‘æ¥è¯´æ¯”è¾ƒåƒåŠ›ï¼Œè‡³äºæˆ‘èƒ½ä¸èƒ½æ‡‚è¿™å°±æ˜¯ä¸ªæ¦‚ç‡äº‹ä»¶äº†</code></p><p><img src="http://m.qpic.cn/psc?/V13PUOHK44wDVX/4pNOqgOvBLvj4yTC9qc55ez8*4iZ96YnEaoAxIAGJWvt.Q6tVx5.gTFCOpHI.opDFHAH1XjkLh7zGXKVdxVdB.KtmWiAZ9yi41uD*l*u0io!/b&amp;bo=BgMWBAYDFgQRCT4!&amp;rf=viewer_4" alt="" /></p><h3 id="å‡½æ•°çš„æŒ‡é’ˆ"><a class="markdownIt-Anchor" href="#å‡½æ•°çš„æŒ‡é’ˆ"></a> å‡½æ•°çš„æŒ‡é’ˆ</h3><blockquote><p>ç»ˆäºæ°´åˆ°è¿™äº†</p></blockquote><p>ä¹‹å‰æåˆ°ï¼Œæ— è®ºæ˜¯æ•°æ®ï¼ˆå˜é‡ï¼‰è¿˜æ˜¯æŒ‡ä»¤ï¼ˆå‡½æ•°ï¼‰ï¼Œéƒ½æ˜¯å­˜æ”¾åœ¨è™šå­˜ç©ºé—´çš„ã€‚å› æ­¤ï¼Œæ—¢ç„¶æœ‰å˜é‡çš„æŒ‡é’ˆï¼Œé‚£ä¹ˆä¹Ÿä¸€å®šä¼šæœ‰å‡½æ•°çš„æŒ‡é’ˆã€‚è¿™å°±æ˜¯æˆ‘ä»¬è¿™ä¸€å°èŠ‚éœ€è¦è®¨è®ºçš„å‡½æ•°æŒ‡é’ˆï¼›è¿™ä¼šé€æ¸å¼•å‡ºæœ¬æ–‡æœ€å¤æ‚çš„è¯é¢˜ã€‚ã€å®³æ€•.jpgã€‘</p><p>ä¸€ä¸ªå‡½æ•°çš„ç±»å‹ï¼Œå–å†³äºå®ƒçš„è¾“å…¥å’Œè¾“å‡ºã€‚è¿™ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€ä¸ªå‡½æ•°çš„ç±»å‹ï¼Œåº”å½“åŒ…å«å®ƒçš„è¿”å›å€¼ç±»å‹å’Œå‚æ•°åˆ—è¡¨ã€‚æ¯”å¦‚ä¸‹é¢å®šä¹‰çš„å‡½æ•°ï¼Œç”¨äºæ¯”è¾ƒä¸¤ä¸ª <code>int</code> å‹æ•°æ®æ˜¯å¦ç›¸ç­‰ï¼ˆè¿™æ˜¯ä¸€ä¸ªä»…ç”¨äºç¤ºä¾‹è€Œæ²¡æœ‰å®é™…ç”¨å¤„çš„å‡½æ•°ï¼‰ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">isEqual</span><span class="params">(<span class="type">int</span>, <span class="type">int</span>)</span></span>;</span><br></pre></td></tr></table></figure><p>å¯¹äºä¸€ä¸ªå‡½æ•°æ¥è¯´ï¼Œå¦‚æœä½ èƒ½æ‹¿åˆ°å®ƒçš„å®šä¹‰ï¼Œå°±å¾ˆå®¹æ˜“èƒ½å–å¾—å®ƒçš„ç±»å‹ï¼šåªéœ€è¦å»æ‰å‡½æ•°åå­—å°±å¯ä»¥äº†ã€‚å› æ­¤ï¼Œå®šä¹‰ä¸€ä¸ªæŒ‡å‘è¯¥ç±»å‹çš„å‡½æ•°æŒ‡é’ˆï¼Œå¹¶ä¸å›°éš¾ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">bool isEqual(int, int);</span><br><span class="line">bool (*pfunc)(int, int) = &amp;isEqual;     // å®šä¹‰äº†ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆï¼ŒæŒ‡å‘ isEqual</span><br><span class="line">bool (*pfunc)(int, int) = isEqual;      // ä¸€ä¸ªç­‰ä»·å®šä¹‰</span><br></pre></td></tr></table></figure><p>åœ¨è¿™é‡Œï¼Œ<code>pfunc</code> å°±æ˜¯ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆï¼Œå®ƒæŒ‡å‘ä¸€ä¸ª <code>bool (int, int)</code> ç±»å‹çš„å‡½æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ç±»å‡½æ•°æ¥æ”¶ä¸¤ä¸ª <code>int</code> å‹çš„å‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ª <code>bool</code> ç±»å‹çš„å€¼ã€‚</p><p>å€¼å¾—ä¸€æçš„æ˜¯ï¼Œå½“å‡½æ•°åå­—ä½œä¸ºå€¼ä½¿ç”¨æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨åœ°è½¬æ¢æˆæŒ‡é’ˆï¼ˆæœ‰ç‚¹åƒæ•°ç»„åå­—ï¼Œä¸æ˜¯å—ï¼‰ã€‚å› æ­¤ï¼Œåœ¨å‡½æ•°æŒ‡é’ˆçš„åˆå§‹åŒ–æˆ–è€…å¤åˆ¶çš„è¿‡ç¨‹ä¸­ï¼Œå–å€¼è¿ç®—ç¬¦æ˜¯å¯é€‰çš„ã€‚äºæ˜¯ï¼Œä¸Šè¿°ä¸¤ä¸ªå®šä¹‰è¯­å¥æ˜¯ç­‰ä»·çš„ã€‚å¦ä¸€æ–¹é¢ï¼Œå‡½æ•°æŒ‡é’ˆä½œä¸ºå‡½æ•°è°ƒç”¨ä½¿ç”¨æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨è½¬æ¢æˆå‡½æ•°åï¼ˆæœ‰ç‚¹åƒæ•°ç»„æŒ‡é’ˆï¼Œä¸æ˜¯å—ï¼‰ã€‚å› æ­¤ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œè§£å¼•ç”¨è¿ç®—ç¬¦æ˜¯å¯é€‰çš„ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">isEqual</span><span class="params">(<span class="type">int</span>, <span class="type">int</span>)</span></span>;</span><br><span class="line"><span class="built_in">bool</span> (*pfunc)(<span class="type">int</span>, <span class="type">int</span>) = isEqual;</span><br><span class="line"><span class="type">bool</span> res1 = <span class="built_in">isEqual</span>(<span class="number">1</span>, <span class="number">2</span>);  <span class="comment">// é€šè¿‡åŸå‡½æ•°åè°ƒç”¨</span></span><br><span class="line"><span class="type">bool</span> res2 = (*pfunc)(<span class="number">1</span>, <span class="number">2</span>); <span class="comment">// ä¸€ä¸ªç­‰ä»·è°ƒç”¨ï¼šé€šè¿‡å‡½æ•°æŒ‡é’ˆï¼Œè§£å¼•ç”¨è°ƒç”¨</span></span><br><span class="line"><span class="type">bool</span> res3 = <span class="built_in">pfunc</span>(<span class="number">1</span>, <span class="number">2</span>);    <span class="comment">// å¦ä¸€ä¸ªç­‰ä»·è°ƒç”¨ï¼šå‡½æ•°æŒ‡é’ˆè‡ªåŠ¨è½¬æ¢æˆå‡½æ•°å</span></span><br></pre></td></tr></table></figure><p>å€¼å¾—ä¸€æçš„æ˜¯ï¼Œä¸åŒç±»å‹çš„å‡½æ•°çš„æŒ‡é’ˆä¹‹é—´ï¼Œä¸å­˜åœ¨ä»»ä½•çš„ç±»å‹è½¬æ¢ï¼šä½ ä¸èƒ½æœŸå¾…ä¸€ä¸ªæ¥å—ä¸¤ä¸ª <code>int</code> å‹å‚æ•°å¹¶è¿”å› <code>bool</code> å€¼çš„å‡½æ•°çš„æŒ‡é’ˆï¼Œç»è¿‡ç±»å‹è½¬æ¢ï¼Œå°±èƒ½æ¥å—ä¸‰ä¸ª <code>int</code> å‹çš„å‚æ•°ã€‚å› æ­¤ï¼Œå¯¹äºé‡è½½çš„åŒåå‡½æ•°ï¼Œä»–ä»¬çš„å‡½æ•°ç±»å‹æ˜¯ä¸ä¸€æ ·çš„ï¼Œå› æ­¤å‡½æ•°æŒ‡é’ˆä¹Ÿä¸èƒ½æ˜¯åŒä¸€ä¸ªã€‚</p><h3 id="å°†å‡½æ•°æŒ‡é’ˆä½œä¸ºå‚æ•°ä¼ å…¥å¦ä¸€ä¸ªå‡½æ•°"><a class="markdownIt-Anchor" href="#å°†å‡½æ•°æŒ‡é’ˆä½œä¸ºå‚æ•°ä¼ å…¥å¦ä¸€ä¸ªå‡½æ•°"></a> å°†å‡½æ•°æŒ‡é’ˆä½œä¸ºå‚æ•°ä¼ å…¥å¦ä¸€ä¸ªå‡½æ•°</h3><p>åœ¨ä¼ å‚çš„è¿‡ç¨‹ä¸­ï¼ˆé™¤äº† C++ çš„ä¼ å¼•ç”¨ï¼‰ï¼Œä¹Ÿæ˜¯ä¼´éšç€æ‹·è´çš„è¿‡ç¨‹ã€‚å› æ­¤ï¼Œä¸€ä¸ªå¯¹è±¡å¦‚æœä¸èƒ½æ‹·è´ï¼Œé‚£ä¹ˆå®ƒå°±ä¸èƒ½ä½œä¸ºå‚æ•°ä¼ å…¥å‡½æ•°ã€‚æ— ç–‘ï¼Œå‡½æ•°æ˜¯ä¸èƒ½æ‹·è´çš„ï¼Œå› æ­¤ä½ æ— æ³•å°†å‡½æ•°ä½œä¸ºå‚æ•°ç›´æ¥ä¼ ç»™å¦ä¸€ä¸ªå‡½æ•°ã€‚ä½†æ˜¯ï¼ŒæŒ‡é’ˆæ˜¯å¯ä»¥æ‹·è´çš„ï¼Œå› æ­¤ï¼Œä½ å¯ä»¥å°†å‡½æ•°æŒ‡é’ˆä½œä¸ºå‚æ•°ï¼Œä¼ ç»™å¦ä¸€ä¸ªå‡½æ•°ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">addIfEqual</span><span class="params">(<span class="type">int</span> lhs, <span class="type">int</span> rhs, <span class="type">bool</span> pfunc(<span class="type">int</span>, <span class="type">int</span>))</span></span>; </span><br><span class="line">                                  <span class="comment">// addIfEqual çš„ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°å®šä¹‰                           </span></span><br><span class="line">                                  <span class="comment">// å®ƒä¼šè‡ªåŠ¨åœ°è½¬æ¢æˆä¸€ä¸ªå‡½æ•°æŒ‡é’ˆçš„å‚æ•°</span></span><br><span class="line"> <span class="function"><span class="type">void</span> <span class="title">addIfEqual</span><span class="params">(<span class="type">int</span> lhs, <span class="type">int</span> rhs, <span class="type">bool</span> (*pfunc)(<span class="type">int</span>, <span class="type">int</span>))</span></span>;                           </span><br><span class="line">                                 <span class="comment">// ä¸€ä¸ªç­‰ä»·å®šä¹‰ï¼šæ˜¾å¼åœ°æ³¨æ˜ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯å‡½æ•°æŒ‡é’ˆ</span></span><br></pre></td></tr></table></figure><p>äºæ˜¯ï¼Œä½ å¯ä»¥è¿™æ ·ä½¿ç”¨è¿™ä¸ªå‡½æ•°ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">addIfEqual</span>(<span class="number">1</span>, <span class="number">1</span>, isEqual);</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ï¼Œå‡½æ•°å <code>isEqual</code> ä½œä¸ºå¼•æ•°è¢«ä¼ å…¥ï¼Œå®ƒèµ·åˆ°çš„æ˜¯ã€Œå€¼ã€çš„ä½œç”¨ã€‚å› æ­¤ï¼Œ<code>isEqual</code> è¢«è‡ªåŠ¨åœ°è½¬æ¢æˆæŒ‡å‘è¯¥å‡½æ•°çš„æŒ‡é’ˆã€‚</p><h3 id="è®©å‡½æ•°è¿”å›ä¸€ä¸ªå‡½æ•°çš„æŒ‡é’ˆ"><a class="markdownIt-Anchor" href="#è®©å‡½æ•°è¿”å›ä¸€ä¸ªå‡½æ•°çš„æŒ‡é’ˆ"></a> è®©å‡½æ•°è¿”å›ä¸€ä¸ªå‡½æ•°çš„æŒ‡é’ˆ</h3><p>åŒæ ·åœ°ï¼Œä¸æ•°ç»„ç±»ä¼¼ï¼Œè™½ç„¶æˆ‘ä»¬æ— æ³•è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥è¿”å›ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆã€‚æˆ‘ä»¬å›åˆ° <code>isEqual</code> çš„å‡½æ•°æŒ‡é’ˆçš„å®šä¹‰ä¸Šæ¥ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">bool</span> (*pfunc)(<span class="type">int</span>, <span class="type">int</span>) = isEqual;</span><br></pre></td></tr></table></figure><p>åœ¨è¿™é‡Œï¼Œ<code>pfunc</code> æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œå®ƒæŒ‡å‘äº†ä¸€ä¸ªå‡½æ•°ï¼›è¯¥å‡½æ•°æ¥æ”¶ä¸¤ä¸ª <code>int</code> å‹å‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ª <code>bool</code> å€¼ã€‚å› æ­¤ï¼Œä»¿é€ ä¹‹å‰ã€Œè¿”å›æ•°ç»„æŒ‡é’ˆçš„å‡½æ•°çš„å®šä¹‰å½¢å¼ã€ï¼Œæˆ‘ä»¬ä¸éš¾å¾—å‡ºï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">outer_return_type</span> (*<span class="built_in">func</span>(param_list))(outer_param_list)</span><br></pre></td></tr></table></figure><p>è¿™é‡Œï¼Œ<code>func(param_list)</code> æ˜¯å½“å‰éœ€è¦å®šä¹‰çš„å‡½æ•°ï¼›<code>outer_return_type</code> å’Œ <code>outer_param_list</code> åˆ†åˆ«æ˜¯å½“å‰å®šä¹‰çš„å‡½æ•°è¿”å›çš„å‡½æ•°æŒ‡é’ˆå¯¹åº”å‡½æ•°çš„è¿”å›å€¼ç±»å‹å’Œå‚æ•°åˆ—è¡¨ã€‚</p><p><code>å¾ˆéš¾å¯¹å§ï¼Œæˆ‘ä¹Ÿæ˜¯è¿™æ ·æ„Ÿè§‰çš„</code></p><p><strong>åˆ«æ€¥è¿˜æ²¡å®Œ</strong></p><h2 id="ç™»å³°é€ æçš„-void0"><a class="markdownIt-Anchor" href="#ç™»å³°é€ æçš„-void0"></a> ç™»å³°é€ æçš„ <code>(*(void(*)())0)();</code></h2><p>è¿™ææ€•æ˜¯ä¸€ä¸ªä¼šä»¤æ‰€æœ‰ C/C++ ç¨‹åºå‘˜æˆ˜æ —ä¸å·²çš„å‡½æ•°è°ƒç”¨è¯­å¥ã€‚å› æ­¤ï¼Œåœ¨è§£é‡Šè¿™ä¸ªè¯­å¥ä¹‹å‰ï¼Œæˆ‘æ„¿æ„å…ˆç»™å‡ºå®ƒçš„å«ä¹‰ï¼Œå®‰æŠšå„ä½æˆ˜æ —çš„å¿ƒçµã€‚å®ƒè¡¨ç¤ºï¼š<strong>è®¿é—®å†…å­˜åœ°å€ 0ï¼Œå°†å®ƒä½œä¸ºä¸€ä¸ªå‚æ•°åˆ—è¡¨å’Œè¿”å›ç±»å‹å‡ä¸ºç©ºçš„å‡½æ•°ï¼Œå¹¶æ‰§è¡Œå‡½æ•°è°ƒç”¨</strong>ã€‚ï¼ˆè¿™æ˜¯ä¸€ä¸ªç‰¹æ®Šåœºæ™¯ä¸‹çš„å‡½æ•°è°ƒç”¨ï¼Œä¸ç”¨çº ç»“ä¸ºä»€ä¹ˆä¼šè°ƒç”¨ <code>0</code> ä½ç½®ä¸Šçš„å‡½æ•°ï¼‰</p><h3 id="ç±»å‹å®šä¹‰ä¸-c-é£æ ¼çš„ç±»å‹å¼ºåˆ¶è½¬æ¢ç¬¦"><a class="markdownIt-Anchor" href="#ç±»å‹å®šä¹‰ä¸-c-é£æ ¼çš„ç±»å‹å¼ºåˆ¶è½¬æ¢ç¬¦"></a> ç±»å‹å®šä¹‰ä¸ C é£æ ¼çš„ç±»å‹å¼ºåˆ¶è½¬æ¢ç¬¦</h3><p>C é£æ ¼çš„ç±»å‹å¼ºåˆ¶è½¬æ¢ç¬¦åº”è¯¥ä¸æ˜¯ä¸ªç¨€ç½•ç©æ„å„¿ã€‚æ¯”å¦‚ <code>(double)a</code> å°±èƒ½å°†å˜é‡ <code>a</code> å¼ºåˆ¶è½¬æ¢ä¸º <code>double</code> ç±»å‹ã€‚åœ¨è¿™ä¸ªç®€å•çš„ä¾‹å­é‡Œï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿæ‰¾åˆ°ä¸€äº›æœ´ç´ çš„è§„å¾‹ï¼Œç ´è§£è¿™ä¸€ç™»å³°é€ æè€Œåˆä»¤äººæˆ˜æ —çš„å‡½æ•°è°ƒç”¨è¯­å¥ã€‚</p><p>åŒæ ·ä»¥ <code>double</code> ç±»å‹åŠç›¸å…³æŒ‡é’ˆç±»å‹ä¸ºä¾‹ï¼Œæˆ‘ä»¬é¦–å…ˆçœ‹ä¸‹é¢çš„ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">double</span> a;       <span class="comment">// å®šä¹‰äº†ä¸€ä¸ª double å‹çš„å˜é‡</span></span><br><span class="line"><span class="type">double</span> *b;      <span class="comment">// å®šä¹‰äº†ä¸€ä¸ª double * å‹çš„å˜é‡ï¼ˆdouble å‹çš„æŒ‡é’ˆï¼‰</span></span><br><span class="line">(<span class="type">double</span>) c;     <span class="comment">// å°†å˜é‡ c å¼ºåˆ¶è½¬æ¢ä¸º double ç±»å‹</span></span><br><span class="line">(<span class="type">double</span> *) d;   <span class="comment">// å°†å˜é‡ d å¼ºåˆ¶è½¬æ¢ä¸º double * ç±»å‹</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ä¸éš¾å‘ç°ï¼Œç±»å‹è½¬æ¢å’Œå¯¹åº”ç±»å‹çš„å˜é‡å®šä¹‰ï¼Œæœ‰ç€åƒä¸ä¸‡ç¼•çš„è”ç³»ï¼šé¦–å…ˆå»æ‰å˜é‡å®šä¹‰è¯­å¥æœ«å°¾çš„åˆ†å·ï¼Œç„¶åå»æ‰å˜é‡å®šä¹‰è¯­å¥ä¸­çš„å˜é‡åï¼Œæœ€åç»™å‰©ä½™çš„éƒ¨åˆ†åŠ ä¸Šæ‹¬å·â€”â€”ä¸€ä¸ª C é£æ ¼çš„ç±»å‹å¼ºåˆ¶è½¬æ¢ç¬¦ï¼Œå°±å¾—åˆ°äº†ã€‚</p><h3 id="çœŸç›¸åªæœ‰ä¸€ä¸ª"><a class="markdownIt-Anchor" href="#çœŸç›¸åªæœ‰ä¸€ä¸ª"></a> çœŸç›¸åªæœ‰ä¸€ä¸ª</h3><p>æˆ‘ä»¬çŸ¥é“ <code>void(*pfunc)();</code> å®šä¹‰äº†ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆ <code>pfunc</code>ï¼Œå®ƒæŒ‡å‘çš„å‡½æ•°å‚æ•°åˆ—è¡¨ä¸ºç©ºã€è¿”å›å€¼ç±»å‹ä¹Ÿä¸ºç©ºã€‚å› æ­¤ï¼Œ<code>(void(*)())</code> å°±æ˜¯ä¸€ä¸ª C é£æ ¼çš„ç±»å‹è½¬æ¢ç¬¦ã€‚</p><p>å› æ­¤ï¼Œ<code>(void(*)())0</code> ä¼šå°† <code>0</code> è½¬æ¢æˆä¸€ä¸ªå‡½æ•°æŒ‡é’ˆï¼Œç„¶åäº¤ç»™ <code>*</code> è§£å¼•ç”¨ï¼Œæœ€åä¼ å…¥å‚æ•°ï¼ˆç©ºçš„å‚æ•°åˆ—è¡¨ <code>()</code>ï¼‰ï¼Œæ‰§è¡Œå‡½æ•°è°ƒç”¨ã€‚</p><blockquote><p>åœ¨ C++ ä¸­ï¼Œè¿™ä¸ªå‡½æ•°è°ƒç”¨åº”è¯¥å†™ä½œ</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(*<span class="built_in">reinterpret_cast</span>&lt;<span class="built_in">void</span>(*)()&gt;(<span class="number">0</span>))();</span><br></pre></td></tr></table></figure><blockquote><p>å¬è¯´è¿™ä¸ªå†™æ³•ï¼Œç›¸è¾ƒ C é£æ ¼çš„ç±»å‹å¼ºåˆ¶è½¬æ¢ç¬¦ï¼Œè¦æ¸…æ™°æ˜æœ—å¾—å¤šã€‚å› æ­¤ï¼Œè¯·ä¸è¦å†åæ§½ C++ é£æ ¼çš„å¼ºåˆ¶è½¬æ¢æ˜¯ã€Œè¯­æ³•ç›ã€äº†ã€‚[æ˜æ˜æ˜¯è¯­æ³•ç‚¸å¼¹]</p></blockquote><h1 id="å¥½éš¾å•Šå¥½éš¾"><a class="markdownIt-Anchor" href="#å¥½éš¾å•Šå¥½éš¾"></a> å¥½éš¾å•Šå¥½éš¾</h1><p>è™½ç„¶å¾ˆéš¾ï¼Œä½†æ˜¯æ²¡åŠæ³•æ¸¸æˆéš¾åº¦æ˜¯å›ºå®šçš„ï¼ŒæŒ‡é’ˆè¿™å—å¯¹äºä¸€äº›åŸºç¡€ä¸åˆ°ä½çš„äººå£«æ¥è¯´ã€æ¯”å¦‚æˆ‘ã€‘æ˜¯ä¸–çºªæ€§éš¾é¢˜ï¼Œå°±å¥½æ¯”ä½ åˆšåˆšç†Ÿæ‚‰åŸºç¡€æ“ä½œï¼Œä¸Šæ¥å°±ç›´æ¥å‹‡é—¯é­”ç‹çªŸäº†ã€‚è¿˜æ˜¯éœ€è¦å¤§é‡çš„ç»ƒä¹ å’Œæ›´åŠ æ·±åˆ»çš„ç†è§£ã€‚</p><p>å“ï¼Œè¿˜æ˜¯åº”äº†è‘—åäººå£«xxxçš„é‚£å¥è¯</p><p><em><strong>speak is simple,give me your code.</strong></em></p><p>æ‰€ä»¥è¯´æˆ‘å®¶é£é¸Ÿå¥¹ä¸é¦™å—ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿè¿˜å†™å•¥å­ä»£ç å“Ÿ</p><p>æˆ‘å¥½äº†ï¼ï¼ï¼ï¼</p><p><img src="http://m.qpic.cn/psc?/V13PUOHK44wDVX/4pNOqgOvBLvj4yTC9qc55amsiJHK8si1qdm9hjNeLdXumRifU0rSfIw3Lb5yWmsQBoMhswbe33T*KhF57iqg88vrc.7u3gibZ4IedyucCUM!/b&amp;bo=7ADCAOwAwgACaU0!&amp;rf=viewer_4" alt="" /></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;æŒ‡é’ˆ&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#æŒ‡é’ˆ&quot;&gt;&lt;/a&gt; æŒ‡é’ˆ&lt;/h1&gt;
&lt;p&gt;ä»Šå¤©æƒ³å¤ä¹ æŒ‡é’ˆå¹¶ä¸æ˜¯çªç„¶çš„æ–°é‹æ¥æ½®ï¼Œä¸»è¦æ˜¯TMçš„é“¾è¡¨å¤ªéš¾ï¼Œå®Œå…¨ä¸€è„¸æ‡µé€¼çš„çŠ¶æ€ï¼Œæçš„æˆ‘åªèƒ½è¢«è¿«å·å·å­¦ä¸€ä¸‹æŒ‡é’ˆå•Šï¼Œæˆ‘å¤ªéš¾äº†ï¼ŒæŒ‡é’ˆçœŸçš„å¯¹æˆ‘æ¥è¯´å°±æ˜¯é™æ™º</summary>
      
    
    
    
    <category term="bugçš„ç‚¼é‡‘å·¥åŠ" scheme="https://blog.youmingsama.cn/categories/bug%E7%9A%84%E7%82%BC%E9%87%91%E5%B7%A5%E5%9D%8A/"/>
    
    
    <category term="data structure" scheme="https://blog.youmingsama.cn/tags/data-structure/"/>
    
    <category term="ç®—æ³•" scheme="https://blog.youmingsama.cn/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>ç®—æ³•å¤æ‚åº¦åˆ†æ</title>
    <link href="https://blog.youmingsama.cn/posts/f3215fef/"/>
    <id>https://blog.youmingsama.cn/posts/f3215fef/</id>
    <published>2020-03-05T00:00:00.000Z</published>
    <updated>2023-06-23T07:25:57.098Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ç®—æ³•å¤æ‚åº¦åˆ†æ"><a class="markdownIt-Anchor" href="#ç®—æ³•å¤æ‚åº¦åˆ†æ"></a> ç®—æ³•å¤æ‚åº¦åˆ†æ</h1><p>ä¹‹å‰å†™è¿‡ä¸€ç¯‡æ–‡ç« â€œä¸è¦é™·å…¥æŠ€æœ¯çš„é­”å’’â€ï¼Œç„¶è€Œæœ€è¿‘åˆè¿·ä¸Šäº†å†™æ‹“å±•ï¼Œæˆ‘TMï¼ï¼ï¼ç®¡ä¸ä½è‡ªå·±ï¼Œä¹‹å‰æˆ‘å“¥æ¨èäº†å¾ˆå¥½çš„gitç®¡ç†å·¥å…·ï¼Œå¾ˆå¤šä¸œè¥¿éƒ½ç”¨é‚£ä¸ªæ‰˜ç®¡äº†ï¼ŒçœŸçš„å¾ˆå°‘åœ¨å†™åšå®¢äº†ï¼Œç›´è¯ç›´è¯´æˆ‘c++è¿™è¿˜æ˜¯å­¦çš„éå¸¸å·®çš„ï¼Œå½“ç„¶åé¢ä¹Ÿæ²¡æœ‰å¥½å¥½å­¦è¿‡ï¼Œè‡ªä»å¼€å§‹å†™ä¸€äº›è„šæœ¬å¼€å§‹ï¼Œæˆ‘æ›´åŠ æ„è¯†åˆ°äº†è‡ªå·±çš„è½¯è‚‹ï¼Œè™½ç„¶æˆ‘æµ‘èº«éƒ½æ˜¯è½¯è‚‹ï¼Œé™ˆsirï¼Œæ¯æ¬¡æ°”çš„æ¯æ¬¡éƒ½è¯´æˆ‘è¯¥å›ç‚‰é‡é€ ã€‚çš„ç¡®æˆ‘éå¸¸æœ‰å¿…è¦å›ç‚‰é‡é€ äº†ï¼Œå®¢è§‚æ¥çœ‹æˆ‘åº•å­çš„ç¡®æ˜¯å¼±å¾—å¾ˆï¼Œä»¥åå°½é‡å¸Œæœ›æ˜ç¡®å­¦ä¹ æ–¹å‘ï¼Œä¸åœ¨å¯¹ä¸€äº›<code>åº”ç”¨åœºæ™¯å°‘</code>ã€<code>éš¾ä»¥äº§ç”Ÿæ•ˆç›Š</code>ã€<code>æ— æ³•åº”ç”¨åˆ°å®é™…é¡¹ç›®</code>ã€<code>çæŠ˜è…¾</code>çš„æŠ€æœ¯è¿›è¡Œé’»ç ”ã€‚é‡æœ€ç®€å•çš„å¼€å§‹å­¦ä¹ å§ï¼Œä¹‹å‰ï¼Œè¿™ä¸ªåšå®¢æ˜¯æˆ‘å»ºçš„ç¬¬ä¸€ä¸ªåšå®¢ï¼Œä¹‹å‰ä¹Ÿæƒ³æ¢æ¢æ‰˜ç®¡æ–¹å¼ï¼Œæ‰“ç®—åœ¨é˜¿é‡Œäº‘ä¸Šæ‰˜ç®¡çš„ï¼Œä½†è½¬å¿µä¸€æƒ³ã€‚åˆè§‰å¾—ä¸æ˜¯å¾ˆæœ‰å¿…è¦ï¼Œä¹‹å‰ä¹Ÿè¯•è¿‡é˜¿é‡Œäº‘ossã€‚ä¸è¿‡æˆ‘æ„Ÿè§‰git+github pages+hexoè¿™ä¸ªå·²ç»å®Œå…¨å¤Ÿç”¨äº†ã€‚ä¹Ÿæ‡’å¾—å†æŠ˜è…¾ã€‚</p><p>å…¶æ¬¡c++å·²ç»é¸½äº†æœ‰å¤§åŠå¹´äº†ï¼Œæ‰€ä»¥æœ‰å¿…è¦é‡hello worldï¼Œé‡æ–°å¼€å§‹å­¦çš„å¿…è¦ï¼Œæˆ‘æ„Ÿè§‰ï¼Œ</p><h2 id="ç®—æ³•å¤æ‚åº¦ä»¥åŠæ¸è¿›å¤æ‚åº¦"><a class="markdownIt-Anchor" href="#ç®—æ³•å¤æ‚åº¦ä»¥åŠæ¸è¿›å¤æ‚åº¦"></a> ç®—æ³•å¤æ‚åº¦ä»¥åŠæ¸è¿›å¤æ‚åº¦</h2><p>ä¸€ä¸ªé—®é¢˜å¾€å¾€å¯ä»¥ä»¥æ•ˆç‡ä¸åŒçš„ç®—æ³•æ¥è§£å†³ï¼Œå½“ç„¶åœ¨æ•°æ®è¾ƒå°‘çš„æ—¶å€™ï¼Œå„ç§ç®—æ³•ä¹‹é—´çš„å·®å¼‚ä¹Ÿè®¸å¾®ä¸è¶³é“ï¼Œä½†å½“æ•°æ®é‡æˆå€å¢åŠ æ—¶ï¼Œä½ å°±ä¼šå‘ç°ä¸åŒç®—æ³•ä¹‹é—´çš„å·®å¼‚éå¸¸éå¸¸æ˜æ˜¾ï¼Œå¦‚æœä½ å…³æ³¨LeetCodeä½ ä¼šå‘ç°ä¸åŒçš„ç®—æ³•åœ¨å ç”¨å’Œæ—¶é—´ä¸Šä¼šæœ‰éå¸¸æ˜æ˜¾çš„å·®åˆ«ï¼Œæ¯”å¦‚ä¸€é“é¢˜ï¼Œä½ ç”¨åŒæŒ‡é’ˆå¯èƒ½åªéœ€è¦4msï¼Œå…¶ä»–çš„ç®—æ³•å¯èƒ½æ˜¯ä»–çš„ä¸€ç™¾å¤šå€ã€‚ä¸ºäº†æ¯”è¾ƒç®—æ³•çš„æ•ˆç‡ï¼Œä¸¤ä¸ªåå­—å¾ˆå¤æ‚çš„è€å¤–ï¼Œå¼•å…¥äº†ä¸€ç§ç§°ä¸ºè®¡ç®—å¤æ‚åº¦çš„æ ‡å‡†æ¥è¡¡é‡ç®—æ³•ã€‚è®¡ç®—å¤æ‚åº¦è¡¨ç¤ºä¸€ç§ç®—æ³•éœ€è¦ä»˜å‡ºå¤šå¤§çš„æˆæœ¬å’ŒåŠªåŠ›ï¼Œå½“ç„¶æˆæœ¬åœ¨å¾ˆå¤šä¸åŒçš„åœ°æ–¹æœ‰è‡ªå·±çš„è¡¡é‡æ ‡å‡†ï¼Œæˆ‘ä»¬å¸¸è¯´çš„è¡¡é‡æ•ˆç‡å°±æ˜¯æ—¶é—´å’Œç©ºé—´ï¼Œå½“ç„¶è¿œè¿œä¸æ­¢è¿™ä¸¤ç§ï¼Œå…¶ä»–ï¼Œå…¶ä»–æˆ‘ä¹Ÿä¸çŸ¥é“å•Šï¼ï¼ï¼å½“ç„¶æ—¶é—´å› æ•°å¾€å¾€æ¯”ç©ºé—´å› ç´ é‡è¦çš„å¤šï¼Œæˆ‘ä»¬å¾€å¾€å…³æ³¨çš„æ˜¯æ•°æ®å¤„ç†çš„æ—¶é—´ï¼Œè€Œä¸æ˜¯ç©ºé—´ï¼Œæ¯•ç«Ÿç°åœ¨åœ¨æŠ€æœ¯å±‚é¢ï¼Œæ•°æ®å‚¨å­˜å®Œå…¨ä¸æ˜¯äººä»¬æ‹…å¿ƒçš„åœ°æ–¹ï¼Œè€Œæ—¶é—´å’Œæ•ˆç‡å¾€å¾€å†³å®šè¿™ä¸€ä¸ªç¨‹åºçš„å¥½åã€‚å°åº¦æ˜¯å…¨ä¸–ç•Œæœ€å¤§çš„ä»£ç è¾“å‡ºå›½ï¼Œå¾®è½¯ceoä¹Ÿæ˜¯å°åº¦äººï¼Œå°åº¦äººå†™ä»£ç å“ªç®¡é‚£ä¹ˆå¤šå•Šï¼Œæ‰€ä»¥æ˜¯ç°åœ¨ç¡¬ä»¶çš„å‘å±•å®Œå…¨å¯ä»¥å¼¥è¡¥ç®—æ³•å±‚é¢çš„ä¸ä½ï¼Œå½“ç„¶è¿™åªæ˜¯åœ¨æŸäº›é¢†åŸŸï¼Œåœ¨ä¸€äº›éå¸¸éœ€è¦ç®—æ³•æ•ˆç‡çš„é¢†åŸŸï¼Œä½ ï¼Œå¦‚æœï¼Œä¸ä¼šå†™ç®—æ³•è¿˜æ˜¯åˆ åº“è¶æ—©è·‘è·¯å§ï¼Œæˆ‘è§‰å¾—ä½ è¿›å…¬å¸é¢è¯•å¯èƒ½é¢è¯•å®˜å°±ç›´æ¥å§ä½ passäº†</p><p><img src="http://m.qpic.cn/psc?/V13PUOHK44wDVX/4pNOqgOvBLvj4yTC9qc55akpazV0T4KqJQRtmSHhH8GKljwflH.rvVq5CEi1vph4hE7vGd5q4Tr0mWsQJv5Rl8BZx9fEb.xJdyhfTGppUDg!/b&amp;bo=cgErAXIBKwERCT4!&amp;rf=viewer_4" alt="" /></p><h3 id="è¯„ä¼°ç®—æ³•æ•ˆç‡"><a class="markdownIt-Anchor" href="#è¯„ä¼°ç®—æ³•æ•ˆç‡"></a> è¯„ä¼°ç®—æ³•æ•ˆç‡</h3><p>ç®—æ³•æ•ˆç‡çš„è¯„ä¼°å¹¶ä¸èƒ½ä»¥æ—¶é—´æ¥è¯„ä¼°ï¼Œè€Œæ˜¯é‡‡ç”¨æŸç§é€»è¾‘å…³ç³»ï¼Œç”¨æ–‡ä»¶å’Œæ•°ç»„çš„å°ºåº¦nåŒæ—¶é—´tä¹‹é—´çš„å…³ç³»ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•è¡¨ç¤ºä¸åŒçš„tå’Œnä¹‹é—´çš„å…³ç³»å‘¢ï¼Œ</p><p>å‡å¦‚tå’Œnä¹‹é—´æ˜¯çº¿æ€§å…³ç³»</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>n</mi><mn>2</mn><mo>=</mo><mn>5</mn><mi>n</mi><mn>1</mn><mtext>åˆ™å¿…æœ‰</mtext><mi>t</mi><mn>2</mn><mo>=</mo><mn>5</mn><mi>t</mi><mn>1</mn></mrow><annotation encoding="application/x-tex">n2=5n1åˆ™å¿…æœ‰t2=5t1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord mathnormal">n</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">5</span><span class="mord mathnormal">n</span><span class="mord">1</span><span class="mord cjk_fallback">åˆ™</span><span class="mord cjk_fallback">å¿…</span><span class="mord cjk_fallback">æœ‰</span><span class="mord mathnormal">t</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span><span class="mord mathnormal">t</span><span class="mord">1</span></span></span></span></span></p><p>åŒæ ·</p><p class='katex-block katex-error' title='ParseError: KaTeX parse error: Can&#039;t use function &#039;$&#039; in math mode at position 32: â€¦g2(2n)åˆ™t1=t2+1$Ì²$ {log2}å½“ç„¶é€šå¸¸æƒ…å†µâ€¦'>t1=log2(n)ï¼Œt2=log2(2n)åˆ™t1=t2+1$$ {log2}å½“ç„¶é€šå¸¸æƒ…å†µä¸‹ã€‚ï¼Œè¿™äº›nä¸tä¹‹é—´çš„å…³ç³»å¤æ‚çš„å¤šçš„å¤šã€‚å½“æ•°æ®é‡éå¸¸å·¨å¤§çš„æ—¶å€™ï¼Œè®¡ç®—è¿™äº›å‡½æ•°æ‰å˜å¾—æ¯”è¾ƒé‡è¦ï¼Œä¸ä¼šå®è´¨ä¸Šæ”¹å˜å‡½æ•°æ•°é‡çº§çš„åº”è¯¥ä»å‡½æ•°ä¸­å‰”é™¤ï¼Œemmmmmå°±ç›¸å½“äºæ•°å­¦çš„æé™æ€æƒ³ã€‚æ¯”å¦‚è¯´fï¼ˆnï¼‰=n+10000ï¼Œåœ¨nè¶³å¤Ÿå¤§æ—¶æˆ‘ä»¬å°±æ²¡æœ‰å¿…è¦è€ƒè™‘å¸¸æ•°é¡¹ã€‚## å¤§Oè¡¨ç¤ºæ³•è¿™å¤§æ¦‚æ˜¯æœ€é•¿ç”¨æ¥è¡¨ç¤ºæ¸è¿›å¤æ‚åº¦ï¼ˆè¯„ä¼°å‡½æ•°çš„å¢é•¿ç‡ï¼‰çš„è¡¨ç¤ºæ–¹æ³•äº†ï¼Œæ˜¯Paul Bachmannå¼•å…¥çš„å…·ä½“æˆ‘å°±ä¸è¯´äº†è¯¦æƒ…è¯·çœ‹ç™¾ç§‘[è¯·ç‚¹æˆ‘ï¼ï¼ï¼ï¼](https://baike.baidu.com/item/å¤§Oè¡¨ç¤ºæ³•/1851162?fr=aladdin)## å¸¸è§çš„æ—¶é—´å¤æ‚åº¦é‡çº§æˆ‘ä»¬å…ˆä»å¸¸è§çš„æ—¶é—´å¤æ‚åº¦é‡çº§è¿›è¡Œå¤§Oçš„ç†è§£ï¼š- å¸¸æ•°é˜¶O(1)- çº¿æ€§é˜¶O(n)- å¹³æ–¹é˜¶O(nÂ²)- å¯¹æ•°é˜¶O(logn)- çº¿æ€§å¯¹æ•°é˜¶O(nlogn)![](C:\Users\Administrator.USER-20181115IF\Desktop\b&amp;bo=bwNwAm8DcAIRCT4!&amp;rf=viewer_4)### O(1)![](http://m.qpic.cn/psc?/V13PUOHK44wDVX/4pNOqgOvBLvj4yTC9qc55aKetXJx4AS93ajzRKFTHJhI3psuRi3P2h0bUOiDmn2n*47302gYOXxReWb7HbXD0ZHP7hGQ2mWcuMH1UcSxSLw!/b&amp;bo=tgMTArYDEwICCS0!&amp;rf=viewer_4)[^]: å›¾ç‰‡è½¬è½½è‡³æ˜é‡‘æ— è®ºä»£ç æ‰§è¡Œäº†å¤šå°‘è¡Œï¼Œå…¶ä»–åŒºåŸŸä¸ä¼šå½±å“åˆ°æ“ä½œï¼Œè¿™ä¸ªä»£ç çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(1)<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">swapTwoInts</span><span class="params">(<span class="type">int</span> &amp;a, <span class="type">int</span> &amp;b)</span></span>&#123;</span><br><span class="line">  <span class="type">int</span> temp = a;</span><br><span class="line">  a = b;</span><br><span class="line">  b = temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>### O(n)![](http://m.qpic.cn/psc?/V13PUOHK44wDVX/4pNOqgOvBLvj4yTC9qc55cUDXjmkugsoYy7opoXUiCvLNRMvYGKmzn6CAQkKpXsRsHKsHMDKh9xhB.2TynbNmTOKZTW.FgHzh7gugVjXLh8!/b&amp;bo=tgMTArYDEwICCS0!&amp;rf=viewer_4)åœ¨ä¸‹é¢è¿™æ®µä»£ç ï¼Œforå¾ªç¯é‡Œé¢çš„ä»£ç ä¼šæ‰§è¡Œ n éï¼Œå› æ­¤å®ƒæ¶ˆè€—çš„æ—¶é—´æ˜¯éšç€ n çš„å˜åŒ–è€Œå˜åŒ–çš„ï¼Œå› æ­¤å¯ä»¥ç”¨O(n)æ¥è¡¨ç¤ºå®ƒçš„æ—¶é—´å¤æ‚åº¦ã€‚<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">sum</span> <span class="params">( <span class="type">int</span> n )</span></span>&#123;</span><br><span class="line">   <span class="type">int</span> ret = <span class="number">0</span>;</span><br><span class="line">   <span class="keyword">for</span> ( <span class="type">int</span> i = <span class="number">0</span> ; i &lt;= n ; i ++)&#123;</span><br><span class="line">      ret += i;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>ç‰¹åˆ«ä¸€æçš„æ˜¯ c * O(n) ä¸­çš„ c å¯èƒ½å°äº 1 ï¼Œæ¯”å¦‚ä¸‹é¢è¿™æ®µä»£ç ï¼š<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">reverse</span> <span class="params">( string &amp;s )</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n = s.<span class="built_in">size</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span> ; i &lt; n/<span class="number">2</span> ; i++)&#123;</span><br><span class="line">      <span class="built_in">swap</span> ( s[i] , s[n<span class="number">-1</span>-i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>### O(nÂ²)![](https://user-gold-cdn.xitu.io/2018/12/13/167a509fc3d8fd52?imageslim) å½“å­˜åœ¨åŒé‡å¾ªç¯çš„æ—¶å€™ï¼Œå³æŠŠ O(n) çš„ä»£ç å†åµŒå¥—å¾ªç¯ä¸€éï¼Œå®ƒçš„æ—¶é—´å¤æ‚åº¦å°±æ˜¯ O(nÂ²) äº†ã€‚<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">selectionSort</span><span class="params">(<span class="type">int</span> arr[],<span class="type">int</span> n)</span></span>&#123;</span><br><span class="line">   <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n ; i++)&#123;</span><br><span class="line">     <span class="type">int</span> minIndex = i;</span><br><span class="line">     <span class="keyword">for</span> (<span class="type">int</span> j = i + <span class="number">1</span>; j &lt; n ; j++ )</span><br><span class="line">       <span class="keyword">if</span> (arr[j] &lt; arr[minIndex])</span><br><span class="line">           minIndex = j;</span><br><span class="line">       </span><br><span class="line">     <span class="built_in">swap</span> ( arr[i], arr[minIndex]);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>è¿™é‡Œç®€å•çš„æ¨å¯¼ä¸€ä¸‹- å½“ i = 0 æ—¶ï¼Œç¬¬äºŒé‡å¾ªç¯éœ€è¦è¿è¡Œ (n - 1)  æ¬¡- å½“ i = 1 æ—¶ï¼Œç¬¬äºŒé‡å¾ªç¯éœ€è¦è¿è¡Œ (n - 2)  æ¬¡- ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ä¸éš¾å¾—åˆ°å…¬å¼ï¼š<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(n - <span class="number">1</span>) + (n - <span class="number">2</span>) + (n - <span class="number">3</span>) + ... + <span class="number">0</span></span><br><span class="line">= (<span class="number">0</span> + n - <span class="number">1</span>) * n / <span class="number">2</span></span><br><span class="line">= <span class="built_in">O</span> (n ^<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>å½“ç„¶å¹¶ä¸æ˜¯æ‰€æœ‰çš„åŒé‡å¾ªç¯éƒ½æ˜¯ O(nÂ²)ï¼Œæ¯”å¦‚ä¸‹é¢è¿™æ®µè¾“å‡º 30n æ¬¡ `youmingsamaï¼šï¼‰`çš„ä»£ç ã€‚<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">void printInformation (int n )&#123;</span><br><span class="line">   for (int i = 1 ; i &lt;= n ; i++)</span><br><span class="line">        for (int j = 1 ; j &lt;= 30 ; j ++)</span><br><span class="line">           cout&lt;&lt; &quot;youmingsamaï¼šï¼‰&quot;&lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>### O(logn)![](http://m.qpic.cn/psc?/V13PUOHK44wDVX/4pNOqgOvBLvj4yTC9qc55SAtAYyoKoFH9LThDmv5KBqEilX7kZS5*YENt9eb53UUj1tsZjOiqyATMn2d7fz6GmBNZqXgsYxamz8WIaLU6og!/b&amp;bo=vQMcAr0DHAICGT0!&amp;rf=viewer_4)<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">binarySearch</span><span class="params">( <span class="type">int</span> arr[], <span class="type">int</span> n , <span class="type">int</span> target)</span>&#123;</span><br><span class="line">  <span class="type">int</span> l = <span class="number">0</span>, r = n - <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">while</span> ( l &lt;= r) &#123;</span><br><span class="line">    <span class="type">int</span> mid = l + (r - l) / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span> (arr[mid] == target) <span class="keyword">return</span> mid;</span><br><span class="line">    <span class="keyword">if</span> (arr[mid] &gt; target ) r = mid - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> l = mid + <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>åœ¨äºŒåˆ†æŸ¥æ‰¾æ³•çš„ä»£ç ä¸­ï¼Œé€šè¿‡whileå¾ªç¯ï¼Œæˆ 2 å€æ•°çš„ç¼©å‡æœç´¢èŒƒå›´ï¼Œä¹Ÿå°±æ˜¯è¯´éœ€è¦ç»è¿‡ log2^n æ¬¡å³å¯è·³å‡ºå¾ªç¯ã€‚åŒæ ·çš„è¿˜æœ‰ä¸‹é¢ä¸¤æ®µä»£ç ä¹Ÿæ˜¯ O(logn) çº§åˆ«çš„æ—¶é—´å¤æ‚åº¦ã€‚<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">// æ•´å½¢è½¬æˆå­—ç¬¦ä¸²</span></span><br><span class="line">  <span class="built_in">string</span> <span class="title function_">intToString</span> <span class="params">( <span class="type">int</span> num )</span>&#123;</span><br><span class="line">   <span class="built_in">string</span> s = <span class="string">&quot;&quot;</span>;</span><br><span class="line">   <span class="comment">// n ç»è¿‡å‡ æ¬¡â€œé™¤ä»¥10â€çš„æ“ä½œåï¼Œç­‰äº0</span></span><br><span class="line">   <span class="keyword">while</span> (num )&#123;</span><br><span class="line">    s += <span class="string">&#x27;0&#x27;</span> + num%<span class="number">10</span>;</span><br><span class="line">    num /= <span class="number">10</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   reverse(s)</span><br><span class="line">   <span class="keyword">return</span> s;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">hello</span> <span class="params">(<span class="type">int</span> n )</span> &#123;</span><br><span class="line">   <span class="comment">// n é™¤ä»¥å‡ æ¬¡ 2 åˆ° 1</span></span><br><span class="line">   <span class="keyword">for</span> ( <span class="type">int</span> sz = <span class="number">1</span>; sz &lt; n ; sz += sz) </span><br><span class="line">     <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; i++)</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt; <span class="string">&quot;youmingsamaï¼šï¼‰&quot;</span>&lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>### O(nlogn)å°†æ—¶é—´å¤æ‚åº¦ä¸ºO(logn)çš„ä»£ç å¾ªç¯Néçš„è¯ï¼Œé‚£ä¹ˆå®ƒçš„æ—¶é—´å¤æ‚åº¦å°±æ˜¯ n * O(logn)ï¼Œä¹Ÿå°±æ˜¯äº†O(nlogn)ã€‚<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">hello</span> <span class="params">()</span>&#123;</span><br><span class="line">  <span class="keyword">for</span>( m = <span class="number">1</span> ; m &lt; n ; m++)&#123;</span><br><span class="line">    i = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>( i &lt; n )&#123;</span><br><span class="line">        i = i * <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>## æœ€å¥½ï¼Œå¹³å‡å’Œæœ€åæƒ…å†µ### å…ˆä¸¾ä¸ªæ —å­åˆ†æä»¥ä¸‹è¿™æ®µä»£ç çš„æ—¶é—´å¤æ‚åº¦<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// n è¡¨ç¤ºæ•°ç»„ array çš„é•¿åº¦</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">find</span><span class="params">(<span class="type">int</span>[] <span class="built_in">array</span>, <span class="type">int</span> n, <span class="type">int</span> x)</span> &#123;</span><br><span class="line">  <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span> pos = <span class="number">-1</span>;</span><br><span class="line">  <span class="keyword">for</span> (; i &lt; n; ++i) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">array</span>[i] == x) pos = i;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> pos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>#### åˆ†æ- åŠŸèƒ½ï¼šåœ¨ä¸€ä¸ªæ— åºæ•°ç»„arrayä¸­ï¼ŒæŸ¥æ‰¾å˜é‡xå‡ºç°çš„ä½ç½®- æ—¶é—´å¤æ‚åº¦ï¼š`O(n)`, nè¡¨ç¤ºæ•°ç»„çš„é•¿åº¦æ›´ä¸ºä¼˜åŒ–çš„æ–¹å¼<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// n è¡¨ç¤ºæ•°ç»„ array çš„é•¿åº¦</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">find</span><span class="params">(<span class="type">int</span>[] <span class="built_in">array</span>, <span class="type">int</span> n, <span class="type">int</span> x)</span> &#123;</span><br><span class="line">  <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span> pos = <span class="number">-1</span>;</span><br><span class="line">  <span class="keyword">for</span> (; i &lt; n; ++i) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">array</span>[i] == x) &#123;</span><br><span class="line">        pos = i;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> pos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>&gt; æ—¶é—´å¤æ‚åº¦ï¼š ä¸ä¸€å®šæ˜¯O(n)äº†ï¼Œä¸åŒæƒ…å†µä¸‹è¿™æ®µä»£ç çš„æ—¶é—´å¤æ‚åº¦æ˜¯ä¸åŒçš„ã€‚### å¼•å…¥æ¦‚å¿µ- æœ€å¥½æƒ…å†µæ—¶é—´å¤æ‚åº¦ï¼šåœ¨æœ€ç†æƒ³æƒ…å†µä¸‹ï¼Œæ‰§è¡Œä»£ç çš„æ—¶é—´å¤æ‚åº¦- æœ€åæƒ…å†µæ—¶é—´å¤æ‚åº¦ï¼šåœ¨æœ€ç³Ÿç³•æƒ…å†µä¸‹ï¼Œæ‰§è¡Œä»£ç çš„æ—¶é—´å¤æ‚åº¦- å¹³å‡æƒ…å†µæ—¶é—´å¤æ‚åº¦ï¼šæœ€å¥½æƒ…å†µå’Œæœ€åæƒ…å†µéƒ½æ˜¯å±äºæç«¯æƒ…å†µï¼Œå‘ç”Ÿçš„æ¦‚ç‡å¹¶ä¸å¤§ã€‚éœ€è¦è¡¨ç¤ºå¹³å‡æƒ…å†µä¸‹çš„å¤æ‚åº¦### å¦‚ä½•åˆ†æå¹³å‡æƒ…å†µæ—¶é—´å¤æ‚åº¦ä»¥ä¸Šé¢çš„ä¾‹å­ä¸ºä¾‹ï¼šæŸ¥æ‰¾xåœ¨æ•°ç»„ä¸­çš„ä½ç½®ï¼Œæœ‰`n+1`ç§æƒ…å†µï¼Œåœ¨æ•°ç»„`0~n-1`çš„ä½ç½®ä¸Šå’Œä¸åœ¨æ•°ç»„ä¸­ã€‚å°†æ¯ç§æƒ…å†µä¸‹ï¼ŒæŸ¥æ‰¾éœ€è¦éå†çš„å…ƒç´ ä¸ªæ•°ç›¸åŠ ï¼Œå†é™¤ä»¥n+1ç§æƒ…å†µï¼Œå°±å¯å¾—åˆ°éœ€è¦éå†çš„å…ƒç´ ä¸ªæ•°çš„å¹³å‡å€¼`(1+2+3+...+n+n)/n+1 = n (n+3) /2(n+1)`çœç•¥æ‰ç³»æ•°ã€ä½é˜¶ã€å¸¸é‡åå¾—åˆ°å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º`O(n)`#### å­˜åœ¨é—®é¢˜åœ¨ä»¥ä¸Šçš„n+1ç§æƒ…å†µä¸­ï¼Œæœªè€ƒè™‘xåœ¨æ¯ç§æƒ…å†µä¸‹å‡ºç°çš„æ¦‚ç‡ã€‚ç°åœ¨å‡è®¾ï¼Œxåœ¨æ•°ç»„ä¸­ä¸xä¸åœ¨æ•°ç»„ä¸­çš„æ¦‚ç‡å„ä¸º`1/2`ï¼›è¦æŸ¥æ‰¾çš„xå‡ºç°åœ¨`0~n-1`è¿™nä¸ªä½ç½®çš„å¯èƒ½æ€§æ˜¯ç›¸åŒçš„ï¼Œå³`1/n`ï¼›é‚£ä¹ˆï¼Œè¦æŸ¥æ‰¾çš„xå‡ºç°åœ¨`0~n-1`ä¸­ä»»æ„ä½ç½®çš„æ¦‚ç‡ä¸º `1/2*1/n = 1/(2n)`å°†æ¯ç§æƒ…å†µå‘ç”Ÿçš„æ¦‚ç‡è€ƒè™‘è¿›å»åï¼Œå¹³å‡æ—¶é—´å¤æ‚åº¦è®¡ç®—è¿‡ç¨‹å˜æˆï¼š<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(1+2+3+...+n+n)*(1/(2n))</span><br></pre></td></tr></table></figure>ä½œæœŸæœ›å€¼ã€‚å› è€Œå¹³å‡æ—¶é—´å¤æ‚åº¦çš„å…¨ç§°ä¸º**åŠ æƒå¹³å‡æ—¶é—´å¤æ‚åº¦**æˆ–**æœŸæœ›æ—¶é—´å¤æ‚åº¦**ã€‚&gt; æ³¨ï¼šå¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬åªä½¿ç”¨ä¸€ä¸ªå¤æ‚åº¦å°±å¯ä»¥æ»¡è¶³è¦æ±‚ã€‚åªæœ‰åŒä¸€å—ä»£ç åœ¨ä¸åŒæƒ…å†µä¸‹ï¼Œæ—¶é—´å¤æ‚åº¦æœ‰é‡çº§çš„å·®è·ï¼Œæ‰ä¼šä½¿ç”¨ä»¥ä¸Š3ç§å¤æ‚åº¦çš„è¡¨ç¤ºæ³•æ¥åŒºåˆ†ã€‚### å‡æ‘Šæ—¶é—´å¤æ‚åº¦ã€æ‘Šè¿˜åˆ†æï¼ˆæ‘Šé”€åˆ†æï¼‰ä¸¾æ —å­è¯´æ˜ï¼š<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// array è¡¨ç¤ºä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•°ç»„</span></span><br><span class="line"><span class="comment">// ä»£ç ä¸­çš„ array.length å°±ç­‰äº n</span></span><br><span class="line"><span class="type">int</span>[] array = <span class="keyword">new</span> <span class="type">int</span>[n];</span><br><span class="line"><span class="type">int</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> val)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (count == array.length) &#123;</span><br><span class="line">       <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">       <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; array.length; ++i) &#123;</span><br><span class="line">          sum = sum + array[i];</span><br><span class="line">       &#125;</span><br><span class="line">       array[<span class="number">0</span>] = sum;</span><br><span class="line">       count = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    array[count] = val;</span><br><span class="line">    ++count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>#### åˆ†æ- åŠŸèƒ½ï¼šå®ç°äº†å¾€æ•°ç»„ä¸­æ’å…¥æ•°æ®çš„åŠŸèƒ½ã€‚- å…·ä½“ï¼š  1 . å½“æ•°ç»„æ»¡äº†`count == array.length`,å°±ç”¨forå¾ªç¯éå†æ±‚å’Œï¼Œå°†æ±‚å¾—çš„å’Œæ”¾åœ¨æ•°ç»„çš„ç¬¬ä¸€ä¸ªä½ç½®ï¼Œå¹¶æ¸…ç©ºæ•°ç»„å…¶ä½™å…ƒç´ ï¼›ç„¶åå†æ’å…¥æ–°çš„å…ƒç´ ã€‚  2 . å½“æ•°ç»„ä¸€å¼€å§‹å°±æœ‰ç©ºé—²ï¼Œåˆ™ç›´æ¥å°†æ•°æ®æ’å…¥æ•°ç»„ã€‚- å¤æ‚åº¦åˆ†æï¼š  1 . æœ€å¥½æƒ…å†µï¼šæ•°ç»„ä¸­æœ‰ç©ºé—²ï¼Œç›´æ¥å°†æ•°æ®æ’å…¥åˆ°`count`çš„ä½ç½®ï¼Œä¸º`O(1)`  2 . æœ€åæƒ…å†µï¼šæ•°ç»„æ²¡æœ‰ç©ºé—²ç©ºé—´ï¼Œéœ€è¦å…ˆåšä¸€ä¸ªéå†æ±‚å’Œï¼Œå†ä½œæ’å…¥ã€‚æ‰€ä»¥å¤æ‚åº¦ä¸º`O(n)`  3 . å¹³å‡æ—¶é—´å¤æ‚åº¦ï¼š`O(1)`##### å¹³å‡æ—¶é—´å¤æ‚åº¦å¦‚ä½•å¾—åˆ°æ€»å…±`n+1`ç§æƒ…å†µï¼Œå‰`n`ä¸­æƒ…å†µæ¯ç§æ—¶é—´å¤æ‚åº¦éƒ½ä¸º`O(1)`ï¼Œåä¸€ç§æƒ…å†µæ—¶é—´å¤æ‚åº¦ä¸º`O(n)`ï¼›`n+1`ç§æƒ…å†µå‘ç”Ÿçš„æ¦‚ç‡ä¸€æ ·ï¼Œä¸º`1/(n+1)`ï¼›æ ¹æ®åŠ æƒå¹³å‡è®¡ç®—æ–¹æ³•ï¼š&gt; <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>*<span class="number">1</span>/(n+<span class="number">1</span>) + <span class="number">1</span>*<span class="number">1</span>/(n+<span class="number">1</span>) + ... + n*<span class="number">1</span>/(n+<span class="number">1</span>) = <span class="built_in">O</span>(<span class="number">1</span>)</span><br></pre></td></tr></table></figure>#### æ‘Šé”€æ—¶é—´å¤æ‚åº¦ï¼ˆamortized time complexityï¼‰åˆ†æå‘ç°:1 . `insert()`å‡½æ•°åœ¨**å¤§éƒ¨åˆ†æƒ…å†µ**ä¸‹ï¼Œæ—¶é—´å¤æ‚åº¦éƒ½ä¸º`O(1)`ï¼›**æä¸ªåˆ«æƒ…å†µ**ä¸‹ï¼Œå¤æ‚åº¦æ‰é«˜ï¼Œä¸º`O(n)`2 . `insert()`å‡½æ•°ä¸­ï¼Œ`O(1)`æ—¶é—´å¤æ‚åº¦çš„æ’å…¥å’Œ`O(n)`æ—¶é—´å¤æ‚åº¦çš„æ’å…¥ï¼Œ**å‡ºç°é¢‘ç‡å¾ˆæœ‰è§„å¾‹**ã€‚å­˜åœ¨å‰åæ—¶åºå…³ç³»ï¼Œä¸€èˆ¬ä¸€ä¸ª`O(n)`æ’å…¥ä¹‹åï¼Œç´§è·Ÿç€`n-1`ä¸ª`O(1)`çš„æ’å…¥æ“ä½œï¼Œå¾ªç¯å¾€å¤ã€‚##### é’ˆå¯¹è¿™ç§åœºæ™¯ï¼Œå¼•å…¥å‡æ‘Šåˆ†ææ³•å¤§è‡´æ€è·¯ï¼šæ¯ä¸€æ¬¡ `O(n)` çš„æ’å…¥æ“ä½œï¼Œéƒ½ä¼šè·Ÿç€ `n-1` æ¬¡ `O(1)` çš„æ’å…¥æ“ä½œï¼Œæ‰€ä»¥æŠŠè€—æ—¶å¤šçš„é‚£æ¬¡æ“ä½œå‡æ‘Šåˆ°æ¥ä¸‹æ¥çš„ `n-1` æ¬¡è€—æ—¶å°‘çš„æ“ä½œä¸Šï¼Œå‡æ‘Šä¸‹æ¥ï¼Œè¿™ä¸€ç»„è¿ç»­çš„æ“ä½œçš„å‡æ‘Šæ—¶é—´å¤æ‚åº¦å°±æ˜¯ `O(1)`ã€‚#### æ€»ç»“å¯¹ä¸€ä¸ªæ•°æ®ç»“æ„è¿›è¡Œä¸€ç»„è¿ç»­æ“ä½œä¸­ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹æ—¶é—´å¤æ‚åº¦éƒ½å¾ˆä½ï¼Œåªæœ‰ä¸ªåˆ«æƒ…å†µä¸‹æ—¶é—´å¤æ‚åº¦æ¯”è¾ƒé«˜ï¼Œè€Œä¸”è¿™äº›æ“ä½œä¹‹é—´å­˜åœ¨å‰åè¿è´¯çš„æ—¶åºå…³ç³»ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†è¿™ä¸€ç»„æ“ä½œæ”¾åœ¨ä¸€å—å„¿åˆ†æï¼Œçœ‹æ˜¯å¦èƒ½å°†è¾ƒé«˜æ—¶é—´å¤æ‚åº¦é‚£æ¬¡æ“ä½œçš„è€—æ—¶ï¼Œå¹³æ‘Šåˆ°å…¶ä»–é‚£äº›æ—¶é—´å¤æ‚åº¦æ¯”è¾ƒä½çš„æ“ä½œä¸Šã€‚è€Œä¸”ï¼Œ**åœ¨èƒ½å¤Ÿåº”ç”¨å‡æ‘Šæ—¶é—´å¤æ‚åº¦åˆ†æçš„åœºåˆï¼Œä¸€èˆ¬å‡æ‘Šæ—¶é—´å¤æ‚åº¦å°±ç­‰äºæœ€å¥½æƒ…å†µæ—¶é—´å¤æ‚åº¦**ã€‚&gt; å‡æ‘Šæ—¶é—´å¤æ‚åº¦å°±æ˜¯ä¸€ç§ç‰¹æ®Šçš„å¹³å‡æ—¶é—´å¤æ‚åº¦ï¼Œæ²¡å¿…è¦èŠ±å¤ªå¤šç²¾åŠ›å»åŒºåˆ†å®ƒä»¬ã€‚## NPå®Œæ•´æ€§å†³å®šæ€§ç®—æ³•ï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œemmmmmmmè¿™ä¸ªå¥½éš¾ï¼Œçœ‹ä¸å¤ªæ‡‚ï¼Œæš‚æ—¶å°±é¸½äº†å§ã€‚å°±é…±![](http://m.qpic.cn/psc?/V13PUOHK0NDZXM/4pNOqgOvBLvj4yTC9qc55fBIxyAZSXpIVMg.7WexfLdGNmW.mlaAcPX7syv*IA5cDPQiD.SX5XbpJ4wbz98KbX5FY5Kp7p0ZtX0VTT5LE1E!/b&amp;bo=LAHUACwB1AACCS0!&amp;rf=viewer_4)</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;ç®—æ³•å¤æ‚åº¦åˆ†æ&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#ç®—æ³•å¤æ‚åº¦åˆ†æ&quot;&gt;&lt;/a&gt; ç®—æ³•å¤æ‚åº¦åˆ†æ&lt;/h1&gt;
&lt;p&gt;ä¹‹å‰å†™è¿‡ä¸€ç¯‡æ–‡ç« â€œä¸è¦é™·å…¥æŠ€æœ¯çš„é­”å’’â€ï¼Œç„¶è€Œæœ€è¿‘åˆè¿·ä¸Šäº†å†™æ‹“å±•ï¼Œæˆ‘TMï¼ï¼ï¼ç®¡ä¸ä½è‡ªå·±ï¼Œä¹‹å‰æˆ‘å“¥æ¨èäº†å¾ˆå¥½çš„git</summary>
      
    
    
    
    <category term="bugçš„ç‚¼é‡‘å·¥åŠ" scheme="https://blog.youmingsama.cn/categories/bug%E7%9A%84%E7%82%BC%E9%87%91%E5%B7%A5%E5%9D%8A/"/>
    
    
    <category term="data structure" scheme="https://blog.youmingsama.cn/tags/data-structure/"/>
    
    <category term="ç®—æ³•" scheme="https://blog.youmingsama.cn/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>é“¾è¡¨</title>
    <link href="https://blog.youmingsama.cn/posts/2362a8ea/"/>
    <id>https://blog.youmingsama.cn/posts/2362a8ea/</id>
    <published>2020-03-05T00:00:00.000Z</published>
    <updated>2023-06-23T07:25:57.098Z</updated>
    
    <content type="html"><![CDATA[<h1 id="é“¾è¡¨"><a class="markdownIt-Anchor" href="#é“¾è¡¨"></a> é“¾è¡¨</h1><p>ä»Šå¤©å¼€å§‹å­¦é“¾è¡¨äº†ï¼Œæˆ‘è§‰å¾—å­¦é“¾è¡¨å‰å¾ˆæœ‰å¿…è¦å…ˆçœ‹çœ‹æ•°ç»„</p><h2 id="æ•°ç»„"><a class="markdownIt-Anchor" href="#æ•°ç»„"></a> æ•°ç»„</h2><p>ä¸å¾—ä¸æ‰¿è®¤æ•°ç»„çš„ç¡®æ˜¯æ—¥å¸¸ä½¿ç”¨ä¸­æœ€å¸¸ç”¨çš„æ‰‹æ®µä¹‹ä¸€ï¼Œä½†æ˜¯å•Šï¼Œ<strong>æ•°ç»„</strong>çš„ä½¿ç”¨æ˜¯æœ‰å±€é™çš„<code>(1)</code>åœ¨ç¼–è¯‘æœŸå°±è¦åšåˆ°å¤§å°ï¼Œä¸ç„¶æ˜¯ä¸è¡Œå“’ã€‚<code>2</code>æ•°ç»„ä¸­çš„æ•°æ®åœ¨å†…å­˜ä¸­æ˜¯ä»¥ç›¸åŒçš„è·ç¦»éš”å¼€çš„ï¼Œè¿™å°±æ„å‘³ç€æˆ‘ä»¬è¦æƒ³åœ¨æ•°ç»„ä¸­æ’å…¥æ•°æ®å˜çš„éå¸¸å›°éš¾ã€‚å¦‚æœæˆ‘ä»¬åè¦æ’å…¥æ•°æ®çš„è¯åˆ™éœ€è¦å»ç§»åŠ¨æ”¹æ•°ç»„çš„å…¶ä»–æ•°æ®ã€‚è¿™æ ·æ„Ÿè§‰éå¸¸ä¸å¦™è€Œä¸”è®©äººæ„Ÿè§‰éå¸¸çƒ¦èºã€‚</p><img src="http://m.qpic.cn/psc?/V13PUOHK44wDVX/4pNOqgOvBLvj4yTC9qc55f1G0fAPaC8nzrPkV9tqVcbUvGW7wGK7AWw4s48zu1olEHAbZPfjlvYw9BV66I8WsWSE.KMiQCj3lCiwvkTO8No!/b&amp;bo=rAJOAqwCTgIRGS4!&amp;rf=viewer_4" alt="img" style="zoom: 67%;" /><h3 id="æ•°ç»„å®šä¹‰"><a class="markdownIt-Anchor" href="#æ•°ç»„å®šä¹‰"></a> æ•°ç»„å®šä¹‰</h3><p>ä¸€ç»„<code>çº¿æ€§è¡¨</code>æ•°æ®ç»“æ„ã€‚å®ƒç”¨ä¸€ç»„<code>è¿ç»­çš„å†…å­˜ç©ºé—´</code>ï¼Œæ¥å­˜å‚¨ä¸€ç»„å…·æœ‰<code>ç›¸åŒç±»å‹çš„æ•°æ®</code>ã€‚</p><h4 id="å…³é”®è¯è§£é‡Š"><a class="markdownIt-Anchor" href="#å…³é”®è¯è§£é‡Š"></a> å…³é”®è¯è§£é‡Š</h4><ul><li><strong>çº¿æ€§è¡¨</strong>ï¼šæ¯ä¸ªçº¿æ€§è¡¨ä¸Šçš„æ•°æ®æœ€å¤šåªæœ‰å‰å’Œåä¸¤ä¸ªæ–¹å‘ã€‚<br />é™¤äº†<code>æ•°ç»„</code>ï¼Œ<code>é“¾è¡¨</code>ã€<code>é˜Ÿåˆ—</code>ã€<code>æ ˆ</code>éƒ½æ˜¯çº¿æ€§è¡¨ç»“æ„ï¼Œç„¶è€Œçº¿æ€§è¡¨æœ‰åˆ†ä¸ºé¡ºåºè¡¨å’Œé“¾è¡¨ï¼Œé¡ºåºè¡¨å¯ä»¥ç®€å•çš„ç†è§£ä¸ºæ•°ç»„è¿™ä¸ªæ¦‚å¿µã€‚</li></ul><p>è”æƒ³åˆ°<strong>éçº¿æ€§è¡¨</strong>ï¼šæ•°æ®ä¹‹é—´å¹¶ä¸æ˜¯ç®€å•çš„å‰åå…³ç³»ã€‚<br />å¦‚ï¼Œ<code>äºŒå‰æ ‘</code>ã€<code>å †</code>ã€<code>å›¾</code>ç­‰</p><ul><li><strong>è¿ç»­çš„å†…å­˜ç©ºé—´å’Œç›¸åŒç±»å‹çš„æ•°æ®</strong><br />æ­£å› ä¸ºæœ‰äº†è¿™ä¸¤ä¸ªé™åˆ¶ï¼Œæ‰ä½¿å¾—æ•°ç»„æœ‰äº†<code>éšæœºè®¿é—®</code>çš„ç‰¹æ€§ï¼›<br />ä¹Ÿæ­£æ˜¯å› ä¸ºè¿™ä¸¤ä¸ªé™åˆ¶ï¼Œä½¿å¾—<code>æ•°ç»„çš„åˆ é™¤ã€æ’å…¥æ“ä½œæ•ˆç‡å¾ˆä½</code>ã€‚</li></ul><h3 id="å¦‚ä½•å®ç°æ ¹æ®ä¸‹æ ‡éšæœºè®¿é—®æ•°ç»„å…ƒç´ "><a class="markdownIt-Anchor" href="#å¦‚ä½•å®ç°æ ¹æ®ä¸‹æ ‡éšæœºè®¿é—®æ•°ç»„å…ƒç´ "></a> å¦‚ä½•å®ç°æ ¹æ®ä¸‹æ ‡éšæœºè®¿é—®æ•°ç»„å…ƒç´ ï¼Ÿ</h3><p>è®¡ç®—æœºä¼šç»™æ¯ä¸ªå†…å­˜å•å…ƒåˆ†é…ä¸€ä¸ªåœ°å€ï¼Œå†é€šè¿‡åœ°å€æ¥è®¿é—®å†…å­˜ä¸­çš„æ•°æ®ã€‚<br />è€Œè®¡ç®—æœºé€šè¿‡å¯»å€å…¬å¼æ¥è®¡ç®—å…ƒç´ å­˜å‚¨çš„å†…å­˜åœ°å€ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//a[i]çš„åœ°å€å°±æ˜¯ä»é¦–åœ°å€åç§»i*data_type_sizeçš„ä½ç½®</span></span><br><span class="line">a[i] = base_address + i * data_type_size</span><br></pre></td></tr></table></figure><blockquote><p>base_address: å†…å­˜å—çš„é¦–åœ°å€<br />data_type_sizeï¼šæ•°ä¸­æ¯ä¸ªå…ƒç´ çš„å¤§å°ï¼›æ ¹æ®å­˜å‚¨çš„æ•°æ®ç±»å‹è€Œå®šï¼Œå¦‚intå‹ï¼Œè¯¥å€¼ä¸º4</p></blockquote><h3 id="ä¸ºä»€ä¹ˆæ•°ç»„è¦ä»0å¼€å§‹ç¼–å·è€Œä¸æ˜¯ä»1å¼€å§‹å‘¢"><a class="markdownIt-Anchor" href="#ä¸ºä»€ä¹ˆæ•°ç»„è¦ä»0å¼€å§‹ç¼–å·è€Œä¸æ˜¯ä»1å¼€å§‹å‘¢"></a> ä¸ºä»€ä¹ˆæ•°ç»„è¦ä»0å¼€å§‹ç¼–å·ï¼Œè€Œä¸æ˜¯ä»1å¼€å§‹å‘¢ï¼Ÿ</h3><p>è‹¥æ•°ç»„ä»1å¼€å§‹è®¡æ•°ï¼Œé‚£ä¹ˆä¸Šé¢çš„å…¬å¼å°±å˜æˆ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a[i] = base_address + (i<span class="number">-1</span>) * data_type_size</span><br></pre></td></tr></table></figure><blockquote><p>ä¿®æ”¹åï¼Œæ¯æ¬¡éšæœºè®¿é—®æ•°ç»„å…ƒç´ éƒ½å¤šäº†ä¸€æ¬¡å‡æ³•è¿ç®—ï¼Œå¯¹äºCPUå°±å¤šäº†ä¸€æ¬¡å‡æ³•æŒ‡ä»¤ã€‚</p></blockquote><h3 id="ä¸¤ä¸ªæ“ä½œ"><a class="markdownIt-Anchor" href="#ä¸¤ä¸ªæ“ä½œ"></a> ä¸¤ä¸ªæ“ä½œ</h3><h4 id="æ•°ç»„çš„æ’å…¥æ“ä½œ"><a class="markdownIt-Anchor" href="#æ•°ç»„çš„æ’å…¥æ“ä½œ"></a> æ•°ç»„çš„æ’å…¥æ“ä½œ</h4><ul><li>æ•ˆç‡ä½çš„åŸå› ï¼šå°†æŸä¸ªæ•°æ®æ’å…¥åˆ°æ•°ç»„ä¸­çš„ç¬¬<code>i</code>ä¸ªä½ç½®ã€‚ä¸ºäº†ç»™æ–°æ¥çš„å…ƒç´ è…¾å‡ºè¿™ä¸ªä½ç½®ï¼Œéœ€è¦ç§»åŠ¨åé¢çš„<code>i~n</code>ä¸ªå…ƒç´ ï¼Œå¤æ‚åº¦ä¸º<code>O(n)</code>;</li><li>æ”¹è¿›æ–¹æ³•ï¼šå½“æ•°ç»„æ˜¯æ— åºçš„ï¼Œç®€å•çš„æ–¹æ³•å°±æ˜¯å°†åŸæ¥ç¬¬<code>i</code>ä¸ªä½ç½®ä¸Šçš„å…ƒç´ æ”¾åˆ°æ•°ç»„æœ€åï¼Œç„¶åå°†æ–°æ¥çš„å…ƒç´ æ”¾åˆ°ç¬¬<code>i</code>ä¸ªä½ç½®ã€‚å¤æ‚åº¦ä¸º<code>O(1)</code>;</li></ul><h4 id="æ•°ç»„çš„åˆ é™¤æ“ä½œ"><a class="markdownIt-Anchor" href="#æ•°ç»„çš„åˆ é™¤æ“ä½œ"></a> æ•°ç»„çš„åˆ é™¤æ“ä½œ</h4><p>ä¸æ’å…¥æ“ä½œç±»ä¼¼ï¼Œè‹¥åˆ é™¤ç¬¬<code>i</code>ä¸ªä½ç½®çš„å…ƒç´ ï¼Œéœ€è¦æ¬ç§»åé¢çš„<code>i~n</code>ä¸ªå…ƒç´ ï¼Œæ‰èƒ½ä¿è¯å†…å­˜çš„è¿ç»­æ€§ã€‚</p><ul><li>å¤æ‚åº¦ï¼šè‹¥åˆ é™¤å¼€å¤´å…ƒç´ ï¼Œæœ€åå¤æ‚åº¦ä¸º<code>O(n)</code>ï¼›è‹¥åˆ é™¤æ•°ç»„æœ«å°¾å…ƒç´ ï¼Œæœ€å¥½å¤æ‚åº¦ä¸º<code>O(1)</code>ï¼›å¹³å‡å¤æ‚åº¦ä¸º<code>O(n)</code>ã€‚</li><li>æ”¹è¿›æ–¹æ³•ï¼š<strong>ä¸è¦æ±‚æ•°ç»„ä¸­æ•°æ®çš„è¿ç»­æ€§</strong>ï¼Œå°±å¯å°†å¤šæ¬¡åˆ é™¤æ“ä½œé›†ä¸­åœ¨ä¸€èµ·æ‰§è¡Œã€‚<br />æ¯æ¬¡åˆ é™¤å…ƒç´ æ—¶ï¼Œå¹¶ä¸çœŸæ­£æ¬ç§»å…ƒç´ ï¼Œè€Œæ˜¯è®°å½•ä¸‹æ•°æ®å·²è¢«åˆ é™¤ã€‚å½“æ•°ç»„æ²¡æœ‰æ›´å¤šç©ºé—´å­˜å‚¨æ•°æ®æ—¶ï¼Œå†æ‰§è¡Œä¸€æ¬¡çœŸæ­£çš„åˆ é™¤æ“ä½œï¼ˆåšæ•°æ®å…ƒç´ çš„æ¬ç§»å·¥ä½œï¼‰</li></ul><h3 id="æ•°ç»„çš„è®¿é—®è¶Šç•Œé—®é¢˜"><a class="markdownIt-Anchor" href="#æ•°ç»„çš„è®¿é—®è¶Šç•Œé—®é¢˜"></a> æ•°ç»„çš„è®¿é—®è¶Šç•Œé—®é¢˜</h3><p>åˆ†æä»¥ä¸‹ä¸€æ®µä»£ç ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span>* argv[])</span>&#123;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> arr[<span class="number">3</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">for</span>(; i&lt;=<span class="number">3</span>; i++)&#123;</span><br><span class="line">        arr[i] = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;hello world\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="é—®é¢˜"><a class="markdownIt-Anchor" href="#é—®é¢˜"></a> é—®é¢˜</h4><p>ä¸æ˜¯åªæ‰“å°ä¸‰è¡Œâ€œhello worldâ€ï¼›è€Œæ˜¯æ— é™æ‰“å°</p><h4 id="åŸå› "><a class="markdownIt-Anchor" href="#åŸå› "></a> åŸå› </h4><p>æ•°ç»„å¤§å°ä¸º3ï¼Œ<code>a[0]ï¼Œa[1]ï¼Œa[2]</code>ï¼Œè€Œæˆ‘ä»¬çš„ä»£ç  for å¾ªç¯çš„ç»“æŸæ¡ä»¶é”™å†™ä¸ºäº†<code>i&lt;=3</code> è€Œé <code>i&lt;3</code>ï¼Œæ‰€ä»¥å½“ <code>i=3</code> æ—¶ï¼Œæ•°ç»„ <code>a[3]</code> è®¿é—®è¶Šç•Œã€‚<br />æ ¹æ®æˆ‘ä»¬å‰é¢è®²çš„æ•°ç»„å¯»å€å…¬å¼ï¼Œ<code>a[3]</code> ä¹Ÿä¼šè¢«å®šä½åˆ°æŸå—ä¸å±äºæ•°ç»„çš„å†…å­˜åœ°å€ä¸Šï¼Œè€Œè¿™ä¸ªåœ°å€æ­£å¥½æ˜¯å­˜å‚¨å˜é‡ <code>i</code> çš„å†…å­˜åœ°å€ï¼Œé‚£ä¹ˆ <code>a[3]=0</code> å°±ç›¸å½“äº <code>i=0</code>ï¼Œæ‰€ä»¥å°±ä¼šå¯¼è‡´ä»£ç æ— é™å¾ªç¯ã€‚</p><blockquote><p>æ³¨ï¼šä¾‹å­ä¸­æ­»å¾ªç¯çš„é—®é¢˜è·Ÿç¼–è¯‘å™¨åˆ†é…å†…å­˜å’Œå­—èŠ‚å¯¹é½æœ‰å…³ã€‚æ•°ç»„3ä¸ªå…ƒç´ ï¼ŒåŠ ä¸Šä¸€ä¸ªå˜é‡iã€‚4ä¸ªæ•´æ•°åˆšå¥½èƒ½æ»¡è¶³8å­—èŠ‚å¯¹é½ï¼Œæ‰€ä»¥içš„åœ°å€æ°å¥½è·Ÿåœ¨a[2]åé¢ï¼Œå¯¼è‡´æ­»å¾ªç¯ã€‚å¦‚æœæ•°ç»„æœ¬èº«æœ‰4ä¸ªå…ƒç´ ï¼Œåˆ™è¿™é‡Œä¸ä¼šå‡ºç°æ­»å¾ªç¯ã€‚å› ä¸ºç¼–è¯‘å™¨64ä½æ“ä½œç³»ç»Ÿä¸‹ï¼Œé»˜è®¤ä¼šè¿›è¡Œ8å­—èŠ‚å¯¹é½ï¼Œå˜é‡içš„åœ°å€å°±ä¸ä¼šç´§è·Ÿåœ¨æ•°ç»„åé¢äº†ã€‚</p></blockquote><h3 id="key"><a class="markdownIt-Anchor" href="#key"></a> Key</h3><p>1 . å¸¸ä¼šé—®çš„ä¸€ä¸ªé¢è¯•é¢˜ï¼šæ•°ç»„å’Œé“¾è¡¨çš„åŒºåˆ«ï¼Ÿ<br />æ­£ç¡®è¡¨è¿°ï¼šé“¾è¡¨é€‚åˆæ’å…¥ã€åˆ é™¤æ“ä½œï¼Œæ—¶é—´å¤æ‚åº¦ä¸º<code>O(1)</code>ï¼›æ•°ç»„é€‚åˆéšæœºè®¿é—®æ•°ç»„å…ƒç´ (è€Œä¸åº”è¯¥è¯´æŸ¥æ‰¾)ï¼Œæ ¹æ®ä¸‹æ ‡éšæœºè®¿é—®çš„æ—¶é—´å¤æ‚åº¦ä¸º<code>O(1)</code>ã€‚<br />æ˜ç¡®çš„ç‚¹ï¼šæ•°ç»„æ˜¯é€‚åˆæŸ¥æ‰¾ï¼Œä½†æŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦ä¸ä¸º<code>O(1)</code>ã€‚å³ä¾¿æ˜¯<strong>æ’å¥½åºçš„æ•°ç»„ï¼Œç”¨äºŒåˆ†æŸ¥æ‰¾ï¼Œæ—¶é—´å¤æ‚åº¦ä¹Ÿæ˜¯O(nlogn)</strong>ã€‚</p><p>2 . æ•°ç»„è¶Šç•Œåœ¨ C è¯­è¨€ä¸­æ˜¯ä¸€ç§æœªå†³è¡Œä¸ºï¼Œå¹¶æ²¡æœ‰è§„å®šæ•°ç»„è®¿é—®è¶Šç•Œæ—¶ç¼–è¯‘å™¨åº”è¯¥å¦‚ä½•å¤„ç†ã€‚å› ä¸ºï¼Œè®¿é—®æ•°ç»„çš„æœ¬è´¨å°±æ˜¯è®¿é—®ä¸€æ®µè¿ç»­å†…å­˜ï¼Œåªè¦æ•°ç»„é€šè¿‡åç§»è®¡ç®—å¾—åˆ°çš„å†…å­˜åœ°å€æ˜¯å¯ç”¨çš„ï¼Œé‚£ä¹ˆç¨‹åºå°±å¯èƒ½ä¸ä¼šæŠ¥ä»»ä½•é”™è¯¯ã€‚<br />åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸€èˆ¬éƒ½ä¼šå‡ºç°è«åå…¶å¦™çš„é€»è¾‘é”™è¯¯ï¼Œå°±åƒä¸Šé¢ä¸¾çš„é‚£ä¸ªä¾‹å­ï¼Œdebugçš„éš¾åº¦éå¸¸çš„å¤§ã€‚è€Œä¸”ï¼Œå¾ˆå¤šè®¡ç®—æœºç—…æ¯’ä¹Ÿæ­£æ˜¯åˆ©ç”¨åˆ°äº†ä»£ç ä¸­çš„æ•°ç»„è¶Šç•Œå¯ä»¥è®¿é—®éæ³•åœ°å€çš„æ¼æ´ï¼Œæ¥æ”»å‡»ç³»ç»Ÿï¼Œæ‰€ä»¥å†™ä»£ç çš„æ—¶å€™ä¸€å®šè¦è­¦æƒ•æ•°ç»„è¶Šç•Œã€‚</p><p>3 . äºŒç»´ã€å¤šç»´æ•°ç»„å¦‚ä½•å¯»å€ï¼Ÿ<br />è¡Œä¼˜å…ˆ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a[d1][d2][d3];</span><br><span class="line"><span class="type">int</span> *p0 = &amp;a[<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line"><span class="type">int</span> *p = &amp;a[i][j][k];</span><br><span class="line"><span class="type">int</span> idx = i * (d2*d3) + j * d3 + k</span><br><span class="line"><span class="built_in">ASSERT</span>( p0 + idx == p);</span><br></pre></td></tr></table></figure><h2 id="ä½†æ˜¯æˆ‘ä»¬äº²çˆ±çš„é“¾è¡¨å°±ä¸å­˜åœ¨è¿™æ ·çš„é—®é¢˜"><a class="markdownIt-Anchor" href="#ä½†æ˜¯æˆ‘ä»¬äº²çˆ±çš„é“¾è¡¨å°±ä¸å­˜åœ¨è¿™æ ·çš„é—®é¢˜"></a> ä½†æ˜¯æˆ‘ä»¬äº²çˆ±çš„é“¾è¡¨å°±ä¸å­˜åœ¨è¿™æ ·çš„é—®é¢˜</h2><p>é“¾è¡¨æ˜¯èŠ‚ç‚¹çš„é›†åˆï¼ŒèŠ‚ç‚¹ä¸­å‚¨å­˜ç€æ•°æ®å¹¶å¯ä»¥é“¾æ¥åˆ°å…¶ä»–èŠ‚ç‚¹ï¼Œæ˜¯ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼Œä¹Ÿå°±æ˜¯æ˜¯é€šè¿‡è¿™ç§æ–¹å¼æˆ‘ä»¬å¯ä»¥é“¾æ¥åˆ°å†…å­˜ä¸­çš„ä»»ä½•ä¸€ä¸ªä½ç½®ï¼Œä¸å¥½æ„æ€<code>é“¾è¡¨çœŸçš„å¯ä»¥ä¸ºæ‰€æ¬²ä¸º</code>ï¼›æ¯ä¸ªèŠ‚ç‚¹éƒ½å­˜å‚¨ç€é“¾è¡¨å…¶ä»–åœ°æ–¹çš„èŠ‚ç‚¹ï¼Œå› æ­¤æˆ‘ä»¬éå¸¸å®¹æ˜“çš„ä»ä¸€ä¸ªèŠ‚ç‚¹åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä½†æ˜¯æœ€çµæ´»çš„è¿˜æ˜¯æŒ‡é’ˆï¼Œ<code>æŠ±æ­‰æŒ‡é’ˆçœŸçš„çœŸçš„å¯ä»¥ä¸ºæ‰€æ¬²ä¸º</code></p><img src="http://m.qpic.cn/psc?/V13PUOHK44wDVX/4pNOqgOvBLvj4yTC9qc55ZHPKsirZkeJWNT6OAl66vYPz.*9P21qYu8.UTbtiqaUzTZLVewn7vnNCZUh7wX6Lafx6bJe*2XQ7BZ.PXshERw!/b&amp;bo=JQJOAiUCTgIRGS4!&amp;rf=viewer_4" style="zoom:50%;" /><h2 id="å¦‚ä½•ç”¨é“¾è¡¨å®ç°lruç¼“å­˜æ·˜æ±°ç®—æ³•"><a class="markdownIt-Anchor" href="#å¦‚ä½•ç”¨é“¾è¡¨å®ç°lruç¼“å­˜æ·˜æ±°ç®—æ³•"></a> å¦‚ä½•ç”¨é“¾è¡¨å®ç°LRUç¼“å­˜æ·˜æ±°ç®—æ³•ï¼Ÿ</h2><h3 id="ç¼“å­˜"><a class="markdownIt-Anchor" href="#ç¼“å­˜"></a> ç¼“å­˜</h3><ul><li>ç¼“å­˜å®šä¹‰ï¼šä¸€ç§é«˜æ•ˆæ•°æ®è¯»å–æ€§èƒ½çš„æŠ€æœ¯ï¼Œæ¯”å¦‚å¸¸è§çš„<strong>CPUç¼“å­˜</strong>ã€<strong>æ•°æ®åº“ç¼“å­˜</strong>ã€<strong>æµè§ˆå™¨ç¼“å­˜</strong>ç­‰ã€‚ç¼“å­˜åœ¨è®¡ç®—æœºè½¯ä»¶ã€ç¡¬ä»¶å¼€å‘ä¸­åº”ç”¨éƒ½å¾ˆå¹¿ã€‚</li><li>ç¼“å­˜ç‰¹ç‚¹ï¼šå¤§å°æœ‰é™ï¼Œè¢«ç”¨æ»¡æ—¶ï¼Œéœ€è¦æ¸…ç†ä¸€éƒ¨åˆ†æ•°æ®ï¼Œè€Œå“ªäº›æ•°æ®åº”è¯¥è¢«æ¸…ç†å“ªäº›åº”è¯¥è¢«ä¿ç•™ï¼Œç”±<code>ç¼“å­˜æ·˜æ±°ç­–ç•¥</code>å†³å®šã€‚</li></ul><h3 id="ç¼“å­˜æ·˜æ±°ç­–ç•¥"><a class="markdownIt-Anchor" href="#ç¼“å­˜æ·˜æ±°ç­–ç•¥"></a> ç¼“å­˜æ·˜æ±°ç­–ç•¥</h3><p>å¸¸è§çš„ç¼“å­˜æ·˜æ±°ç­–ç•¥æœ‰ï¼š<code>FIFOï¼ˆFirst in,First outï¼‰å…ˆè¿›å…ˆå‡ºç­–ç•¥</code>ã€<code>LFUï¼ˆLeast Frequently Usedï¼‰æœ€å°‘ä½¿ç”¨ç­–ç•¥</code>ã€<code>LRUï¼ˆLeast Recently Usedï¼‰æœ€è¿‘æœ€å°‘ä½¿ç”¨ç­–ç•¥</code>ã€‚</p><h3 id="ä¸‰ç§é“¾è¡¨"><a class="markdownIt-Anchor" href="#ä¸‰ç§é“¾è¡¨"></a> ä¸‰ç§é“¾è¡¨</h3><p>é“¾è¡¨é€šè¿‡æŒ‡é’ˆå°†ä¸€ç»„é›¶æ•£çš„å†…å­˜å—ä¸²è”åœ¨ä¸€èµ·ã€‚å…¶ä¸­å†…å­˜å—å«åšé“¾è¡¨çš„<strong>ç»“ç‚¹</strong>ï¼Œè®°å½•ç»“ç‚¹åœ°å€çš„å«åš<strong>æŒ‡é’ˆ</strong>ã€‚é“¾è¡¨çš„ç¬¬ä¸€ä¸ªç»“ç‚¹å«å¤´ç»“ç‚¹ï¼Œæœ€åä¸€ä¸ªç»“ç‚¹å«å°¾ç»“ç‚¹ã€‚</p><h4 id="å•é¡¹é“¾è¡¨"><a class="markdownIt-Anchor" href="#å•é¡¹é“¾è¡¨"></a> å•é¡¹é“¾è¡¨</h4><p>å¦‚æœé“¾è¡¨ä¸­åªå«æœ‰æŒ‡å‘åç»§èŠ‚ç‚¹çš„é“¾æ¥è¿™æ ·çš„å°±è¢«å«åšå•é“¾è¡¨å¤§æ¦‚</p><p>å•é“¾è¡¨çš„â€œå°¾ç»“ç‚¹â€ï¼Œå®ƒçš„æŒ‡é’ˆå¹¶ä¸æŒ‡å‘ä¸‹ä¸€ä¸ªç»“ç‚¹ï¼Œè€Œæ˜¯æŒ‡å‘ä¸€ä¸ªç©ºåœ°å€<code>NULL</code></p><p>æ‡’å¾—åºŸè¯ç›´æ¥æ‰”åŠ¨å›¾ï¼ŒåŠ¨æ€å›¾æ¥è‡ª<code>visualgo</code></p><h5 id="æœç´¢psè°·æ­Œæ‹“å±•æˆªä¸‹æ¥çš„gifå›¾å‡‘åˆçœ‹å§"><a class="markdownIt-Anchor" href="#æœç´¢psè°·æ­Œæ‹“å±•æˆªä¸‹æ¥çš„gifå›¾å‡‘åˆçœ‹å§"></a> æœç´¢ï¼ˆpsè°·æ­Œæ‹“å±•æˆªä¸‹æ¥çš„gifå›¾å‡‘åˆçœ‹å§ï¼‰</h5><img src="http://m.qpic.cn/psc?/V13PUOHK44wDVX/4pNOqgOvBLvj4yTC9qc55f4j0aPQ6fwuu2YBYnY6TtCaj6ZfsUK6.JCOHcBTh3Mb.HWu.tm96Uyw7vtQEFKK4gwuNAN07QhODHdA8o51JzA!/b&amp;bo=9AHRAPQB0QACCS0!&amp;rf=viewer_4"  /><h5 id="æ’å…¥"><a class="markdownIt-Anchor" href="#æ’å…¥"></a> æ’å…¥</h5><p><img src="http://m.qpic.cn/psc?/V13PUOHK44wDVX/4pNOqgOvBLvj4yTC9qc55cxuPHcgX7i8gLoawSImh4LRkqBDpYyw*7M3toD7JqdcAm*0amYZvw5iBZxVn4CGvd3.gumXjz1zgRb6RDhgc4U!/b&amp;bo=9AHMAPQBzAACaU0!&amp;rf=viewer_4" alt="" /></p><h5 id="åˆ é™¤"><a class="markdownIt-Anchor" href="#åˆ é™¤"></a> åˆ é™¤</h5><p><img src="http://m.qpic.cn/psc?/V13PUOHK44wDVX/4pNOqgOvBLvj4yTC9qc55SJngrf9bCY7tZSIXcB0z1c3awilTNLt.yAkIEEXaB9vaec6spGFqPbjXD0EBhoHlxye2blmmjp8F66MOnSHorU!/b&amp;bo=9AHMAPQBzAACaU0!&amp;rf=viewer_4" alt="" /></p><p>ï¼ˆpsï¼‰å•é“¾è¡¨æ’å…¥å’Œåˆ é™¤æ“ä½œï¼Œå¤æ‚åº¦ä¸ºO(1)</p><h4 id="å¾ªç¯é“¾è¡¨"><a class="markdownIt-Anchor" href="#å¾ªç¯é“¾è¡¨"></a> å¾ªç¯é“¾è¡¨</h4><p>ä¸€ç§ç‰¹æ®Šçš„å•é“¾è¡¨ï¼Œä¸å•é“¾è¡¨çš„åŒºåˆ«å°±åœ¨äºå°¾ç»“ç‚¹ï¼Œå…¶å°¾ç»“ç‚¹æŒ‡å‘é“¾è¡¨çš„å¤´ç»“ç‚¹</p><p>ç›¸æ¯”äºå•é“¾è¡¨ï¼Œå¾ªç¯é“¾è¡¨çš„ä¼˜åŠ¿åœ¨äºä»é“¾å°¾åˆ°é“¾å¤´å¾ˆæ–¹ä¾¿ã€‚è‘—åçš„<code>çº¦ç‘Ÿå¤«é—®é¢˜</code>ï¼Œå°±é€‚åˆè¿™ç§æ•°æ®ç»“æ„ã€‚</p><h4 id="åŒå‘é“¾è¡¨"><a class="markdownIt-Anchor" href="#åŒå‘é“¾è¡¨"></a> åŒå‘é“¾è¡¨</h4><p>å•é“¾è¡¨åªæœ‰ä¸€ä¸ªæ–¹å‘ï¼Œç»“ç‚¹åªæœ‰ä¸€ä¸ªåç»§æŒ‡é’ˆnextæŒ‡å‘åé¢çš„èŠ‚ç‚¹ã€‚åŒå‘é“¾è¡¨æœ‰ä¸¤ä¸ªæ–¹å‘ï¼Œä¸€ä¸ª<code>åç»§æŒ‡é’ˆnext</code>å’Œä¸€ä¸ª<code>å‰é©±æŒ‡é’ˆpre</code>ã€‚</p><p>åŒå‘é“¾è¡¨åœ¨æŸäº›æƒ…å†µä¸‹çš„æ’å…¥ã€åˆ é™¤æ“ä½œæ¯”å•é“¾è¡¨æ›´é«˜æ•ˆã€‚<br />ä¾‹å¦‚åˆ é™¤æ“ä½œï¼Œä»é“¾è¡¨ä¸­åˆ é™¤ä¸€ä¸ªæ•°æ®ï¼Œæœ‰ä¸¤ç§æƒ…å†µï¼š</p><ul><li>åˆ é™¤é“¾è¡¨ä¸­å€¼ç­‰äºæŸä¸ªç»™å®šå€¼çš„ç»“ç‚¹</li><li>åˆ é™¤ç»™å®šæŒ‡é’ˆæŒ‡å‘çš„ç»“ç‚¹</li></ul><p>å¯¹äºç¬¬ä¸€ç§æƒ…å†µï¼Œæ— è®ºå•é“¾è¡¨è¿˜æ˜¯åŒå‘é“¾è¡¨ï¼Œä¸ºäº†æŸ¥æ‰¾åˆ°å€¼ç­‰äºç»™å®šå€¼çš„ç»“ç‚¹ï¼Œéƒ½éœ€è¦ä»å¤´ç»“ç‚¹å¼€å§‹ä¸€ä¸ªä¸€ä¸ªä¾æ¬¡éå†å¯¹æ¯”ï¼Œç›´åˆ°æ‰¾åˆ°å€¼ç­‰äºç»™å®šå€¼çš„ç»“ç‚¹ï¼Œç„¶åå†å°†å…¶åˆ é™¤ã€‚<br />å°½ç®¡å•çº¯çš„åˆ é™¤æ“ä½œæ—¶é—´å¤æ‚åº¦æ˜¯ <code>O(1)</code>ï¼Œä½†éå†æŸ¥æ‰¾çš„æ—¶é—´æ˜¯ä¸»è¦çš„è€—æ—¶ç‚¹ï¼Œå¯¹åº”çš„æ—¶é—´å¤æ‚åº¦ä¸º <code>O(n)</code>ã€‚æ ¹æ®æ—¶é—´å¤æ‚åº¦åˆ†æä¸­çš„åŠ æ³•æ³•åˆ™ï¼Œåˆ é™¤å€¼ç­‰äºç»™å®šå€¼çš„ç»“ç‚¹å¯¹åº”çš„é“¾è¡¨æ“ä½œçš„æ€»æ—¶é—´å¤æ‚åº¦ä¸º <code>O(n)</code>ã€‚</p><p>å¯¹äºç¬¬äºŒç§æƒ…å†µï¼Œå·²ç»æ‰¾åˆ°äº†è¦åˆ é™¤çš„ç»“ç‚¹ï¼Œä½†æ˜¯åˆ é™¤æŸä¸ªç»“ç‚¹ <code>q</code> éœ€è¦çŸ¥é“å…¶å‰é©±ç»“ç‚¹ï¼Œè€Œå•é“¾è¡¨å¹¶ä¸æ”¯æŒç›´æ¥è·å–å‰é©±ç»“ç‚¹ã€‚è¿™ç§æƒ…å†µä¸‹<strong>å•é“¾è¡¨</strong>åˆ é™¤æ“ä½œéœ€è¦ <code>O(n)</code> çš„æ—¶é—´å¤æ‚åº¦ï¼Œè€Œ<strong>åŒå‘é“¾è¡¨</strong>åªéœ€è¦ <code>O(1)</code> çš„æ—¶é—´å¤æ‚åº¦ã€‚</p><p>ä»¥ä¸Šçš„æƒ…å†µæ¶‰åŠåˆ°ä¸€ä¸ª<code>ç©ºé—´æ¢æ—¶é—´</code>çš„è®¾è®¡æ€æƒ³ï¼šåŒå‘é“¾è¡¨æ›´è´¹å†…å­˜ï¼Œä½†ä»æ¯”å•é“¾è¡¨åº”ç”¨æ›´å¹¿æ³›ã€‚</p><blockquote><p>ç¼“å­˜å®é™…ä¸Šå°±æ˜¯åˆ©ç”¨äº†ç©ºé—´æ¢æ—¶é—´çš„è®¾è®¡æ€æƒ³ã€‚<br />å¦‚æœæˆ‘ä»¬æŠŠæ•°æ®å­˜å‚¨åœ¨ç¡¬ç›˜ä¸Šï¼Œä¼šæ¯”è¾ƒèŠ‚çœå†…å­˜ï¼Œä½†æ¯æ¬¡æŸ¥æ‰¾æ•°æ®éƒ½è¦è¯¢é—®ä¸€æ¬¡ç¡¬ç›˜ï¼Œä¼šæ¯”è¾ƒæ…¢ã€‚<br />ä½†å¦‚æœæˆ‘ä»¬é€šè¿‡ç¼“å­˜æŠ€æœ¯ï¼Œäº‹å…ˆå°†æ•°æ®åŠ è½½åœ¨å†…å­˜ä¸­ï¼Œè™½ç„¶ä¼šæ¯”è¾ƒè€—è´¹å†…å­˜ç©ºé—´ï¼Œä½†æ˜¯æ¯æ¬¡æ•°æ®æŸ¥è¯¢çš„é€Ÿåº¦å°±å¤§å¤§æé«˜äº†ã€‚</p></blockquote><p>è‹¥å†…å­˜ç©ºé—´å……è¶³ï¼Œå¦‚æœæ›´åŠ è¿½æ±‚ä»£ç çš„æ‰§è¡Œé€Ÿåº¦ï¼Œå°±é€‰æ‹©ç©ºé—´å¤æ‚åº¦ç›¸å¯¹è¾ƒé«˜ï¼Œæ—¶é—´å¤æ‚åº¦ç›¸å¯¹è¾ƒä½çš„ç®—æ³•å’Œæ•°æ®ç»“æ„ï¼Œä¾‹å¦‚ï¼Œç¼“å­˜æŠ€æœ¯ã€‚<br />è‹¥å†…å­˜æ¯”è¾ƒç´§ç¼ºï¼Œæ¯”å¦‚ä»£ç è·‘åœ¨æ‰‹æœºæˆ–è€…å•ç‰‡æœºä¸Šï¼Œè¿™æ—¶ï¼Œå°±è¦åè¿‡æ¥ç”¨æ—¶é—´æ¢ç©ºé—´ã€‚</p><h3 id="æ•°ç»„ä¸é“¾è¡¨å¯¹æ¯”"><a class="markdownIt-Anchor" href="#æ•°ç»„ä¸é“¾è¡¨å¯¹æ¯”"></a> æ•°ç»„ä¸é“¾è¡¨å¯¹æ¯”</h3><h4 id="æ—¶é—´å¤æ‚åº¦"><a class="markdownIt-Anchor" href="#æ—¶é—´å¤æ‚åº¦"></a> æ—¶é—´å¤æ‚åº¦</h4><p>åˆ é™¤ã€æ’å…¥ï¼š<code>é“¾è¡¨O(1)</code>ã€<code>æ•°ç»„O(n)</code></p><p>éšæœºè®¿é—®æ“ä½œï¼š<code>é“¾è¡¨O(n)</code>ã€<code>æ•°ç»„(1)</code></p><h4 id="ç¼“å­˜æ”¯æŒ"><a class="markdownIt-Anchor" href="#ç¼“å­˜æ”¯æŒ"></a> ç¼“å­˜æ”¯æŒ</h4><p>æ•°ç»„åœ¨å®ç°ä¸Šä½¿ç”¨çš„æ˜¯è¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œå¯ä»¥å€ŸåŠ© CPU çš„ç¼“å­˜æœºåˆ¶ï¼Œé¢„è¯»æ•°ç»„ä¸­çš„æ•°æ®ï¼Œæ‰€ä»¥è®¿é—®æ•ˆç‡æ›´é«˜ã€‚</p><p>é“¾è¡¨åœ¨å†…å­˜ä¸­å¹¶ä¸æ˜¯è¿ç»­å­˜å‚¨ï¼Œæ‰€ä»¥å¯¹ CPU ç¼“å­˜ä¸å‹å¥½ï¼Œæ²¡åŠæ³•æœ‰æ•ˆé¢„è¯»ã€‚</p><h5 id="åŸå› -2"><a class="markdownIt-Anchor" href="#åŸå› -2"></a> åŸå› </h5><p>CPUåœ¨ä»å†…å­˜è¯»å–æ•°æ®çš„æ—¶å€™ï¼Œä¼šå…ˆæŠŠè¯»å–åˆ°çš„æ•°æ®åŠ è½½åˆ°CPUçš„ç¼“å­˜ä¸­ã€‚è€ŒCPUæ¯æ¬¡ä»å†…å­˜è¯»å–æ•°æ®å¹¶ä¸æ˜¯åªè¯»å–è¦è®¿é—®çš„åœ°å€ï¼Œè€Œæ˜¯è¯»å–ä¸€ä¸ªæ•°æ®å—ï¼Œå¹¶ä¿å­˜åˆ°CPUç¼“å­˜ä¸­ï¼Œç„¶åä¸‹æ¬¡è®¿é—®å†…å­˜æ•°æ®çš„æ—¶å€™å°±ä¼šå…ˆä»CPUç¼“å­˜å¼€å§‹æŸ¥æ‰¾ï¼Œå¦‚æœæ‰¾åˆ°å°±ä¸éœ€è¦å†ä»å†…å­˜ä¸­å–ã€‚<br />è¿™æ ·å°±å®ç°äº†æ¯”å†…å­˜è®¿é—®é€Ÿåº¦æ›´å¿«çš„æœºåˆ¶ï¼Œä¹Ÿæ˜¯CPUç¼“å­˜å­˜åœ¨çš„æ„ä¹‰ï¼š<strong>ä¸ºäº†å¼¥è¡¥å†…å­˜è®¿é—®é€Ÿåº¦è¿‡æ…¢ä¸CPUæ‰§è¡Œé€Ÿåº¦å¿«ä¹‹é—´çš„å·®å¼‚</strong>ã€‚<br />å¯¹äºæ•°ç»„æ¥è¯´ï¼Œå­˜å‚¨ç©ºé—´æ˜¯è¿ç»­çš„ï¼Œæ‰€ä»¥åœ¨åŠ è½½æŸä¸ªä¸‹æ ‡çš„æ—¶å€™å¯ä»¥æŠŠä»¥åçš„å‡ ä¸ªä¸‹æ ‡å…ƒç´ ä¹ŸåŠ è½½åˆ°CPUç¼“å­˜è¿™æ ·æ‰§è¡Œé€Ÿåº¦ä¼šå¿«äºå­˜å‚¨ç©ºé—´ä¸è¿ç»­çš„é“¾è¡¨å­˜å‚¨ã€‚</p><h4 id="çµæ´»æ€§"><a class="markdownIt-Anchor" href="#çµæ´»æ€§"></a> çµæ´»æ€§</h4><p>æ•°ç»„å¤§å°å›ºå®šï¼Œä¸€ç»å£°æ˜å°±è¦å ç”¨æ•´å—è¿ç»­å†…å­˜ç©ºé—´ã€‚å¦‚æœå£°æ˜çš„æ•°ç»„è¿‡å¤§ï¼Œç³»ç»Ÿå¯èƒ½æ²¡æœ‰è¶³å¤Ÿçš„è¿ç»­å†…å­˜ç©ºé—´åˆ†é…ç»™å®ƒï¼Œå¯¼è‡´<code>å†…å­˜ä¸è¶³ï¼ˆout of memoryï¼‰</code>ã€‚å¦‚æœå£°æ˜çš„æ•°ç»„è¿‡å°ï¼Œåˆ™å¯èƒ½å‡ºç°ä¸å¤Ÿç”¨çš„æƒ…å†µã€‚è¿™æ—¶åªèƒ½å†ç”³è¯·ä¸€ä¸ªæ›´å¤§çš„å†…å­˜ç©ºé—´ï¼ŒæŠŠåŸæ•°ç»„æ‹·è´è¿›å»ï¼Œéå¸¸è´¹æ—¶ã€‚</p><p>é“¾è¡¨æœ¬èº«æ²¡æœ‰å¤§å°çš„é™åˆ¶ï¼Œå¤©ç„¶åœ°æ”¯æŒåŠ¨æ€æ‰©å®¹ã€‚</p><h2 id="é“¾è¡¨å®ç°lruç¼“å­˜æ·˜æ±°ç­–ç•¥çš„æ€è·¯"><a class="markdownIt-Anchor" href="#é“¾è¡¨å®ç°lruç¼“å­˜æ·˜æ±°ç­–ç•¥çš„æ€è·¯"></a> é“¾è¡¨å®ç°LRUç¼“å­˜æ·˜æ±°ç­–ç•¥çš„æ€è·¯</h2><p>ç»´æŠ¤ä¸€ä¸ªæœ‰åºå•é“¾è¡¨ï¼Œè¶Šé è¿‘é“¾è¡¨å°¾éƒ¨çš„ç»“ç‚¹æ˜¯è¶Šæ—©è¢«è®¿é—®è¿‡çš„ã€‚å½“æœ‰æ–°çš„æ•°æ®è¢«è®¿é—®æ—¶ï¼Œä»é“¾è¡¨å¤´å¼€å§‹é¡ºåºéå†é“¾è¡¨ã€‚----ç¼“å­˜è®¿é—®çš„æ—¶é—´å¤æ‚åº¦ä¸º<code>O(n)</code></p><h3 id="è¿‡ç¨‹"><a class="markdownIt-Anchor" href="#è¿‡ç¨‹"></a> è¿‡ç¨‹ï¼š</h3><p>1 . å½“è®¿é—®çš„æ•°æ®å­˜å‚¨åœ¨ç¼“å­˜çš„é“¾è¡¨ä¸­æ—¶ï¼Œéå†å¾—åˆ°æ•°æ®å¯¹åº”çš„ç»“ç‚¹ï¼Œå°†å…¶ä»åŸä½ç½®åˆ é™¤ï¼Œå†å°†å…¶æ’å…¥åˆ°é“¾è¡¨è¡¨å¤´ï¼›<br />2 . å½“è®¿é—®çš„æ•°æ®æœªå‡ºç°åœ¨ç¼“å­˜çš„é“¾è¡¨ä¸­æ—¶<br />1ï¼‰è‹¥ç¼“å­˜æœ‰ç©ºé—²ï¼Œå°†è¯¥æ•°æ®ç›´æ¥æ’å…¥åˆ°é“¾è¡¨è¡¨å¤´ã€‚<br />2ï¼‰è‹¥ç¼“å­˜è¢«å æ»¡ï¼Œåˆ™å°†é“¾è¡¨å°¾éƒ¨çš„æ•°æ®åˆ é™¤ï¼Œå†å°†æ–°æ•°æ®æ’å…¥åˆ°é“¾è¡¨è¡¨å¤´ã€‚</p><h3 id="ä¼˜åŒ–ä½¿ç”¨æ•£åˆ—è¡¨è®°å½•æ¯ä¸ªæ•°æ®çš„ä½ç½®å°†ç¼“å­˜è®¿é—®çš„æ—¶é—´å¤æ‚åº¦é™åˆ°-o1"><a class="markdownIt-Anchor" href="#ä¼˜åŒ–ä½¿ç”¨æ•£åˆ—è¡¨è®°å½•æ¯ä¸ªæ•°æ®çš„ä½ç½®å°†ç¼“å­˜è®¿é—®çš„æ—¶é—´å¤æ‚åº¦é™åˆ°-o1"></a> ä¼˜åŒ–ï¼šä½¿ç”¨æ•£åˆ—è¡¨ï¼Œè®°å½•æ¯ä¸ªæ•°æ®çš„ä½ç½®ï¼Œå°†ç¼“å­˜è®¿é—®çš„æ—¶é—´å¤æ‚åº¦é™åˆ° O(1)ã€‚</h3><h2 id="æ€è€ƒ"><a class="markdownIt-Anchor" href="#æ€è€ƒ"></a> æ€è€ƒ</h2><h3 id="å¦‚ä½•ç”¨æ•°ç»„å®ç°lruç¼“å­˜æ·˜æ±°ç­–ç•¥"><a class="markdownIt-Anchor" href="#å¦‚ä½•ç”¨æ•°ç»„å®ç°lruç¼“å­˜æ·˜æ±°ç­–ç•¥"></a> å¦‚ä½•ç”¨æ•°ç»„å®ç°LRUç¼“å­˜æ·˜æ±°ç­–ç•¥ï¼Ÿ</h3><p>æ–¹å¼ä¸€ï¼šé¦–ä½ç½®ä¿å­˜æœ€æ–°è®¿é—®æ•°æ®ï¼Œæœ«å°¾ä½ç½®ä¼˜å…ˆæ¸…ç†<br />å½“è®¿é—®çš„æ•°æ®æœªå­˜åœ¨äºç¼“å­˜çš„æ•°ç»„ä¸­æ—¶<br />1ï¼‰ç¼“å­˜æœ‰ç©ºé—²ï¼Œå°†æ•°æ®æ’å…¥æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ ä½ç½®ï¼Œæ•°ç»„æ‰€æœ‰å…ƒç´ éœ€è¦å‘åç§»åŠ¨1ä¸ªä½ç½®ï¼Œæ–°æ•°æ®æ’å…¥æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ ä½ç½®ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n)ï¼›<br />2ï¼‰ç¼“å­˜æ— ç©ºé—²ï¼Œæ¸…ç†æ•°ç»„æœ«å°¾ä½ç½®çš„å…ƒç´ ï¼Œæ•°ç»„æ‰€æœ‰å…ƒç´ éœ€è¦å‘åç§»åŠ¨1ä¸ªä½ç½®ï¼Œæ–°æ•°æ®æ’å…¥æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ ä½ç½®ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n)ï¼›<br />å½“è®¿é—®çš„æ•°æ®å­˜åœ¨äºç¼“å­˜çš„æ•°ç»„ä¸­æ—¶ï¼ŒæŸ¥æ‰¾åˆ°æ•°æ®ï¼Œå°†å…¶ä»åŸä½ç½®åˆ é™¤ï¼Œå¹¶å°†å…¶æ’å…¥æ•°ç»„çš„ç¬¬ä¸€ä¸ªä½ç½®ï¼Œæ­¤æ—¶äº¦éœ€ç§»åŠ¨æ•°ç»„å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n)ã€‚</p><p>æ–¹å¼äºŒï¼šé¦–ä½ç½®ä¼˜å…ˆæ¸…ç†ï¼Œæœ«å°¾ä½ç½®ä¿å­˜æœ€æ–°è®¿é—®æ•°æ®<br />å½“è®¿é—®çš„æ•°æ®æœªå­˜åœ¨äºç¼“å­˜çš„æ•°ç»„ä¸­æ—¶<br />1ï¼‰ç¼“å­˜æœ‰ç©ºé—²ï¼Œç›´æ¥å°†æ•°æ®æ·»åŠ è¿›æ•°ç»„ä½œä¸ºå½“å‰æœ€åä¸€ä¸ªå…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(1)ï¼›<br />2ï¼‰ç¼“å­˜æ— ç©ºé—²ï¼Œæ¸…ç†æ•°ç»„é¦–ä½ç½®çš„å…ƒç´ ï¼Œæ•°ç»„æ‰€æœ‰å…ƒç´ å‘å‰ç§»åŠ¨1ä¸ªä½ç½®ï¼Œ å°†æ–°å…ƒç´ æ’å…¥æ•°ç»„ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n)ï¼›<br />å½“è®¿é—®çš„æ•°æ®å­˜åœ¨äºç¼“å­˜çš„æ•°ç»„ä¸­æ—¶ï¼ŒæŸ¥æ‰¾åˆ°æ•°æ®ï¼Œå°†å…¶ä»åŸä½ç½®åˆ é™¤ï¼Œå¹¶å°†å…¶æ’å…¥å½“å‰æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ çš„ä½ç½®ï¼Œæ­¤æ—¶äº¦éœ€ç§»åŠ¨æ•°ç»„å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n)ã€‚</p><h4 id="ä¼˜åŒ–æ¸…ç†çš„æ—¶å€™å¯ä»¥è€ƒè™‘ä¸€æ¬¡æ€§æ¸…ç†ä¸€å®šæ•°é‡ä»è€Œé™ä½æ¸…ç†æ¬¡æ•°æé«˜æ€§èƒ½"><a class="markdownIt-Anchor" href="#ä¼˜åŒ–æ¸…ç†çš„æ—¶å€™å¯ä»¥è€ƒè™‘ä¸€æ¬¡æ€§æ¸…ç†ä¸€å®šæ•°é‡ä»è€Œé™ä½æ¸…ç†æ¬¡æ•°æé«˜æ€§èƒ½"></a> ä¼˜åŒ–ï¼šæ¸…ç†çš„æ—¶å€™å¯ä»¥è€ƒè™‘ä¸€æ¬¡æ€§æ¸…ç†ä¸€å®šæ•°é‡ï¼Œä»è€Œé™ä½æ¸…ç†æ¬¡æ•°ï¼Œæé«˜æ€§èƒ½ã€‚</h4><h3 id="å¦‚ä½•é€šè¿‡å•é“¾è¡¨å®ç°åˆ¤æ–­æŸä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸ºå›æ–‡å­—ç¬¦ä¸²"><a class="markdownIt-Anchor" href="#å¦‚ä½•é€šè¿‡å•é“¾è¡¨å®ç°åˆ¤æ–­æŸä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸ºå›æ–‡å­—ç¬¦ä¸²"></a> å¦‚ä½•é€šè¿‡å•é“¾è¡¨å®ç°â€œåˆ¤æ–­æŸä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸ºå›æ–‡å­—ç¬¦ä¸²â€ï¼Ÿ</h3><p>æ¯”å¦‚ â€œ123454321â€<br />1 . å‰æï¼šå­—ç¬¦ä¸²ä»¥å•ä¸ªå­—ç¬¦çš„å½¢å¼å­˜å‚¨åœ¨å•é“¾è¡¨ä¸­ã€‚<br />2 . éå†é“¾è¡¨ï¼Œåˆ¤æ–­å­—ç¬¦ä¸ªæ•°æ˜¯å¦ä¸ºå¥‡æ•°ï¼Œè‹¥ä¸ºå¶æ•°ï¼Œåˆ™ä¸æ˜¯ã€‚<br />3 . å°†é“¾è¡¨ä¸­çš„å­—ç¬¦å€’åºå­˜å‚¨ä¸€ä»½åœ¨å¦ä¸€ä¸ªé“¾è¡¨ä¸­ã€‚<br />4 . åŒæ­¥éå†2ä¸ªé“¾è¡¨ï¼Œæ¯”è¾ƒå¯¹åº”çš„å­—ç¬¦æ˜¯å¦ç›¸ç­‰ï¼Œè‹¥ç›¸ç­‰ï¼Œåˆ™æ˜¯å›æ–‡å­—ç¬¦ä¸²ï¼Œå¦åˆ™ï¼Œä¸æ˜¯ã€‚</p><p>å¤§æ¦‚å°±é‚£ä¹ˆå¤šå§</p><p><img src="http://r.photo.store.qq.com/psc?/V13PUOHK44wDVX/U3..NSiujzLMR7a*2QgXbZw8XfF3J1ylMRNVgRsTpuXpFpZ1aZlVPCzTH91gFx9RfK2HRp*YGv2n*SUl5.DuhA!!/r&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=qgCWAKoAlgARGS4!&amp;tl=3&amp;vuin=2080702939&amp;tm=1582869600&amp;sce=60-0-0&amp;rf=viewer_4" alt="" /></p><h2 id="è®²è®²å®Œäº†ä»£ç å‘¢"><a class="markdownIt-Anchor" href="#è®²è®²å®Œäº†ä»£ç å‘¢"></a> è®²â€¦è®²å®Œäº†ï¼Ÿï¼Ÿï¼Ÿï¼Ÿä»£ç å‘¢</h2><p>ä¸â€¦ä¸ä¼šå†™å•Šï¼Œæ˜¯çš„è®²äº†é‚£ä¹ˆå¤šç„¶è€Œå¹¶æ²¡æœ‰ä¼šï¼Œä»£ç è¯¥ä¸ä¼šè¿˜æ˜¯ä¸ä¼š</p><p><img src="http://m.qpic.cn/psc?/V13PUOHK44wDVX/4pNOqgOvBLvj4yTC9qc55TNrZpCSVaPEjLDu2ufCyC6Wodjoy7jTVD4m*GnhbzrOkRuVExEqUj.nfB7vo2*MY1f0vtfgEgShNuzQWDbmzMo!/b&amp;bo=9AH0AfQB9AERGS4!&amp;rf=viewer_4" alt="" /></p><p>æ˜¯çš„æ²¡é”™è¦ç”¨æŒ‡é’ˆé‚£å°±ä¸ä¼šäº†å‘¢ï¼Œä¸€ç‚¹éƒ½ä¸ä¼šäº†å‘¢ï¼Œæ²¡å•†é‡å‘¢ï¼Œä¸ä¼šå°±æ˜¯ä¸ä¼šå‘¢</p><h2 id="ä½†æ˜¯ä¸€ç‚¹ç‚¹è¿˜æ˜¯å¯ä»¥çš„"><a class="markdownIt-Anchor" href="#ä½†æ˜¯ä¸€ç‚¹ç‚¹è¿˜æ˜¯å¯ä»¥çš„"></a> ä½†æ˜¯ä¸€ç‚¹ç‚¹è¿˜æ˜¯å¯ä»¥çš„</h2><p>å°±æˆ‘ä¼šçš„ç¨å¾®è¯´ä¸€ä¸‹ï¼Œæ˜¯çš„è¿™å°±æ˜¯æˆ‘å…¨éƒ¨æ˜¯çŸ¥è¯†å‚¨å¤‡äº†</p><img src="http://m.qpic.cn/psc?/V13PUOHK44wDVX/4pNOqgOvBLvj4yTC9qc55W*yzCSuBCaxd5iynpJtvAWdOcwFnc4S2PrIWl8K0QvU0ZIe6SSDz9o3Q8eDyk*bSwhDxHmK9EuJdNhSpUlaGzs!/b&amp;bo=0ALPAtACzwIRCT4!&amp;rf=viewer_4" style="zoom:80%;" /><h3 id="ç†è§£æŒ‡é’ˆæˆ–å¼•ç”¨çš„å«ä¹‰"><a class="markdownIt-Anchor" href="#ç†è§£æŒ‡é’ˆæˆ–å¼•ç”¨çš„å«ä¹‰"></a> ç†è§£æŒ‡é’ˆæˆ–å¼•ç”¨çš„å«ä¹‰</h3><p>æœ‰äº›è¯­è¨€æœ‰<code>æŒ‡é’ˆ</code>æ¦‚å¿µï¼Œæ¯”å¦‚Cè¯­è¨€ï¼›æœ‰äº›è¯­è¨€æ²¡æœ‰æŒ‡é’ˆï¼Œå–è€Œä»£ä¹‹çš„æ˜¯<code>å¼•ç”¨</code>ï¼Œæ¯”å¦‚Javaã€Pythonã€‚ä¸ç®¡â€œæŒ‡é’ˆâ€è¿˜æ˜¯â€œå¼•ç”¨â€ï¼Œéƒ½æ˜¯ä¸€ä¸ªæ„æ€ï¼Œ<code>æŒ‡å­˜å‚¨æ‰€æŒ‡å¯¹è±¡çš„å†…å­˜åœ°å€</code>ã€‚</p><blockquote><p>æŒ‡é’ˆå«ä¹‰ï¼šå°†æŸä¸ªå˜é‡ï¼ˆå¯¹è±¡ï¼‰èµ‹å€¼ç»™æŒ‡é’ˆï¼ˆå¼•ç”¨ï¼‰ï¼Œå®é™…ä¸Šå°±æ˜¯å°±æ˜¯å°†è¿™ä¸ªå˜é‡ï¼ˆå¯¹è±¡ï¼‰çš„åœ°å€èµ‹å€¼ç»™æŒ‡é’ˆï¼ˆå¼•ç”¨ï¼‰</p></blockquote><h4 id="ç¤ºä¾‹"><a class="markdownIt-Anchor" href="#ç¤ºä¾‹"></a> ç¤ºä¾‹ï¼š</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pâ€”&gt;next = q; </span><br></pre></td></tr></table></figure><p>è¡¨ç¤º<code>p</code>èŠ‚ç‚¹çš„åç»§<code>next</code>æŒ‡é’ˆå­˜å‚¨äº†<code>q</code>èŠ‚ç‚¹çš„å†…å­˜åœ°å€</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pâ€”&gt;next = pâ€”&gt;nextâ€”&gt;next;</span><br></pre></td></tr></table></figure><p>è¡¨ç¤º<code>p</code>èŠ‚ç‚¹çš„åç»§<code>next</code>æŒ‡é’ˆå­˜å‚¨äº†<code>p</code>èŠ‚ç‚¹çš„ä¸‹ä¸‹ä¸ªèŠ‚ç‚¹çš„å†…å­˜åœ°å€ã€‚</p><h3 id="è­¦æƒ•æŒ‡é’ˆä¸¢å¤±å’Œå†…å­˜æ³„æ¼"><a class="markdownIt-Anchor" href="#è­¦æƒ•æŒ‡é’ˆä¸¢å¤±å’Œå†…å­˜æ³„æ¼"></a> è­¦æƒ•æŒ‡é’ˆä¸¢å¤±å’Œå†…å­˜æ³„æ¼</h3><h4 id="ç¤ºä¾‹-2"><a class="markdownIt-Anchor" href="#ç¤ºä¾‹-2"></a> ç¤ºä¾‹ï¼š</h4><p>å•é“¾è¡¨çš„æ’å…¥ï¼Œå¸Œæœ›åœ¨èŠ‚ç‚¹aå’Œç›¸é‚»èŠ‚ç‚¹bä¹‹é—´æ’å…¥èŠ‚ç‚¹xï¼Œå‡è®¾å½“å‰æŒ‡é’ˆpæŒ‡å‘èŠ‚ç‚¹aï¼Œåˆ™é€ æˆæŒ‡é’ˆä¸¢å¤±å’Œå†…å­˜æ³„æ¼çš„ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">p-&gt;next = x;</span><br><span class="line">x-&gt;next = p-&gt;next</span><br></pre></td></tr></table></figure><p>å¯¼è‡´å°†<code>x</code>è‡ªèº«èµ‹å€¼ç»™äº†<code>x-&gt;next</code>ï¼Œè‡ªå·±æŒ‡å‘è‡ªå·±ã€‚</p><blockquote><p>å¯¹äºæœ‰äº›è¯­è¨€æ¥è¯´ï¼Œæ¯”å¦‚ C è¯­è¨€ï¼Œå†…å­˜ç®¡ç†æ˜¯ç”±ç¨‹åºå‘˜è´Ÿè´£çš„ï¼Œå¦‚æœæ²¡æœ‰æ‰‹åŠ¨é‡Šæ”¾ç»“ç‚¹å¯¹åº”çš„å†…å­˜ç©ºé—´ï¼Œå°±ä¼šäº§ç”Ÿå†…å­˜æ³„éœ²ã€‚</p></blockquote><p>æ‰€ä»¥ï¼Œæ’å…¥ç»“ç‚¹æ—¶ï¼Œä¸€å®šè¦æ³¨æ„æ“ä½œçš„é¡ºåºã€‚ä¸Šé¢ä»£ç çš„æ­£ç¡®å†™æ³•æ˜¯ï¼š<strong>ä¸¤å¥ä»£ç é¡ºåºè°ƒæ¢</strong>ã€‚<br />åŒç†ï¼Œåˆ é™¤é“¾è¡¨æ—¶ï¼Œä¹Ÿä¸€å®šè¦æ‰‹åŠ¨é‡Šæ”¾å†…å­˜ç©ºé—´ï¼Œå¦åˆ™ï¼Œä¹Ÿä¼šå‡ºç°å†…å­˜æ³„æ¼é—®é¢˜ã€‚</p><blockquote><p>Pythonè¯­è¨€ä¸éœ€æ‰‹åŠ¨é‡Šæ”¾ï¼Œå®ƒçš„è§£é‡Šå™¨çš„å­˜å‚¨ç®¡ç†ç³»ç»Ÿä¼šè‡ªåŠ¨å›æ”¶ä¸ç”¨çš„å­˜å‚¨ã€‚</p></blockquote><h3 id="åˆ©ç”¨å“¨å…µå¤´ç»“ç‚¹ç®€åŒ–å®ç°éš¾åº¦"><a class="markdownIt-Anchor" href="#åˆ©ç”¨å“¨å…µå¤´ç»“ç‚¹ç®€åŒ–å®ç°éš¾åº¦"></a> åˆ©ç”¨å“¨å…µï¼ˆå¤´ç»“ç‚¹ï¼‰ç®€åŒ–å®ç°éš¾åº¦</h3><h4 id="å“¨å…µå«ä¹‰"><a class="markdownIt-Anchor" href="#å“¨å…µå«ä¹‰"></a> <code>å“¨å…µ</code>å«ä¹‰ï¼š</h4><p>é“¾è¡¨ä¸­çš„<code>å“¨å…µ</code>èŠ‚ç‚¹æ˜¯è§£å†³è¾¹ç•Œé—®é¢˜çš„ï¼Œä¸å‚ä¸ä¸šåŠ¡é€»è¾‘ã€‚å¦‚æœæˆ‘ä»¬å¼•å…¥<code>å“¨å…µ</code>èŠ‚ç‚¹ï¼Œåˆ™ä¸ç®¡é“¾è¡¨æ˜¯å¦ä¸ºç©ºï¼ŒheadæŒ‡é’ˆéƒ½ä¼šæŒ‡å‘è¿™ä¸ªâ€œå“¨å…µâ€èŠ‚ç‚¹ã€‚æˆ‘ä»¬æŠŠè¿™ç§æœ‰â€œå“¨å…µâ€èŠ‚ç‚¹çš„é“¾è¡¨ç§°ä¸º<code>å¸¦å¤´é“¾è¡¨</code>ï¼Œç›¸åï¼Œæ²¡æœ‰<code>å“¨å…µ</code>èŠ‚ç‚¹çš„é“¾è¡¨å°±ç§°ä¸ºä¸å¸¦å¤´é“¾è¡¨ã€‚</p><h4 id="ç¤ºä¾‹-3"><a class="markdownIt-Anchor" href="#ç¤ºä¾‹-3"></a> ç¤ºä¾‹ï¼š</h4><h5 id="ä¸å¸¦å¤´ç»“ç‚¹æ—¶"><a class="markdownIt-Anchor" href="#ä¸å¸¦å¤´ç»“ç‚¹æ—¶"></a> ä¸å¸¦å¤´ç»“ç‚¹æ—¶ï¼š</h5><ul><li>å¯¹äºå•é“¾è¡¨çš„æ’å…¥æ“ä½œ</li></ul><p>1 . å¦‚æœåœ¨pèŠ‚ç‚¹åæ’å…¥ä¸€ä¸ªæ–°èŠ‚ç‚¹ï¼Œåªéœ€2è¡Œä»£ç å³å¯æå®šï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">new_nodeâ€”&gt;next = pâ€”&gt;next;</span><br><span class="line">pâ€”&gt;next = new_node;</span><br></pre></td></tr></table></figure><p>2 . å¦‚æœå‘ç©ºé“¾è¡¨ä¸­æ’å…¥ä¸€ä¸ªæ–°ç»“ç‚¹ï¼Œåˆ™ä»£ç å°±ä¸åŒï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(head == null)&#123;</span><br><span class="line">  head = new_node;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å¯¹äºå•é“¾è¡¨çš„åˆ é™¤æ“ä½œ</li></ul><p>1 . å¦‚æœè¦åˆ é™¤èŠ‚ç‚¹pçš„åç»§èŠ‚ç‚¹ï¼Œåªéœ€1è¡Œä»£ç å³å¯æå®šï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pâ€”&gt;next = pâ€”&gt;nextâ€”&gt;next;</span><br></pre></td></tr></table></figure><p>2 . å¦‚æœåˆ é™¤çš„æ˜¯é“¾è¡¨çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼ˆé“¾è¡¨ä¸­åªå‰©ä¸‹è¿™ä¸ªèŠ‚ç‚¹ï¼‰ï¼Œåˆ™ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(headâ€”&gt;next == null)&#123;</span><br><span class="line">  head = null;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ä»¥ä¸Šç¤ºä¾‹å¯ä»¥çœ‹å‡ºï¼Œä¸å¸¦å¤´ç»“ç‚¹æ—¶ï¼Œå•é“¾è¡¨çš„æ’å…¥ã€åˆ é™¤æ“ä½œï¼Œéœ€è¦å¯¹æ’å…¥ç¬¬ä¸€ä¸ªç»“ç‚¹å’Œåˆ é™¤æœ€åä¸€ä¸ªç»“ç‚¹ä½œç‰¹æ®Šå¤„ç†ã€‚</p></blockquote><h5 id="å¸¦å¤´ç»“ç‚¹æ—¶"><a class="markdownIt-Anchor" href="#å¸¦å¤´ç»“ç‚¹æ—¶"></a> å¸¦å¤´ç»“ç‚¹æ—¶ï¼š</h5><p><code>å“¨å…µ</code>èŠ‚ç‚¹ä¸å­˜å‚¨æ•°æ®ï¼Œæ— è®ºé“¾è¡¨æ˜¯å¦ä¸ºç©ºï¼Œ<code>head</code>æŒ‡é’ˆéƒ½ä¼šæŒ‡å‘å®ƒï¼Œä½œä¸ºé“¾è¡¨çš„å¤´ç»“ç‚¹å§‹ç»ˆå­˜åœ¨ã€‚<br />è¿™æ ·ï¼Œæ’å…¥ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å’Œæ’å…¥å…¶ä»–èŠ‚ç‚¹ï¼Œåˆ é™¤æœ€åä¸€ä¸ªèŠ‚ç‚¹å’Œåˆ é™¤å…¶ä»–èŠ‚ç‚¹éƒ½å¯ä»¥ç»Ÿä¸€ä¸ºç›¸åŒçš„å®ç°é€»è¾‘ã€‚</p><h3 id="ç•™æ„è¾¹ç•Œæ¡ä»¶å¤„ç†"><a class="markdownIt-Anchor" href="#ç•™æ„è¾¹ç•Œæ¡ä»¶å¤„ç†"></a> ç•™æ„è¾¹ç•Œæ¡ä»¶å¤„ç†</h3><p>å¸¸ç”¨çš„æ£€æŸ¥é“¾è¡¨ä»£ç æ˜¯å¦æ­£ç¡®çš„è¾¹ç•Œæ¡ä»¶ï¼š<br />1 . å¦‚æœé“¾è¡¨ä¸ºç©ºæ—¶ï¼Œä»£ç æ˜¯å¦èƒ½æ­£å¸¸å·¥ä½œï¼Ÿ<br />2 . å¦‚æœé“¾è¡¨åªåŒ…å«ä¸€ä¸ªèŠ‚ç‚¹æ—¶ï¼Œä»£ç æ˜¯å¦èƒ½æ­£å¸¸å·¥ä½œï¼Ÿ<br />3 . å¦‚æœé“¾è¡¨åªåŒ…å«ä¸¤ä¸ªèŠ‚ç‚¹æ—¶ï¼Œä»£ç æ˜¯å¦èƒ½æ­£å¸¸å·¥ä½œï¼Ÿ<br />4 . ä»£ç é€»è¾‘åœ¨å¤„ç†å¤´å°¾èŠ‚ç‚¹æ—¶æ˜¯å¦èƒ½æ­£å¸¸å·¥ä½œï¼Ÿ</p><h2 id="æ²¡äº†"><a class="markdownIt-Anchor" href="#æ²¡äº†"></a> æ²¡äº†</h2><img src="http://m.qpic.cn/psc?/V13PUOHK44wDVX/4pNOqgOvBLvj4yTC9qc55W*yzCSuBCaxd5iynpJtvAWdOcwFnc4S2PrIWl8K0QvU0ZIe6SSDz9o3Q8eDyk*bSwhDxHmK9EuJdNhSpUlaGzs!/b&amp;bo=0ALPAtACzwIRCT4!&amp;rf=viewer_4" style="zoom:80%;" />]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;é“¾è¡¨&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#é“¾è¡¨&quot;&gt;&lt;/a&gt; é“¾è¡¨&lt;/h1&gt;
&lt;p&gt;ä»Šå¤©å¼€å§‹å­¦é“¾è¡¨äº†ï¼Œæˆ‘è§‰å¾—å­¦é“¾è¡¨å‰å¾ˆæœ‰å¿…è¦å…ˆçœ‹çœ‹æ•°ç»„&lt;/p&gt;
&lt;h2 id=&quot;æ•°ç»„&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; h</summary>
      
    
    
    
    <category term="bugçš„ç‚¼é‡‘å·¥åŠ" scheme="https://blog.youmingsama.cn/categories/bug%E7%9A%84%E7%82%BC%E9%87%91%E5%B7%A5%E5%9D%8A/"/>
    
    
    <category term="data structure" scheme="https://blog.youmingsama.cn/tags/data-structure/"/>
    
    <category term="ç®—æ³•" scheme="https://blog.youmingsama.cn/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>é“¾è¡¨å†™ä¸å‡ºæ¥å’‹æ•´å•Š</title>
    <link href="https://blog.youmingsama.cn/posts/4f36d243/"/>
    <id>https://blog.youmingsama.cn/posts/4f36d243/</id>
    <published>2020-03-05T00:00:00.000Z</published>
    <updated>2020-03-13T00:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="é“¾è¡¨å†™ä¸å‡ºæ¥å’‹æ•´å•Š"><a class="markdownIt-Anchor" href="#é“¾è¡¨å†™ä¸å‡ºæ¥å’‹æ•´å•Š"></a> é“¾è¡¨å†™ä¸å‡ºæ¥å’‹æ•´å•Š</h1><p>é“¾è¡¨å·²ç»å­¦äº†ä¸‰å››å¤©ï¼Œå®ƒä¸æ˜¯é‚£ç§å­¦ä¸ä¼šï¼Œä»–å°±æ˜¯é‚£ç§å¾ˆç‰¹åˆ«çš„ï¼Œä½ æ‡‚å§ï¼Œå•é“¾è¡¨ï¼šè¿™ä¸è¿˜æ˜¯æŒºç®€å•çš„å—ï¼ŒåŒé“¾è¡¨ï¼šå“¦å¼æœ‰ç‚¹éš¾åº¦äº†å•Šï¼Œå¾ªç¯é“¾è¡¨ï¼šï¼Œé©¬å˜ä¸ªâ€¦é©¬é©¬è™è™å•Šã€‚è·³è·ƒé“¾è¡¨ï¼šâ€¦ã€‚è‡ªç»„ç»‡é“¾è¡¨ï¼šå•¥ç©æ„å•Šï¼Ÿï¼Ÿï¼Ÿç¨€ç–è¡¨ï¼šè€å­ä¸å­¦äº†è¿˜ä¸è¡Œå—ï¼Œæ ‡å‡†æ¨¡æ¿åº“ä¸­çš„é“¾è¡¨ï¼šå¯¹ä¸èµ·å¤§çˆ·ï¼Œä¿ºé”™äº†ï¼Œé¥¶äº†ä¿ºå§.æ‰€ä»¥çŸ¥è¯†ä¸ç‰¢å›ºï¼›é“¾è¡¨åˆ†åˆ†é’Ÿæ•™ä½ åšäºº</p><p><img src="http://m.qpic.cn/psc?/V13PUOHK44wDVX/4pNOqgOvBLvj4yTC9qc55bocD0bTtWQ.2LV8GB.oKCt9h78WS7QMsvR4N7e4T0.17pDEJ55rFB1TKVKnhzerE4xqV*G.vuecToq6IbjFjjI!/b&amp;bo=JgERASYBEQECCS0!&amp;rf=viewer_4" alt="" /></p><p>å˜›æ¯•ç«Ÿä¸èƒ½ä¸€å£åä¸ªå¦å…‹ï¼Œä¸è¿‡æƒ³æƒ³çš„ç¡®é“¾è¡¨æŒºæªå¿ƒçš„ã€‚ä¿ºä»¬ç»„çš„å¤§ä½¬äººå®¶è¯´äº†ï¼Œæ·±åˆ»çš„ç†è§£å’Œä»¤äººèƒ†å¯’çš„ä»£ç é‡å¿…ç„¶å¸¦æ¥çš„ä¸ä»…ä»…æ˜¯è´¨çš„å˜åŒ–ã€‚é“ç†è°éƒ½æ‡‚ä½†ä½†åšåˆ°å¾ˆéš¾ï¼ï¼ï¼ï¼ä»Šå¤©æ‰“ç®—å¥½å¥½æ¢³ç†ä¸€ä¸‹ã€‚</p><h2 id="å•é“¾è¡¨"><a class="markdownIt-Anchor" href="#å•é“¾è¡¨"></a> å•é“¾è¡¨</h2><p>è¿™ä¸ªæˆ‘ä¹‹å‰å°±å·²ç»å§æœç´¢ï¼Œæ’å…¥ï¼Œåˆ é™¤ï¼Œä»¥åŠä¸€äº›å¸¸è§çš„æ¦‚å¿µè¯´çš„å¾ˆæ¸…æ¥šäº†å¤§æ¦‚ã€ï¼Ÿã€‘ ï¼Œæˆ‘çœ‹å®ç°å•é“¾è¡¨çš„è¯¦ç»†æ¸…å•æœ‰3é¡µè¿™å°±å·²ç»å¾ˆæ‰¯æ·¡äº†ï¼Œæ‰€ä»¥è¿™é‡Œçš„åªè¯´ä¸€äº›ç®€å•çš„å®ç°ã€‚</p><img src="http://m.qpic.cn/psc?/V13PUOHK44wDVX/4pNOqgOvBLvj4yTC9qc55fZu8oph7fUnKt.TYc0FQpD*7s8DdYnsS2aZhEi4FSpqU4d7e6n7U5Hl4twwJo41i0U9bLRitS6rClf4KrCf2gk!/b&amp;bo=wAMPA8ADDwMRCT4!&amp;rf=viewer_4" style="zoom:50%;" /><h3 id="å•é“¾è¡¨ç»“æ„"><a class="markdownIt-Anchor" href="#å•é“¾è¡¨ç»“æ„"></a> å•é“¾è¡¨ç»“æ„</h3><p>æˆ‘ä»¬è®¾è®¡ä¸€ä¸ªç®€å•çš„å•é“¾è¡¨ç»“æ„ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line"><span class="type">int</span> value; </span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">ListNode</span> *next;</span><br><span class="line">&#125;;<span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="title class_">ListNode</span>  * list;</span><br></pre></td></tr></table></figure><p>pheadä¸ºå•é“¾è¡¨çš„å¤´æŒ‡é’ˆï¼Œå®ƒæŒ‡å‘è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¤´ç»“ç‚¹çš„æ•°æ®å¯ä»¥ä¸å­˜å‚¨ç„¶åä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥è®¾è®¡æˆå­˜å‚¨çº¿æ€§è¡¨é•¿åº¦ç­‰é™„åŠ ä¿¡æ¯ã€‚</p><h3 id="æ‰“å°å•é“¾è¡¨"><a class="markdownIt-Anchor" href="#æ‰“å°å•é“¾è¡¨"></a> æ‰“å°å•é“¾è¡¨</h3><p>é¦–å…ˆï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨é“¾è¡¨æ‰“å°æ•°æ®</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span> &#123;</span></span><br><span class="line">     <span class="type">int</span> data;</span><br><span class="line">     <span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span> *<span class="title">next</span>;</span></span><br><span class="line"> &#125;;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span>  * <span class="title">list</span>;</span></span><br><span class="line">ListNode *<span class="title function_">creat</span><span class="params">(<span class="type">int</span> n)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    ListNode *phead, *p1, *p2;</span><br><span class="line">    <span class="comment">/*pheadç”¨æ¥æ ‡è®°é“¾è¡¨ï¼Œp1æ€»æ˜¯ç”¨æ¥æŒ‡å‘æ–°åˆ†é…çš„å†…å­˜ç©ºé—´ï¼Œ</span></span><br><span class="line"><span class="comment">    p2æ€»æ˜¯æŒ‡å‘å°¾ç»“ç‚¹ï¼Œå¹¶é€šè¿‡p2æ¥é“¾å…¥æ–°åˆ†é…çš„ç»“ç‚¹*/</span></span><br><span class="line">    <span class="type">int</span> a;</span><br><span class="line">    phead = <span class="literal">NULL</span>;</span><br><span class="line">    p2 = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        p1 = (ListNode *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(ListNode));</span><br><span class="line">        <span class="comment">/*åŠ¨æ€åˆ†é…å†…å­˜ç©ºé—´ï¼Œå¹¶æ•°æ®è½¬æ¢ä¸º(struct LNode)ç±»å‹*/</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;è¯·è¾“å…¥é“¾è¡¨ä¸­çš„ç¬¬%dä¸ªæ•°ï¼š&quot;</span>, i);</span><br><span class="line">       <span class="built_in">cin</span>&gt;&gt;a;</span><br><span class="line">        p1-&gt;data = a;</span><br><span class="line">        <span class="keyword">if</span> (phead == <span class="literal">NULL</span>)<span class="comment">/*æŒ‡å®šé“¾è¡¨çš„å¤´æŒ‡é’ˆ*/</span></span><br><span class="line">        &#123;</span><br><span class="line">            phead = p1;</span><br><span class="line">            p2 = p1;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            p2-&gt;next = p1;</span><br><span class="line">            p2 = p1;</span><br><span class="line">        &#125;</span><br><span class="line">        p2-&gt;next = <span class="literal">NULL</span>;<span class="comment">/*å°¾ç»“ç‚¹çš„åç»§æŒ‡é’ˆä¸ºNULL(ç©º)*/</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> phead;<span class="comment">/*è¿”å›é“¾è¡¨çš„å¤´æŒ‡é’ˆ*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    ListNode *q;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;è¯·è¾“å…¥é“¾è¡¨çš„é•¿åº¦ï¼š\n&quot;</span>);</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    q = creat(n);<span class="comment">/*é“¾è¡¨çš„å¤´æŒ‡é’ˆ(head)æ¥æ ‡è®°æ•´ä¸ªé“¾è¡¨*/</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;é“¾è¡¨ä¸­çš„æ•°æ®ï¼š\n&quot;</span>);</span><br><span class="line">    <span class="keyword">while</span> (q)<span class="comment">/*ç›´åˆ°ç»“ç‚¹qä¸ºNULLç»“æŸå¾ªç¯*/</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, q-&gt;data);<span class="comment">/*è¾“å‡ºç»“ç‚¹ä¸­çš„å€¼*/</span></span><br><span class="line">        q = q-&gt;next;<span class="comment">/*æŒ‡å‘ä¸‹ä¸€ä¸ªç»“ç‚¹*/</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨é‡Šå¾ˆå¾ˆå¾ˆå¾ˆå¾ˆæ¸…æ¥šäº†ï¼Œå°±ä¸è§£é‡Šäº†</p><p>æˆ‘è¿™è¾¹è¿˜æœ‰æˆ‘ç¬¬ä¸€æ¬¡å†™çš„ä¸€ä¸ªdemoï¼Œå’Œè¿™ä¸ªæ„æ€ä¹Ÿæ˜¯ä¸€æ ·çš„</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Node</span>&#123;</span><br><span class="line"><span class="type">int</span> data;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Node</span>* next;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function">Node*<span class="title">creat</span><span class="params">(<span class="type">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">Node</span>* head, *p1,*p2;</span><br><span class="line">    head=(<span class="keyword">struct</span> Node*)<span class="built_in">malloc</span>(<span class="built_in">sizeof</span>(<span class="keyword">struct</span> Node));</span><br><span class="line">    p1=head;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        p2=(<span class="keyword">struct</span> Node*)<span class="built_in">malloc</span>(<span class="built_in">sizeof</span>(<span class="keyword">struct</span> Node)); </span><br><span class="line">        p2-&gt;data=i+<span class="number">1</span>;</span><br><span class="line">        p1-&gt;next=p2;</span><br><span class="line">        p1=p2;</span><br><span class="line">    &#125;</span><br><span class="line">    p2-&gt;next=<span class="literal">nullptr</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> head-&gt;next;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> <span class="type">int</span> n;</span><br><span class="line">    Node *q;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;è¯·è¾“å…¥é“¾è¡¨çš„é•¿åº¦ï¼š\n&quot;</span>);</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    q = <span class="built_in">creat</span>(n);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;é“¾è¡¨ä¸­çš„æ•°æ®ï¼š\n&quot;</span>);</span><br><span class="line">    <span class="keyword">while</span> (q)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, q-&gt;data);</span><br><span class="line">        q = q-&gt;next;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å•é“¾è¡¨æ’åº"><a class="markdownIt-Anchor" href="#å•é“¾è¡¨æ’åº"></a> å•é“¾è¡¨æ’åº</h3><p>ä¸‹é¢å®ç°ç¨å¾®å¤æ‚çš„ä¸€äº›çš„é“¾è¡¨æ“ä½œï¼Œæ¯”å¦‚å•é“¾è¡¨çš„æ’åºï¼Œå•ç‹¬æ’åºåŠŸèƒ½å®ç°å¸¸è§çš„å°±æœ‰æ’å…¥æ’åºï¼Œå†’æ³¡æ’åºï¼Œç®€å•æ’åºï¼Œå¿«é€Ÿæ’åºï¼Œè¿™é‡Œæˆ‘ä»¬ç®€å•å®ç°ä¸€äº›æ’å…¥æ’åºå¥½äº†ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">sort</span><span class="params">(list linklist)</span></span></span><br><span class="line"><span class="function"></span>&#123;      <span class="comment">/*å¦‚æœé“¾è¡¨æ²¡æœ‰å…ƒç´ ï¼Œæˆ–è€…åªæœ‰ä¸€ä¸ªå…ƒç´ å°±ç›´æ¥è¿”å›*/</span></span><br><span class="line">    <span class="keyword">if</span>((linklist -&gt; next == <span class="literal">NULL</span>) || (linklist -&gt; next -&gt; next == <span class="literal">NULL</span>))</span><br><span class="line">    &#123;          </span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;   </span><br><span class="line">    ListNode * phead, * p1, * prep1, * p2, * prep2, * temp;</span><br><span class="line">    phead = linklist;</span><br><span class="line">    prep1 = phead -&gt; next;</span><br><span class="line">    p1 = prep1 -&gt; next;</span><br><span class="line">    <span class="comment">//prep1å’Œp1æ˜¯å¦éœ€è¦æ‰‹åŠ¨åç§»    </span></span><br><span class="line">    <span class="type">bool</span> flag;</span><br><span class="line">    <span class="keyword">while</span>(p1 != <span class="literal">NULL</span>) </span><br><span class="line">    &#123;           </span><br><span class="line">        flag = <span class="literal">true</span>;</span><br><span class="line">        temp = p1;   </span><br><span class="line">        <span class="comment">//ç”±äºæ˜¯å•å‘é“¾è¡¨ï¼Œæ‰€ä»¥åªèƒ½ä»å¤´éƒ¨å¼€å§‹æ£€ç´¢ </span></span><br><span class="line">        <span class="keyword">for</span>(prep2 = head, p2 = prep2 -&gt; next; p2 != p1; prep2 = prep2 -&gt; next, p2 = p2 -&gt; next) </span><br><span class="line">        &#123;               </span><br><span class="line">            <span class="comment">//å‘ç°ç¬¬ä¸€ä¸ªè¾ƒå¤§å€¼</span></span><br><span class="line">            <span class="keyword">if</span>(p2 -&gt; data &gt; p1 -&gt; data) </span><br><span class="line">            &#123;         </span><br><span class="line">                p1 = p1 -&gt; next;   </span><br><span class="line">                prep1 -&gt; next = p1;     </span><br><span class="line">                prep2 -&gt; next = temp;     </span><br><span class="line">                temp -&gt; next = p2;        </span><br><span class="line">                flag = <span class="literal">false</span>;            </span><br><span class="line">                <span class="keyword">break</span>;           </span><br><span class="line">            &#125;          </span><br><span class="line">        &#125;    </span><br><span class="line">        <span class="comment">//æ‰‹åŠ¨åç§»prep1å’Œp1  </span></span><br><span class="line">        <span class="keyword">if</span>(flag) </span><br><span class="line">        &#123;        </span><br><span class="line">            prep1 = prep1 -&gt; next;  </span><br><span class="line">            p1 = p1 -&gt; next; </span><br><span class="line">        &#125;     </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šçš„æ“ä½œéƒ½ä¸æ˜¯å¾ˆéš¾é‚£æˆ‘ä»¬å†è¯•è¯•åè½¬</p><img src="http://m.qpic.cn/psc?/V13PUOHK44wDVX/4pNOqgOvBLvj4yTC9qc55Zplq0BElpbDCNHtqLZGAIYFxaG2Wqgn2xMxrily8fh*E6rEa2Ja4B8kApjp0cgCJ0I3gUG0U4SPYl*E1anA*Eg!/b&amp;bo=cQJwAnECcAIRGS4!&amp;rf=viewer_4" style="zoom:50%;" /><h3 id="å•é“¾è¡¨ç¿»è½¬"><a class="markdownIt-Anchor" href="#å•é“¾è¡¨ç¿»è½¬"></a> å•é“¾è¡¨ç¿»è½¬</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">ListNode <span class="title function_">reverse</span><span class="params">(<span class="built_in">list</span> linklist)</span><span class="comment">//ä¸¤ä¸¤èŠ‚ç‚¹ä¹‹é—´ä¸æ–­äº¤æ¢</span></span><br><span class="line">&#123;  ListNode *pheadï¼›</span><br><span class="line">    phead = linklist;</span><br><span class="line"> <span class="comment">/*å¦‚æœä¸ºç©ºç›´æ¥è¿”å›*/</span> </span><br><span class="line"> <span class="keyword">if</span>(phead == <span class="literal">NULL</span> || phead-&gt;next == <span class="literal">NULL</span>) </span><br><span class="line">     <span class="keyword">return</span> phead;  <span class="comment">//å®šä¹‰ä¿©ä¸ªè¾…åŠ©æŒ‡é’ˆå˜é‡ </span></span><br><span class="line"> ListNode pre = <span class="literal">NULL</span>; </span><br><span class="line"> ListNode next = <span class="literal">NULL</span>; </span><br><span class="line"> <span class="comment">//å¼€å§‹è¿›è¡Œç¿»è½¬  </span></span><br><span class="line"> <span class="keyword">while</span>(phead != <span class="literal">NULL</span>)&#123;  </span><br><span class="line">     <span class="comment">//è®©è¾…åŠ©æŒ‡é’ˆnextæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¦‚æœæ˜¯ç¬¬ä¸€æ¬¡è¿›å…¥å°±æ˜¯æŒ‡å‘å¤´æŒ‡é’ˆä¸‹ä¸€è·³  </span></span><br><span class="line">     next = phead-&gt;next;  </span><br><span class="line">     <span class="comment">//è®©å½“å‰èŠ‚ç‚¹æŒ‡å‘pre   </span></span><br><span class="line">     phead-&gt;next = pre;   </span><br><span class="line">     <span class="comment">//è¿›è¡Œè°ƒæ¢    </span></span><br><span class="line">     pre = phead;  </span><br><span class="line">     <span class="comment">//å¹¶è®©å¤´èŠ‚ç‚¹æŒ‡å‘ä¸‹ä¸€è·³  </span></span><br><span class="line">     phead = next;</span><br><span class="line"> &#125;  <span class="comment">//è¿”å›preå°±æ˜¯æ–°ç”Ÿæˆçš„å¤´ç»“ç‚¹ </span></span><br><span class="line"> <span class="keyword">return</span> pre;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>emmmmmè‡³äºå‰©ä¸‹çš„æ’å…¥ï¼Œåˆ é™¤ï¼Œè¿˜æœ‰å°è£…ç­‰æˆ‘ä¼šäº†åœ¨å¡«å‘å§ï¼ï¼ï¼å°±é…±</p><p><img src="http://m.qpic.cn/psc?/V13PUOHK44wDVX/4pNOqgOvBLvj4yTC9qc55cTYZa3tBaHo2zJu3BoyFpwlJ6jHEdtpnq7KEL09umXIR005nuqYSJ4XqilQvvafaHpRpOQU73.*6bCKQ*x5*60!/b&amp;bo=VQOAAlUDgAIRGS4!&amp;rf=viewer_4" alt="" /></p><h2 id="æˆ‘å›æ¥å¡«å‘å•¦"><a class="markdownIt-Anchor" href="#æˆ‘å›æ¥å¡«å‘å•¦"></a> æˆ‘å›æ¥å¡«å‘å•¦</h2><p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/2988714247500569.jpg" alt="" /></p><p>å¤§æ¦‚ç®—æ˜¯é¦–æ¬¡å¡«å‘ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿ</p><p>å¤§æ¦‚é‡æ–°å†™äº†ä¸€éåˆæœ‰äº†æ–°çš„æ„Ÿæ‚Ÿå§ï¼Œè¿™ç®—ä¸ç®—å¡«å‘å•Šã€è‹¦æ¼ã€‘ï¼Œæœ‰æ—¶é—´åºŸè¯è¿˜ä¸å¦‚ç›´æ¥ä¸Šä»£ç ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt; stdio.h&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt; stdlib.h&gt;</span>  </span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> ElemType;  </span><br><span class="line"><span class="comment">////////////////////////////////////////////   </span></span><br><span class="line"><span class="comment">//å®šä¹‰ç»“ç‚¹ç±»å‹   </span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="title class_">Node</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    ElemType data;              <span class="comment">//å•é“¾è¡¨ä¸­çš„æ•°æ®åŸŸ   </span></span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">Node</span> *next;          <span class="comment">//å•é“¾è¡¨çš„æŒ‡é’ˆåŸŸ   </span></span><br><span class="line">&#125;Node,*LinkedList;  </span><br><span class="line"><span class="comment">////////////////////////////////////////////   </span></span><br><span class="line"><span class="comment">//å•é“¾è¡¨çš„åˆå§‹åŒ–  </span></span><br><span class="line"><span class="function">LinkedList <span class="title">LinkedListInit</span><span class="params">()</span>  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    Node *L;  </span><br><span class="line">    L = <span class="keyword">new</span> Node;   <span class="comment">//ç”³è¯·ç»“ç‚¹ç©ºé—´   </span></span><br><span class="line">    <span class="keyword">if</span>(L == <span class="literal">nullptr</span>)                       <span class="comment">//åˆ¤æ–­æ˜¯å¦æœ‰è¶³å¤Ÿçš„å†…å­˜ç©ºé—´   </span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;ç”³è¯·å†…å­˜ç©ºé—´å¤±è´¥/n&quot;</span>);  </span><br><span class="line">    L-&gt;next = <span class="literal">nullptr</span>;                  <span class="comment">//å°†nextè®¾ç½®ä¸ºNULL,åˆå§‹é•¿åº¦ä¸º0çš„å•é“¾è¡¨   </span></span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">////////////////////////////////////////////   </span></span><br><span class="line"><span class="comment">//å•é“¾è¡¨çš„å»ºç«‹1ï¼Œå¤´æ’æ³•å»ºç«‹å•é“¾è¡¨  </span></span><br><span class="line"><span class="function">LinkedList <span class="title">LinkedListCreatH</span><span class="params">()</span>  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    Node *L;  </span><br><span class="line">    L = <span class="keyword">new</span> Node;   <span class="comment">//ç”³è¯·å¤´ç»“ç‚¹ç©ºé—´  </span></span><br><span class="line">    L-&gt;next = <span class="literal">nullptr</span>;                      <span class="comment">//åˆå§‹åŒ–ä¸€ä¸ªç©ºé“¾è¡¨  </span></span><br><span class="line">      </span><br><span class="line">    ElemType x;                         <span class="comment">//xä¸ºé“¾è¡¨æ•°æ®åŸŸä¸­çš„æ•°æ®  </span></span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x) != EOF)  </span><br><span class="line">    &#123;  </span><br><span class="line">        Node *p;  </span><br><span class="line">        p = <span class="keyword">new</span> Node; <span class="comment">//ç”³è¯·æ–°çš„ç»“ç‚¹   </span></span><br><span class="line">        p-&gt;data = x;                     <span class="comment">//ç»“ç‚¹æ•°æ®åŸŸèµ‹å€¼   </span></span><br><span class="line">        p-&gt;next = L-&gt;next;                    <span class="comment">//å°†ç»“ç‚¹æ’å…¥åˆ°è¡¨å¤´L--&gt;|2|--&gt;|1|--&gt;NULL   </span></span><br><span class="line">        L-&gt;next = p;   </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">return</span> L;   </span><br><span class="line">&#125;   </span><br><span class="line"><span class="comment">////////////////////////////////////////////   </span></span><br><span class="line"><span class="comment">//å•é“¾è¡¨çš„å»ºç«‹2ï¼Œå°¾æ’æ³•å»ºç«‹å•é“¾è¡¨  </span></span><br><span class="line"><span class="function">LinkedList <span class="title">LinkedListCreatT</span><span class="params">()</span>  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    Node *L;  </span><br><span class="line">    L = <span class="keyword">new</span> Node;   <span class="comment">//ç”³è¯·å¤´ç»“ç‚¹ç©ºé—´  </span></span><br><span class="line">    L-&gt;next = <span class="literal">nullptr</span>;                  <span class="comment">//åˆå§‹åŒ–ä¸€ä¸ªç©ºé“¾è¡¨  </span></span><br><span class="line">    Node *r;  </span><br><span class="line">    r = L;                          <span class="comment">//rå§‹ç»ˆæŒ‡å‘ç»ˆç«¯ç»“ç‚¹ï¼Œå¼€å§‹æ—¶æŒ‡å‘å¤´ç»“ç‚¹   </span></span><br><span class="line">    ElemType x;                         <span class="comment">//xä¸ºé“¾è¡¨æ•°æ®åŸŸä¸­çš„æ•°æ®  </span></span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x) != EOF)  </span><br><span class="line">    &#123;  </span><br><span class="line">        Node *p;  </span><br><span class="line">        p = <span class="keyword">new</span> Node;  <span class="comment">//ç”³è¯·æ–°çš„ç»“ç‚¹   </span></span><br><span class="line">        p-&gt;data = x;                     <span class="comment">//ç»“ç‚¹æ•°æ®åŸŸèµ‹å€¼   </span></span><br><span class="line">        r-&gt;next = p;                 <span class="comment">//å°†ç»“ç‚¹æ’å…¥åˆ°è¡¨å¤´L--&gt;|1|--&gt;|2|--&gt;NULL   </span></span><br><span class="line">        r = p;   </span><br><span class="line">    &#125;  </span><br><span class="line">    r-&gt;next = <span class="literal">nullptr</span>;   </span><br><span class="line">      </span><br><span class="line">    <span class="keyword">return</span> L;     </span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">////////////////////////////////////////////   </span></span><br><span class="line"><span class="comment">//å•é“¾è¡¨çš„æ’å…¥ï¼Œåœ¨é“¾è¡¨çš„ç¬¬iä¸ªä½ç½®æ’å…¥xçš„å…ƒç´   </span></span><br><span class="line"><span class="function">LinkedList <span class="title">LinkedListInsert</span><span class="params">(LinkedList L,<span class="type">int</span> i,ElemType x)</span>  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    Node *pre;                      <span class="comment">//preä¸ºå‰é©±ç»“ç‚¹   </span></span><br><span class="line">    pre = L;  </span><br><span class="line">    <span class="type">int</span> tempi = <span class="number">0</span>;  </span><br><span class="line">    <span class="keyword">for</span> (tempi = <span class="number">1</span>; tempi &lt; i; tempi++)  </span><br><span class="line">        pre = pre-&gt;next;                 <span class="comment">//æŸ¥æ‰¾ç¬¬iä¸ªä½ç½®çš„å‰é©±ç»“ç‚¹   </span></span><br><span class="line">    Node *p;                                <span class="comment">//æ’å…¥çš„ç»“ç‚¹ä¸ºp  </span></span><br><span class="line">    p = <span class="keyword">new</span> Node;  </span><br><span class="line">    p-&gt;data = x;   </span><br><span class="line">    p-&gt;next = pre-&gt;next;  </span><br><span class="line">    pre-&gt;next = p;  </span><br><span class="line">      </span><br><span class="line">    <span class="keyword">return</span> L;                             </span><br><span class="line">&#125;   </span><br><span class="line"><span class="comment">////////////////////////////////////////////   </span></span><br><span class="line"><span class="comment">//å•é“¾è¡¨çš„åˆ é™¤ï¼Œåœ¨é“¾è¡¨ä¸­åˆ é™¤å€¼ä¸ºxçš„å…ƒç´   </span></span><br><span class="line"><span class="function">LinkedList <span class="title">LinkedListDelete</span><span class="params">(LinkedList L,ElemType x)</span>  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    Node *p,*pre;                   <span class="comment">//preä¸ºå‰é©±ç»“ç‚¹ï¼Œpä¸ºæŸ¥æ‰¾çš„ç»“ç‚¹ã€‚   </span></span><br><span class="line">    p = L-&gt;next;  </span><br><span class="line">    <span class="keyword">while</span>(p-&gt;data != x)              <span class="comment">//æŸ¥æ‰¾å€¼ä¸ºxçš„å…ƒç´    </span></span><br><span class="line">    &#123;     </span><br><span class="line">        pre = p;   </span><br><span class="line">        p = p-&gt;next;  </span><br><span class="line">    &#125;  </span><br><span class="line">    pre-&gt;next = p-&gt;next;          <span class="comment">//åˆ é™¤æ“ä½œï¼Œå°†å…¶å‰é©±nextæŒ‡å‘å…¶åç»§ã€‚   </span></span><br><span class="line">    <span class="built_in">free</span>(p);  </span><br><span class="line">    <span class="keyword">return</span> L;  </span><br><span class="line">&#125;   </span><br><span class="line"><span class="comment">/////////////////////////////////////////////  </span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span>  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    LinkedList list,start;  </span><br><span class="line"> <span class="built_in">printf</span>(<span class="string">&quot;è¯·è¾“å…¥å•é“¾è¡¨çš„æ•°æ®ï¼š&quot;</span>);  </span><br><span class="line">    list = <span class="built_in">LinkedListCreatH</span>(); </span><br><span class="line">    <span class="keyword">for</span>(start = list-&gt;next; start != <span class="literal">nullptr</span>; start = start-&gt;next) </span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,start-&gt;data); </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;/n&quot;</span>); </span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;è¯·è¾“å…¥å•é“¾è¡¨çš„æ•°æ®ï¼š&quot;</span>);   </span><br><span class="line">    list = <span class="built_in">LinkedListCreatT</span>();  </span><br><span class="line">    <span class="keyword">for</span>(start = list-&gt;next; start != <span class="literal">nullptr</span>; start = start-&gt;next)  </span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,start-&gt;data);  </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;/n&quot;</span>);  </span><br><span class="line">    <span class="type">int</span> i;  </span><br><span class="line">    ElemType x;  </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;è¯·è¾“å…¥æ’å…¥æ•°æ®çš„ä½ç½®ï¼š&quot;</span>);  </span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;i);  </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;è¯·è¾“å…¥æ’å…¥æ•°æ®çš„å€¼ï¼š&quot;</span>);  </span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x);  </span><br><span class="line">    <span class="built_in">LinkedListInsert</span>(list,i,x);  </span><br><span class="line">    <span class="keyword">for</span>(start = list-&gt;next; start != <span class="literal">nullptr</span>; start = start-&gt;next)  </span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,start-&gt;data);  </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;/n&quot;</span>);  </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;è¯·è¾“å…¥è¦åˆ é™¤çš„å…ƒç´ çš„å€¼ï¼š&quot;</span>);  </span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x);  </span><br><span class="line">    <span class="built_in">LinkedListDelete</span>(list,x);   </span><br><span class="line">    <span class="keyword">for</span>(start = list-&gt;next; start != <span class="literal">nullptr</span>; start = start-&gt;next)  </span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,start-&gt;data);  </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;/n&quot;</span>);  </span><br><span class="line">      </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;  </span><br><span class="line">&#125;   </span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¯è¯´ä¸æ—¶ä»£è½åçš„è€çˆ·çˆ·ç»ˆäºç”¨ä¸Šäº†nullptrã€é›¾ã€‘</p><img src="https://npm.elemecdn.com/youmingsama_pic@1.0.0/PicGo/img/maomaopao.gif" style="zoom:150%;" />]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;é“¾è¡¨å†™ä¸å‡ºæ¥å’‹æ•´å•Š&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#é“¾è¡¨å†™ä¸å‡ºæ¥å’‹æ•´å•Š&quot;&gt;&lt;/a&gt; é“¾è¡¨å†™ä¸å‡ºæ¥å’‹æ•´å•Š&lt;/h1&gt;
&lt;p&gt;é“¾è¡¨å·²ç»å­¦äº†ä¸‰å››å¤©ï¼Œå®ƒä¸æ˜¯é‚£ç§å­¦ä¸ä¼šï¼Œä»–å°±æ˜¯é‚£ç§å¾ˆç‰¹åˆ«çš„ï¼Œä½ æ‡‚å§ï¼Œå•é“¾è¡¨ï¼šè¿™ä¸è¿˜æ˜¯æŒºç®€å•çš„å—ï¼ŒåŒé“¾è¡¨ï¼š</summary>
      
    
    
    
    <category term="bugçš„ç‚¼é‡‘å·¥åŠ" scheme="https://blog.youmingsama.cn/categories/bug%E7%9A%84%E7%82%BC%E9%87%91%E5%B7%A5%E5%9D%8A/"/>
    
    
    <category term="data structure" scheme="https://blog.youmingsama.cn/tags/data-structure/"/>
    
    <category term="ç®—æ³•" scheme="https://blog.youmingsama.cn/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
</feed>
